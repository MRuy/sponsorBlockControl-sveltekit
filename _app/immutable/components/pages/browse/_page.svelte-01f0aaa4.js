import{S as rt,i as ot,s as it,k as f,q as $,l as d,m as _,r as S,h as u,n as h,H as xe,b as j,D as l,u as be,E as Qe,I as Oe,N as Zt,X as Vt,O as xt,P as es,Q as ts,f as G,t as Q,J as Ht,Y as Pt,Z as ss,A as ls,v as _e,a as T,w as me,c as k,x as ge,_ as Je,g as Wt,d as Jt,y as pe,R as Kt,G as Qt,e as vt,F as Xt,p as as,$ as ns,a0 as rs,a1 as os,W as is,a2 as us,a3 as Mt,a4 as cs,a5 as fs,o as ds,a6 as hs}from"../../../chunks/index-a74698fd.js";import{C as _s}from"../../../chunks/config-1a541b95.js";import{a as ms,S as ht}from"../../../chunks/Status-b63e8986.js";import{g as gs}from"../../../chunks/navigation-afe4d82e.js";import{c as ps}from"../../../chunks/singletons-f29f732f.js";import{V as vs}from"../../../chunks/VideoInput-90c4ce83.js";function bs(s){let e,t,a,n,i,r=s[1].toString().padStart(2,"0")+"",c,o,g,w=s[2].toString().padStart(2,"0")+"",H,re,U,E;return{c(){e=f("span"),t=f("span"),a=$(s[0]),n=$(":"),i=f("span"),c=$(r),o=$(":"),g=f("span"),H=$(w),re=$("."),U=f("span"),E=$(s[3]),this.h()},l(I){e=d(I,"SPAN",{class:!0});var D=_(e);t=d(D,"SPAN",{class:!0});var M=_(t);a=S(M,s[0]),n=S(M,":"),M.forEach(u),i=d(D,"SPAN",{class:!0});var A=_(i);c=S(A,r),o=S(A,":"),A.forEach(u),g=d(D,"SPAN",{class:!0});var N=_(g);H=S(N,w),re=S(N,"."),N.forEach(u),U=d(D,"SPAN",{class:!0});var B=_(U);E=S(B,s[3]),B.forEach(u),D.forEach(u),this.h()},h(){h(t,"class","svelte-58feot"),xe(t,"inactive",s[0]===0),h(i,"class","svelte-58feot"),xe(i,"inactive",s[1]===0),h(g,"class",""),h(U,"class","milliseconds svelte-58feot"),h(e,"class","time svelte-58feot")},m(I,D){j(I,e,D),l(e,t),l(t,a),l(t,n),l(e,i),l(i,c),l(i,o),l(e,g),l(g,H),l(g,re),l(e,U),l(U,E)},p(I,[D]){D&1&&be(a,I[0]),D&1&&xe(t,"inactive",I[0]===0),D&2&&r!==(r=I[1].toString().padStart(2,"0")+"")&&be(c,r),D&2&&xe(i,"inactive",I[1]===0),D&4&&w!==(w=I[2].toString().padStart(2,"0")+"")&&be(H,w),D&8&&be(E,I[3])},i:Qe,o:Qe,d(I){I&&u(e)}}}let kt=3;function $s(s,e,t){let{value:a=0}=e,n=0,i=0,r=0,c="0";return s.$$set=o=>{"value"in o&&t(4,a=o.value)},s.$$.update=()=>{if(s.$$.dirty&16){let o=Number(a),g=o.toString();t(3,c="0".repeat(kt)),g.includes(".")&&t(3,c=g.split(".")[1].padEnd(kt,"0").slice(0,kt)),o=Math.floor(a),t(0,n=Math.floor(o/3600)),t(1,i=Math.floor(o/60%60)),t(2,r=Math.floor(o%60))}},[n,i,r,c,a]}class Dt extends rt{constructor(e){super(),ot(this,e,$s,bs,it,{value:4})}}function Rt(s){let e,t;return{c(){e=f("div"),t=$("Copied!"),this.h()},l(a){e=d(a,"DIV",{class:!0});var n=_(e);t=S(n,"Copied!"),n.forEach(u),this.h()},h(){h(e,"class","success svelte-1f7dggz")},m(a,n){j(a,e,n),l(e,t)},d(a){a&&u(e)}}}function Ss(s){let e,t,a,n,i=s[1]&&Rt();return{c(){e=f("button"),i&&i.c(),t=$(`
  \u2702`),this.h()},l(r){e=d(r,"BUTTON",{title:!0,class:!0});var c=_(e);i&&i.l(c),t=S(c,`
  \u2702`),c.forEach(u),this.h()},h(){h(e,"title",s[0]),h(e,"class","svelte-1f7dggz")},m(r,c){j(r,e,c),i&&i.m(e,null),l(e,t),a||(n=Oe(e,"click",s[4]),a=!0)},p(r,[c]){r[1]?i||(i=Rt(),i.c(),i.m(e,t)):i&&(i.d(1),i=null),c&1&&h(e,"title",r[0])},i:Qe,o:Qe,d(r){r&&u(e),i&&i.d(),a=!1,n()}}}function Es(s,e,t){let{value:a=""}=e,{title:n="Copy to clipboard"}=e,i=!1;function r(){navigator.clipboard.writeText(a).then(()=>{console.log("Copied to clipboard"),t(1,i=!0),setTimeout(o=>{t(1,i=!1)},2e3)},o=>{console.log("Failed to copy into clipboard",o)})}const c=o=>r();return s.$$set=o=>{"value"in o&&t(3,a=o.value),"title"in o&&t(0,n=o.title)},[n,i,r,a,c]}class Ot extends rt{constructor(e){super(),ot(this,e,Es,Ss,it,{value:3,title:0})}}function Ts(s){let e,t,a,n,i,r;const c=s[5].default,o=Zt(c,s,s[4],null);return{c(){e=f("span"),o&&o.c(),this.h()},l(g){e=d(g,"SPAN",{class:!0,title:!0});var w=_(e);o&&o.l(w),w.forEach(u),this.h()},h(){h(e,"class",t=Vt(`header ${s[3].class}`)+" svelte-1s8upei"),h(e,"title",a=`Sort by ${s[0]}`),xe(e,"active",s[2]===s[0]),xe(e,"sort--asc",s[1]==="ASC")},m(g,w){j(g,e,w),o&&o.m(e,null),n=!0,i||(r=Oe(e,"click",s[6]),i=!0)},p(g,[w]){o&&o.p&&(!n||w&16)&&xt(o,c,g,g[4],n?ts(c,g[4],w,null):es(g[4]),null),(!n||w&8&&t!==(t=Vt(`header ${g[3].class}`)+" svelte-1s8upei"))&&h(e,"class",t),(!n||w&1&&a!==(a=`Sort by ${g[0]}`))&&h(e,"title",a),(!n||w&13)&&xe(e,"active",g[2]===g[0]),(!n||w&10)&&xe(e,"sort--asc",g[1]==="ASC")},i(g){n||(G(o,g),n=!0)},o(g){Q(o,g),n=!1},d(g){g&&u(e),o&&o.d(g),i=!1,r()}}}function ks(s,e,t){let{$$slots:a={},$$scope:n}=e,{name:i}=e,{sorting:r="DESC"}=e,{current:c=""}=e;function o(g){ss.call(this,s,g)}return s.$$set=g=>{t(3,e=Ht(Ht({},e),Pt(g))),"name"in g&&t(0,i=g.name),"sorting"in g&&t(1,r=g.sorting),"current"in g&&t(2,c=g.current),"$$scope"in g&&t(4,n=g.$$scope)},e=Pt(e),[i,r,c,e,n,a,o]}class Ke extends rt{constructor(e){super(),ot(this,e,ks,Ts,it,{name:0,sorting:1,current:2})}}const Ds=ls([{id:"sponsor",color:"#00d400"},{id:"intro",color:"#00ffff"},{id:"outro",color:"#0202ed"},{id:"interaction",color:"#cc00ff"},{id:"selfpromo",color:"#ffff00"},{id:"music_offtopic",color:"#ff9900"},{id:"preview",color:"#0b9d65"},{id:"poi_highlight",color:"#ff1684"},{id:"filler",color:"#7300ff"}]);function qt(s,e,t){const a=s.slice();return a[11]=e[t],a}function ws(s){let e;return{c(){e=$("Submitted")},l(t){e=S(t,"Submitted")},m(t,a){j(t,e,a)},d(t){t&&u(e)}}}function Is(s){let e;return{c(){e=$("Start/End")},l(t){e=S(t,"Start/End")},m(t,a){j(t,e,a)},d(t){t&&u(e)}}}function ys(s){let e;return{c(){e=$("Votes")},l(t){e=S(t,"Votes")},m(t,a){j(t,e,a)},d(t){t&&u(e)}}}function Cs(s){let e;return{c(){e=$("Views")},l(t){e=S(t,"Views")},m(t,a){j(t,e,a)},d(t){t&&u(e)}}}function As(s){let e;return{c(){e=$("Category")},l(t){e=S(t,"Category")},m(t,a){j(t,e,a)},d(t){t&&u(e)}}}function Ls(s){let e;return{c(){e=$("Hidden")},l(t){e=S(t,"Hidden")},m(t,a){j(t,e,a)},d(t){t&&u(e)}}}function Ns(s){let e;return{c(){e=$("Actiontype")},l(t){e=S(t,"Actiontype")},m(t,a){j(t,e,a)},d(t){t&&u(e)}}}function Bs(s){let e;return{c(){e=$("ShadowHidden")},l(t){e=S(t,"ShadowHidden")},m(t,a){j(t,e,a)},d(t){t&&u(e)}}}function Us(s){let e;return{c(){e=$("Locked")},l(t){e=S(t,"Locked")},m(t,a){j(t,e,a)},d(t){t&&u(e)}}}function Vs(s){let e,t,a=s[2],n=[];for(let r=0;r<a.length;r+=1)n[r]=Ft(qt(s,a,r));const i=r=>Q(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=vt()},l(r){for(let c=0;c<n.length;c+=1)n[c].l(r);e=vt()},m(r,c){for(let o=0;o<n.length;o+=1)n[o].m(r,c);j(r,e,c),t=!0},p(r,c){if(c&116){a=r[2];let o;for(o=0;o<a.length;o+=1){const g=qt(r,a,o);n[o]?(n[o].p(g,c),G(n[o],1)):(n[o]=Ft(g),n[o].c(),G(n[o],1),n[o].m(e.parentNode,e))}for(Wt(),o=a.length;o<n.length;o+=1)i(o);Jt()}},i(r){if(!t){for(let c=0;c<a.length;c+=1)G(n[c]);t=!0}},o(r){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)Q(n[c]);t=!1},d(r){Xt(n,r),r&&u(e)}}}function Hs(s){let e,t,a,n;return{c(){e=f("tr"),t=f("td"),a=f("div"),n=$("Loading data..."),this.h()},l(i){e=d(i,"TR",{});var r=_(e);t=d(r,"TD",{colspan:!0,class:!0});var c=_(t);a=d(c,"DIV",{class:!0});var o=_(a);n=S(o,"Loading data..."),o.forEach(u),c.forEach(u),r.forEach(u),this.h()},h(){h(a,"class","loading svelte-19x84r4"),h(t,"colspan","12"),h(t,"class","svelte-19x84r4")},m(i,r){j(i,e,r),l(e,t),l(t,a),l(a,n)},p:Qe,i:Qe,o:Qe,d(i){i&&u(e)}}}function zt(s){let e,t;return{c(){e=f("span"),t=$("\u274C"),this.h()},l(a){e=d(a,"SPAN",{class:!0,title:!0});var n=_(e);t=S(n,"\u274C"),n.forEach(u),this.h()},h(){h(e,"class","removed svelte-19x84r4"),h(e,"title","Segment removed")},m(a,n){j(a,e,n),l(e,t)},d(a){a&&u(e)}}}function Ps(s){let e;return{c(){e=$("\u2014")},l(t){e=S(t,"\u2014")},m(t,a){j(t,e,a)},d(t){t&&u(e)}}}function Ms(s){let e,t;return{c(){e=f("span"),t=$("\u{1F512}"),this.h()},l(a){e=d(a,"SPAN",{class:!0,title:!0});var n=_(e);t=S(n,"\u{1F512}"),n.forEach(u),this.h()},h(){h(e,"class","locked svelte-19x84r4"),h(e,"title","Locked by VIP/Moderator")},m(a,n){j(a,e,n),l(e,t)},d(a){a&&u(e)}}}function Ft(s){let e,t,a=Yt(s[11].timeSubmitted)+"",n,i,r,c,o,g,w,H,re,U,E,I,D,M,A=s[11].votes+"",N,B,$e,le=s[11].views+"",F,ye,te,W,X=s[11].category+"",Z,Y,Ce,V,L=(s[11].hidden||"\u2014")+"",oe,ie,ce,R,se=(s[11].actionType in s[4]?s[4][s[11].actionType]:s[11].actionType)+"",Ue,Ve,fe,J,x=(s[11].shadowHidden||"\u2014")+"",de,He,De,ae,O,Ae,m=s[11].UUID+"",v,Ee,y,ne,q,K,ue,ve=s[11].userID+"",he,Se,we,Te,qe,P;o=new Dt({props:{value:s[11].startTime}}),w=new Dt({props:{value:s[11].endTime}}),E=new Dt({props:{value:s[11].endTime-s[11].startTime}});let ee=s[11].votes<-1&&zt();function Ye(p,b){return p[11].locked?Ms:Ps}let Ie=Ye(s),Le=Ie(s);return ne=new Ot({props:{value:s[11].UUID}}),Te=new Ot({props:{value:s[11].userID}}),{c(){e=f("tr"),t=f("td"),n=$(a),i=T(),r=f("td"),c=f("a"),_e(o.$$.fragment),g=f("br"),_e(w.$$.fragment),re=T(),U=f("td"),_e(E.$$.fragment),I=T(),D=f("td"),ee&&ee.c(),M=T(),N=$(A),B=T(),$e=f("td"),F=$(le),ye=T(),te=f("td"),W=f("span"),Z=$(X),Ce=T(),V=f("td"),oe=$(L),ie=T(),ce=f("td"),R=f("span"),Ue=$(se),fe=T(),J=f("td"),de=$(x),He=T(),De=f("td"),Le.c(),ae=T(),O=f("td"),Ae=f("span"),v=$(m),Ee=f("br"),y=T(),_e(ne.$$.fragment),q=T(),K=f("td"),ue=f("span"),he=$(ve),Se=f("br"),we=T(),_e(Te.$$.fragment),qe=T(),this.h()},l(p){e=d(p,"TR",{});var b=_(e);t=d(b,"TD",{class:!0});var Ge=_(t);n=S(Ge,a),Ge.forEach(u),i=k(b),r=d(b,"TD",{class:!0});var Pe=_(r);c=d(Pe,"A",{href:!0,class:!0});var ke=_(c);me(o.$$.fragment,ke),g=d(ke,"BR",{}),me(w.$$.fragment,ke),ke.forEach(u),Pe.forEach(u),re=k(b),U=d(b,"TD",{class:!0});var je=_(U);me(E.$$.fragment,je),je.forEach(u),I=k(b),D=d(b,"TD",{class:!0});var Ne=_(D);ee&&ee.l(Ne),M=k(Ne),N=S(Ne,A),Ne.forEach(u),B=k(b),$e=d(b,"TD",{class:!0});var et=_($e);F=S(et,le),et.forEach(u),ye=k(b),te=d(b,"TD",{class:!0});var tt=_(te);W=d(tt,"SPAN",{class:!0,style:!0});var st=_(W);Z=S(st,X),st.forEach(u),tt.forEach(u),Ce=k(b),V=d(b,"TD",{class:!0});var Me=_(V);oe=S(Me,L),Me.forEach(u),ie=k(b),ce=d(b,"TD",{class:!0});var Be=_(ce);R=d(Be,"SPAN",{style:!0,title:!0});var lt=_(R);Ue=S(lt,se),lt.forEach(u),Be.forEach(u),fe=k(b),J=d(b,"TD",{class:!0});var ut=_(J);de=S(ut,x),ut.forEach(u),He=k(b),De=d(b,"TD",{class:!0});var _t=_(De);Le.l(_t),_t.forEach(u),ae=k(b),O=d(b,"TD",{class:!0});var Xe=_(O);Ae=d(Xe,"SPAN",{class:!0});var C=_(Ae);v=S(C,m),C.forEach(u),Ee=d(Xe,"BR",{}),y=k(Xe),me(ne.$$.fragment,Xe),Xe.forEach(u),q=k(b),K=d(b,"TD",{class:!0});var z=_(K);ue=d(z,"SPAN",{class:!0});var Ze=_(ue);he=S(Ze,ve),Ze.forEach(u),Se=d(z,"BR",{}),we=k(z),me(Te.$$.fragment,z),z.forEach(u),qe=k(b),b.forEach(u),this.h()},h(){h(t,"class","cell-text svelte-19x84r4"),h(c,"href",H=`https://www.youtube.com/watch?v=${s[11].videoID}${s[11].startTime>2?`&t=${Math.floor(Math.max(0,s[11].startTime-2))}s`:""}#requiredSegment=${s[11].UUID}`),h(c,"class","svelte-19x84r4"),h(r,"class","cell-number svelte-19x84r4"),h(U,"class","cell-number svelte-19x84r4"),h(D,"class","cell-number nowrap svelte-19x84r4"),h($e,"class","cell-number svelte-19x84r4"),h(W,"class","category svelte-19x84r4"),h(W,"style",Y=`background-color:${s[6](s[11].category)}`),h(te,"class","cell-text svelte-19x84r4"),h(V,"class","cell-text svelte-19x84r4"),as(R,"cursor","help"),h(R,"title",Ve=s[11].actionType in s[5]?s[5][s[11].actionType]:s[11].actionType),h(ce,"class","cell-text svelte-19x84r4"),h(J,"class","cell-text svelte-19x84r4"),h(De,"class","cell-text svelte-19x84r4"),h(Ae,"class","wordbreak wordbreak--uuid svelte-19x84r4"),h(O,"class","cell-text svelte-19x84r4"),h(ue,"class","wordbreak wordbreak--uuid svelte-19x84r4"),h(K,"class","cell-text svelte-19x84r4")},m(p,b){j(p,e,b),l(e,t),l(t,n),l(e,i),l(e,r),l(r,c),ge(o,c,null),l(c,g),ge(w,c,null),l(e,re),l(e,U),ge(E,U,null),l(e,I),l(e,D),ee&&ee.m(D,null),l(D,M),l(D,N),l(e,B),l(e,$e),l($e,F),l(e,ye),l(e,te),l(te,W),l(W,Z),l(e,Ce),l(e,V),l(V,oe),l(e,ie),l(e,ce),l(ce,R),l(R,Ue),l(e,fe),l(e,J),l(J,de),l(e,He),l(e,De),Le.m(De,null),l(e,ae),l(e,O),l(O,Ae),l(Ae,v),l(O,Ee),l(O,y),ge(ne,O,null),l(e,q),l(e,K),l(K,ue),l(ue,he),l(K,Se),l(K,we),ge(Te,K,null),l(e,qe),P=!0},p(p,b){(!P||b&4)&&a!==(a=Yt(p[11].timeSubmitted)+"")&&be(n,a);const Ge={};b&4&&(Ge.value=p[11].startTime),o.$set(Ge);const Pe={};b&4&&(Pe.value=p[11].endTime),w.$set(Pe),(!P||b&4&&H!==(H=`https://www.youtube.com/watch?v=${p[11].videoID}${p[11].startTime>2?`&t=${Math.floor(Math.max(0,p[11].startTime-2))}s`:""}#requiredSegment=${p[11].UUID}`))&&h(c,"href",H);const ke={};b&4&&(ke.value=p[11].endTime-p[11].startTime),E.$set(ke),p[11].votes<-1?ee||(ee=zt(),ee.c(),ee.m(D,M)):ee&&(ee.d(1),ee=null),(!P||b&4)&&A!==(A=p[11].votes+"")&&be(N,A),(!P||b&4)&&le!==(le=p[11].views+"")&&be(F,le),(!P||b&4)&&X!==(X=p[11].category+"")&&be(Z,X),(!P||b&4&&Y!==(Y=`background-color:${p[6](p[11].category)}`))&&h(W,"style",Y),(!P||b&4)&&L!==(L=(p[11].hidden||"\u2014")+"")&&be(oe,L),(!P||b&4)&&se!==(se=(p[11].actionType in p[4]?p[4][p[11].actionType]:p[11].actionType)+"")&&be(Ue,se),(!P||b&4&&Ve!==(Ve=p[11].actionType in p[5]?p[5][p[11].actionType]:p[11].actionType))&&h(R,"title",Ve),(!P||b&4)&&x!==(x=(p[11].shadowHidden||"\u2014")+"")&&be(de,x),Ie!==(Ie=Ye(p))&&(Le.d(1),Le=Ie(p),Le&&(Le.c(),Le.m(De,null))),(!P||b&4)&&m!==(m=p[11].UUID+"")&&be(v,m);const je={};b&4&&(je.value=p[11].UUID),ne.$set(je),(!P||b&4)&&ve!==(ve=p[11].userID+"")&&be(he,ve);const Ne={};b&4&&(Ne.value=p[11].userID),Te.$set(Ne)},i(p){P||(G(o.$$.fragment,p),G(w.$$.fragment,p),G(E.$$.fragment,p),G(ne.$$.fragment,p),G(Te.$$.fragment,p),P=!0)},o(p){Q(o.$$.fragment,p),Q(w.$$.fragment,p),Q(E.$$.fragment,p),Q(ne.$$.fragment,p),Q(Te.$$.fragment,p),P=!1},d(p){p&&u(e),pe(o),pe(w),pe(E),ee&&ee.d(),Le.d(),pe(ne),pe(Te)}}}function Rs(s){let e,t,a,n,i,r,c,o,g,w,H,re,U,E,I,D,M,A,N,B,$e,le,F,ye,te,W,X,Z,Y,Ce,V,L,oe,ie,ce,R,se,Ue,Ve,fe,J,x,de,He,De;i=new Ke({props:{sortBy:"timeSubmitted",name:"timeSubmitted",sorting:s[0],current:s[3],$$slots:{default:[ws]},$$scope:{ctx:s}}}),o=new Ke({props:{name:"startTime",sorting:s[0],current:s[3],$$slots:{default:[Is]},$$scope:{ctx:s}}}),E=new Ke({props:{name:"votes",sorting:s[0],current:s[3],$$slots:{default:[ys]},$$scope:{ctx:s}}}),M=new Ke({props:{name:"views",sorting:s[0],current:s[3],$$slots:{default:[Cs]},$$scope:{ctx:s}}}),B=new Ke({props:{name:"category",sorting:s[0],current:s[3],$$slots:{default:[As]},$$scope:{ctx:s}}}),F=new Ke({props:{name:"hidden",sorting:s[0],current:s[3],$$slots:{default:[Ls]},$$scope:{ctx:s}}}),W=new Ke({props:{name:"hidden",sorting:s[0],current:s[3],$$slots:{default:[Ns]},$$scope:{ctx:s}}}),Y=new Ke({props:{name:"shadowHidden",sorting:s[0],current:s[3],$$slots:{default:[Bs]},$$scope:{ctx:s}}}),L=new Ke({props:{name:"locked",sorting:s[0],current:s[3],$$slots:{default:[Us]},$$scope:{ctx:s}}});const ae=[Hs,Vs],O=[];function Ae(m,v){return m[1]?0:1}return J=Ae(s),x=O[J]=ae[J](s),{c(){e=f("table"),t=f("thead"),a=f("tr"),n=f("th"),_e(i.$$.fragment),r=T(),c=f("th"),_e(o.$$.fragment),g=T(),w=f("th"),H=$("Length"),re=T(),U=f("th"),_e(E.$$.fragment),I=T(),D=f("th"),_e(M.$$.fragment),A=T(),N=f("th"),_e(B.$$.fragment),$e=T(),le=f("th"),_e(F.$$.fragment),ye=T(),te=f("th"),_e(W.$$.fragment),X=T(),Z=f("th"),_e(Y.$$.fragment),Ce=T(),V=f("th"),_e(L.$$.fragment),oe=T(),ie=f("th"),ce=$("UUID"),R=T(),se=f("th"),Ue=$("Submitter UUID"),Ve=T(),fe=f("tbody"),x.c(),this.h()},l(m){e=d(m,"TABLE",{class:!0});var v=_(e);t=d(v,"THEAD",{class:!0});var Ee=_(t);a=d(Ee,"TR",{});var y=_(a);n=d(y,"TH",{class:!0,"data-sortby":!0});var ne=_(n);me(i.$$.fragment,ne),ne.forEach(u),r=k(y),c=d(y,"TH",{class:!0,"data-sortby":!0});var q=_(c);me(o.$$.fragment,q),q.forEach(u),g=k(y),w=d(y,"TH",{class:!0});var K=_(w);H=S(K,"Length"),K.forEach(u),re=k(y),U=d(y,"TH",{class:!0,"data-sortby":!0});var ue=_(U);me(E.$$.fragment,ue),ue.forEach(u),I=k(y),D=d(y,"TH",{class:!0,"data-sortby":!0});var ve=_(D);me(M.$$.fragment,ve),ve.forEach(u),A=k(y),N=d(y,"TH",{class:!0,"data-sortby":!0});var he=_(N);me(B.$$.fragment,he),he.forEach(u),$e=k(y),le=d(y,"TH",{class:!0,"data-sortby":!0});var Se=_(le);me(F.$$.fragment,Se),Se.forEach(u),ye=k(y),te=d(y,"TH",{class:!0,"data-sortby":!0});var we=_(te);me(W.$$.fragment,we),we.forEach(u),X=k(y),Z=d(y,"TH",{class:!0,"data-sortby":!0});var Te=_(Z);me(Y.$$.fragment,Te),Te.forEach(u),Ce=k(y),V=d(y,"TH",{class:!0,"data-sortby":!0});var qe=_(V);me(L.$$.fragment,qe),qe.forEach(u),oe=k(y),ie=d(y,"TH",{class:!0});var P=_(ie);ce=S(P,"UUID"),P.forEach(u),R=k(y),se=d(y,"TH",{class:!0});var ee=_(se);Ue=S(ee,"Submitter UUID"),ee.forEach(u),y.forEach(u),Ee.forEach(u),Ve=k(v),fe=d(v,"TBODY",{});var Ye=_(fe);x.l(Ye),Ye.forEach(u),v.forEach(u),this.h()},h(){h(n,"class","cell-text svelte-19x84r4"),h(n,"data-sortby","timeSubmitted"),h(c,"class","cell-number svelte-19x84r4"),h(c,"data-sortby","startTime"),h(w,"class","cell-number svelte-19x84r4"),h(U,"class","cell-number svelte-19x84r4"),h(U,"data-sortby","votes"),h(D,"class","cell-number svelte-19x84r4"),h(D,"data-sortby","views"),h(N,"class","cell-text svelte-19x84r4"),h(N,"data-sortby","category"),h(le,"class","cell-number svelte-19x84r4"),h(le,"data-sortby","hidden"),h(te,"class","cell-text svelte-19x84r4"),h(te,"data-sortby","actiontype"),h(Z,"class","cell-number svelte-19x84r4"),h(Z,"data-sortby","shadowHidden"),h(V,"class","cell-number svelte-19x84r4"),h(V,"data-sortby","locked"),h(ie,"class","cell-text svelte-19x84r4"),h(se,"class","cell-text svelte-19x84r4"),h(t,"class","svelte-19x84r4"),h(e,"class","svelte-19x84r4")},m(m,v){j(m,e,v),l(e,t),l(t,a),l(a,n),ge(i,n,null),l(a,r),l(a,c),ge(o,c,null),l(a,g),l(a,w),l(w,H),l(a,re),l(a,U),ge(E,U,null),l(a,I),l(a,D),ge(M,D,null),l(a,A),l(a,N),ge(B,N,null),l(a,$e),l(a,le),ge(F,le,null),l(a,ye),l(a,te),ge(W,te,null),l(a,X),l(a,Z),ge(Y,Z,null),l(a,Ce),l(a,V),ge(L,V,null),l(a,oe),l(a,ie),l(ie,ce),l(a,R),l(a,se),l(se,Ue),l(e,Ve),l(e,fe),O[J].m(fe,null),de=!0,He||(De=[Je(s[7].call(null,n)),Je(s[7].call(null,c)),Je(s[7].call(null,U)),Je(s[7].call(null,D)),Je(s[7].call(null,N)),Je(s[7].call(null,le)),Je(s[7].call(null,te)),Je(s[7].call(null,Z)),Je(s[7].call(null,V))],He=!0)},p(m,[v]){const Ee={};v&1&&(Ee.sorting=m[0]),v&8&&(Ee.current=m[3]),v&16384&&(Ee.$$scope={dirty:v,ctx:m}),i.$set(Ee);const y={};v&1&&(y.sorting=m[0]),v&8&&(y.current=m[3]),v&16384&&(y.$$scope={dirty:v,ctx:m}),o.$set(y);const ne={};v&1&&(ne.sorting=m[0]),v&8&&(ne.current=m[3]),v&16384&&(ne.$$scope={dirty:v,ctx:m}),E.$set(ne);const q={};v&1&&(q.sorting=m[0]),v&8&&(q.current=m[3]),v&16384&&(q.$$scope={dirty:v,ctx:m}),M.$set(q);const K={};v&1&&(K.sorting=m[0]),v&8&&(K.current=m[3]),v&16384&&(K.$$scope={dirty:v,ctx:m}),B.$set(K);const ue={};v&1&&(ue.sorting=m[0]),v&8&&(ue.current=m[3]),v&16384&&(ue.$$scope={dirty:v,ctx:m}),F.$set(ue);const ve={};v&1&&(ve.sorting=m[0]),v&8&&(ve.current=m[3]),v&16384&&(ve.$$scope={dirty:v,ctx:m}),W.$set(ve);const he={};v&1&&(he.sorting=m[0]),v&8&&(he.current=m[3]),v&16384&&(he.$$scope={dirty:v,ctx:m}),Y.$set(he);const Se={};v&1&&(Se.sorting=m[0]),v&8&&(Se.current=m[3]),v&16384&&(Se.$$scope={dirty:v,ctx:m}),L.$set(Se);let we=J;J=Ae(m),J===we?O[J].p(m,v):(Wt(),Q(O[we],1,1,()=>{O[we]=null}),Jt(),x=O[J],x?x.p(m,v):(x=O[J]=ae[J](m),x.c()),G(x,1),x.m(fe,null))},i(m){de||(G(i.$$.fragment,m),G(o.$$.fragment,m),G(E.$$.fragment,m),G(M.$$.fragment,m),G(B.$$.fragment,m),G(F.$$.fragment,m),G(W.$$.fragment,m),G(Y.$$.fragment,m),G(L.$$.fragment,m),G(x),de=!0)},o(m){Q(i.$$.fragment,m),Q(o.$$.fragment,m),Q(E.$$.fragment,m),Q(M.$$.fragment,m),Q(B.$$.fragment,m),Q(F.$$.fragment,m),Q(W.$$.fragment,m),Q(Y.$$.fragment,m),Q(L.$$.fragment,m),Q(x),de=!1},d(m){m&&u(e),pe(i),pe(o),pe(E),pe(M),pe(B),pe(F),pe(W),pe(Y),pe(L),O[J].d(),He=!1,Kt(De)}}}const wt="ASC",pt="DESC";function Yt(s){const e=new Date(s);return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")} ${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}`}function Os(s,e,t){let a;Qt(s,Ds,E=>t(10,a=E));let{segments:n=[]}=e,{isLoading:i=!1}=e,{sortDirection:r="DESC"}=e,{sortBy:c="timeSubmitted"}=e,o;const g={skip:"\u23ED\uFE0F",mute:"\u{1F507}",full:"\u{1F3F7}\uFE0F",poi:"\u{1F4CC}"},w={skip:"Skip",mute:"Muted",full:"Full",poi:"Highlight"};let H=c;r=r==="DESC"?pt:wt;function re(E){var I;return((I=a.find(D=>D.id===E))===null||I===void 0?void 0:I.color)||"transparent"}function U(E){const I=E.getAttribute("sortBy");E.addEventListener("click",D=>{H===I?t(0,r=r===pt?wt:pt):(t(0,r=pt),t(3,H=I)),t(2,o=[...n].sort((M,A)=>M[I]===A[I]?0:M[I]>A[I]?-1:1)),r===wt&&t(2,o=[...o].reverse())})}return s.$$set=E=>{"segments"in E&&t(8,n=E.segments),"isLoading"in E&&t(1,i=E.isLoading),"sortDirection"in E&&t(0,r=E.sortDirection),"sortBy"in E&&t(9,c=E.sortBy)},s.$$.update=()=>{s.$$.dirty&256&&t(2,o=[...n])},[r,i,o,H,g,w,re,U,n,c]}class qs extends rt{constructor(e){super(),ot(this,e,Os,Rs,it,{segments:8,isLoading:1,sortDirection:0,sortBy:9})}}function Gt(s,e,t){const a=s.slice();return a[7]=e[t],a[9]=t,a}function jt(s){let e,t=s[9]+1+"",a,n,i,r;function c(){return s[3](s[9])}return{c(){e=f("button"),a=$(t),this.h()},l(o){e=d(o,"BUTTON",{});var g=_(e);a=S(g,t),g.forEach(u),this.h()},h(){e.disabled=n=s[0]===s[9]+1},m(o,g){j(o,e,g),l(e,a),i||(r=Oe(e,"click",c),i=!0)},p(o,g){s=o,g&1&&n!==(n=s[0]===s[9]+1)&&(e.disabled=n)},d(o){o&&u(e),i=!1,r()}}}function zs(s){let e,t=Array(s[1]),a=[];for(let n=0;n<t.length;n+=1)a[n]=jt(Gt(s,t,n));return{c(){for(let n=0;n<a.length;n+=1)a[n].c();e=vt()},l(n){for(let i=0;i<a.length;i+=1)a[i].l(n);e=vt()},m(n,i){for(let r=0;r<a.length;r+=1)a[r].m(n,i);j(n,e,i)},p(n,[i]){if(i&7){t=Array(n[1]);let r;for(r=0;r<t.length;r+=1){const c=Gt(n,t,r);a[r]?a[r].p(c,i):(a[r]=jt(c),a[r].c(),a[r].m(e.parentNode,e))}for(;r<a.length;r+=1)a[r].d(1);a.length=t.length}},i:Qe,o:Qe,d(n){Xt(a,n),n&&u(e)}}}function Fs(s,e,t){let{current:a=1}=e,{last:n=1}=e;const i=ns();function r(o){i("click",{page:o})}const c=o=>r(o+1);return s.$$set=o=>{"current"in o&&t(0,a=o.current),"last"in o&&t(1,n=o.last)},s.$$.update=()=>{s.$$.dirty&3,s.$$.dirty&1},[a,n,r,c]}class Ys extends rt{constructor(e){super(),ot(this,e,Fs,zs,it,{current:0,last:1})}}function Gs(s){let e,t,a,n,i,r,c,o,g,w,H,re,U,E,I,D,M,A,N,B,$e,le,F,ye,te,W,X,Z,Y,Ce,V,L,oe,ie,ce,R,se,Ue,Ve,fe,J,x,de,He,De,ae,O,Ae,m=s[2].segmentCount+"",v,Ee,y,ne,q,K=s[0]+1+"",ue,ve,he=Math.ceil(s[2].segmentCount/bt)+"",Se,we,Te,qe,P,ee,Ye,Ie,Le,p,b,Ge,Pe,ke,je,Ne=Math.round(s[10])+"",et,tt,st,Me,Be,lt,ut;function _t(C){s[16](C)}let Xe={type:"text",id:"videoid",placeholder:"VideoID"};return s[4]!==void 0&&(Xe.value=s[4]),H=new vs({props:Xe}),rs.push(()=>os(H,"value",_t)),y=new qs({props:{segments:s[12],isLoading:!1,sortDirection:"ASC"}}),b=new Ys({props:{current:s[0]+1,last:s[1]+1}}),b.$on("click",s[15]),Me=new ms({props:{status:s[11]}}),{c(){e=T(),t=f("main"),a=f("div"),n=f("form"),i=f("div"),r=f("div"),c=f("label"),o=$("VideoID:"),g=f("br"),w=T(),_e(H.$$.fragment),U=T(),E=f("div"),I=f("label"),D=$("Service:"),M=f("br"),A=T(),N=f("select"),B=f("option"),$e=$("YouTube"),le=T(),F=f("div"),ye=$("Include:"),te=f("br"),W=T(),X=f("div"),Z=f("label"),Y=f("input"),Ce=$(`
              Locked`),V=T(),L=f("label"),oe=f("input"),ie=$(`
              hidden`),ce=T(),R=f("label"),se=f("input"),Ue=$(`
              ignored`),Ve=T(),fe=f("div"),J=f("br"),x=T(),de=f("button"),He=$("Search"),De=T(),ae=f("div"),O=f("h2"),Ae=$("SegmentCount: "),v=$(m),Ee=T(),_e(y.$$.fragment),ne=T(),q=f("div"),ue=$(K),ve=$(" of "),Se=$(he),we=T(),Te=f("br"),qe=T(),P=f("button"),ee=$("prev page"),Ye=T(),Ie=f("button"),Le=$("next page"),p=T(),_e(b.$$.fragment),Ge=T(),Pe=f("div"),ke=f("sub"),je=$("(Loadtime: "),et=$(Ne),tt=$("ms)"),st=T(),_e(Me.$$.fragment),this.h()},l(C){is('[data-svelte="svelte-40ey8a"]',document.head).forEach(u),e=k(C),t=d(C,"MAIN",{});var Ze=_(t);a=d(Ze,"DIV",{class:!0});var We=_(a);n=d(We,"FORM",{});var at=_(n);i=d(at,"DIV",{class:!0});var Re=_(i);r=d(Re,"DIV",{});var ct=_(r);c=d(ct,"LABEL",{for:!0});var It=_(c);o=S(It,"VideoID:"),It.forEach(u),g=d(ct,"BR",{}),w=k(ct),me(H.$$.fragment,ct),ct.forEach(u),U=k(Re),E=d(Re,"DIV",{});var ft=_(E);I=d(ft,"LABEL",{for:!0});var yt=_(I);D=S(yt,"Service:"),yt.forEach(u),M=d(ft,"BR",{}),A=k(ft),N=d(ft,"SELECT",{id:!0,name:!0});var Ct=_(N);B=d(Ct,"OPTION",{});var At=_(B);$e=S(At,"YouTube"),At.forEach(u),Ct.forEach(u),ft.forEach(u),le=k(Re),F=d(Re,"DIV",{});var dt=_(F);ye=S(dt,"Include:"),te=d(dt,"BR",{}),W=k(dt),X=d(dt,"DIV",{class:!0});var nt=_(X);Z=d(nt,"LABEL",{});var $t=_(Z);Y=d($t,"INPUT",{type:!0,name:!0}),Ce=S($t,`
              Locked`),$t.forEach(u),V=k(nt),L=d(nt,"LABEL",{});var St=_(L);oe=d(St,"INPUT",{type:!0,name:!0}),ie=S(St,`
              hidden`),St.forEach(u),ce=k(nt),R=d(nt,"LABEL",{});var Et=_(R);se=d(Et,"INPUT",{type:!0,name:!0}),Ue=S(Et,`
              ignored`),Et.forEach(u),nt.forEach(u),dt.forEach(u),Ve=k(Re),fe=d(Re,"DIV",{});var mt=_(fe);J=d(mt,"BR",{}),x=k(mt),de=d(mt,"BUTTON",{type:!0,class:!0});var Lt=_(de);He=S(Lt,"Search"),Lt.forEach(u),mt.forEach(u),Re.forEach(u),at.forEach(u),De=k(We),ae=d(We,"DIV",{});var ze=_(ae);O=d(ze,"H2",{});var Tt=_(O);Ae=S(Tt,"SegmentCount: "),v=S(Tt,m),Tt.forEach(u),Ee=k(ze),me(y.$$.fragment,ze),ne=k(ze),q=d(ze,"DIV",{});var Fe=_(q);ue=S(Fe,K),ve=S(Fe," of "),Se=S(Fe,he),we=k(Fe),Te=d(Fe,"BR",{}),qe=k(Fe),P=d(Fe,"BUTTON",{class:!0});var Nt=_(P);ee=S(Nt,"prev page"),Nt.forEach(u),Ye=k(Fe),Ie=d(Fe,"BUTTON",{class:!0});var Bt=_(Ie);Le=S(Bt,"next page"),Bt.forEach(u),Fe.forEach(u),p=k(ze),me(b.$$.fragment,ze),Ge=k(ze),Pe=d(ze,"DIV",{});var Ut=_(Pe);ke=d(Ut,"SUB",{});var gt=_(ke);je=S(gt,"(Loadtime: "),et=S(gt,Ne),tt=S(gt,"ms)"),gt.forEach(u),Ut.forEach(u),ze.forEach(u),st=k(We),me(Me.$$.fragment,We),We.forEach(u),Ze.forEach(u),this.h()},h(){document.title="Browse | SponsorBlockControl",h(c,"for","videoid"),h(I,"for","service"),B.__value="youtube",B.value=B.__value,h(N,"id","service"),h(N,"name","service"),s[3]===void 0&&us(()=>s[17].call(N)),h(Y,"type","checkbox"),h(Y,"name","locked"),h(oe,"type","checkbox"),h(oe,"name","hidden"),h(se,"type","checkbox"),h(se,"name","ignored"),h(X,"class","filters svelte-1z0tix8"),h(de,"type","submit"),h(de,"class","svelte-1z0tix8"),h(i,"class","filters svelte-1z0tix8"),P.disabled=s[6],h(P,"class","svelte-1z0tix8"),Ie.disabled=s[5],h(Ie,"class","svelte-1z0tix8"),h(a,"class","container")},m(C,z){j(C,e,z),j(C,t,z),l(t,a),l(a,n),l(n,i),l(i,r),l(r,c),l(c,o),l(r,g),l(r,w),ge(H,r,null),l(i,U),l(i,E),l(E,I),l(I,D),l(E,M),l(E,A),l(E,N),l(N,B),l(B,$e),Mt(N,s[3]),l(i,le),l(i,F),l(F,ye),l(F,te),l(F,W),l(F,X),l(X,Z),l(Z,Y),Y.checked=s[7],l(Z,Ce),l(X,V),l(X,L),l(L,oe),oe.checked=s[8],l(L,ie),l(X,ce),l(X,R),l(R,se),se.checked=s[9],l(R,Ue),l(i,Ve),l(i,fe),l(fe,J),l(fe,x),l(fe,de),l(de,He),l(a,De),l(a,ae),l(ae,O),l(O,Ae),l(O,v),l(ae,Ee),ge(y,ae,null),l(ae,ne),l(ae,q),l(q,ue),l(q,ve),l(q,Se),l(q,we),l(q,Te),l(q,qe),l(q,P),l(P,ee),l(q,Ye),l(q,Ie),l(Ie,Le),l(ae,p),ge(b,ae,null),l(ae,Ge),l(ae,Pe),l(Pe,ke),l(ke,je),l(ke,et),l(ke,tt),l(a,st),ge(Me,a,null),Be=!0,lt||(ut=[Oe(N,"change",s[17]),Oe(Y,"change",s[18]),Oe(oe,"change",s[19]),Oe(se,"change",s[20]),Oe(de,"click",s[21]),Oe(n,"submit",cs(s[14])),Oe(P,"click",s[22]),Oe(Ie,"click",s[23])],lt=!0)},p(C,[z]){const Ze={};!re&&z&16&&(re=!0,Ze.value=C[4],fs(()=>re=!1)),H.$set(Ze),z&8&&Mt(N,C[3]),z&128&&(Y.checked=C[7]),z&256&&(oe.checked=C[8]),z&512&&(se.checked=C[9]),(!Be||z&4)&&m!==(m=C[2].segmentCount+"")&&be(v,m);const We={};z&4096&&(We.segments=C[12]),y.$set(We),(!Be||z&1)&&K!==(K=C[0]+1+"")&&be(ue,K),(!Be||z&4)&&he!==(he=Math.ceil(C[2].segmentCount/bt)+"")&&be(Se,he),(!Be||z&64)&&(P.disabled=C[6]),(!Be||z&32)&&(Ie.disabled=C[5]);const at={};z&1&&(at.current=C[0]+1),z&2&&(at.last=C[1]+1),b.$set(at),(!Be||z&1024)&&Ne!==(Ne=Math.round(C[10])+"")&&be(et,Ne);const Re={};z&2048&&(Re.status=C[11]),Me.$set(Re)},i(C){Be||(G(H.$$.fragment,C),G(y.$$.fragment,C),G(b.$$.fragment,C),G(Me.$$.fragment,C),Be=!0)},o(C){Q(H.$$.fragment,C),Q(y.$$.fragment,C),Q(b.$$.fragment,C),Q(Me.$$.fragment,C),Be=!1},d(C){C&&u(e),C&&u(t),pe(H),pe(y),pe(b),pe(Me),lt=!1,Kt(ut)}}}let js=0;const bt=10;function Ws(s,e,t){let a,n;Qt(s,_s,V=>t(24,n=V));let i="youtube",r="",c=0,o=!1,g=!0,w=0,H=-2,re=1/0,U=1/0,E=!0,I=!0,D=!0,M=0,A={segmentCount:0,page:0,segments:[]},N=ht.IDLE;ds(async()=>{const V=new URLSearchParams(window.location.search);V.has("videoID")&&(t(4,r=V.get("videoID")),await B())});async function B(V=0){console.log("Sending fetch request"),t(11,N=ht.WORKING);const L=new URLSearchParams;L.append("videoID",r),L.append("service",i),L.append("page",V.toString()),L.append("minVotes",H.toString()),L.append("maxVotes",re.toString()),L.append("minViews",js.toString()),L.append("maxViews",U.toString()),L.append("locked",E.toString()),L.append("hidden",I.toString()),L.append("ignored",D.toString());const oe=performance.now(),ie=await fetch(`${n.sponsorBlockApi}/api/searchSegments?${L}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(t(10,M=performance.now()-oe),ie.status===200){t(11,N=ht.SUCCESS);const ce=await ie.json();t(2,A.segmentCount=ce.segmentCount,A),t(2,A.page=ce.page,A),t(2,A.segments=[...ce.segments].map(R=>(R.duration=R.endTime-R.startTime,R.videoID=r,R)),A)}else t(2,A.segmentCount=0,A),t(2,A.page=0,A),t(2,A.segments=[],A),ie.status===400&&t(11,N=ht.ERROR_INVALID),ie.status===404&&t(11,N=ht.NOT_FOUND)}async function $e(){gs(`${ps}/browse/?videoID=${r}`)}async function le(V){const L=V.detail.page-1;console.log("paginationHandler",L),await B(L),t(0,c=L)}function F(V){r=V,t(4,r)}function ye(){i=hs(this),t(3,i)}function te(){E=this.checked,t(7,E)}function W(){I=this.checked,t(8,I)}function X(){D=this.checked,t(9,D)}const Z=async()=>await B(0),Y=()=>B(t(0,c=Math.max(0,c-1))),Ce=()=>B(t(0,c=Math.min(Math.floor(A.segmentCount/bt),c+1)));return s.$$.update=()=>{s.$$.dirty&4&&t(1,w=Math.floor(A.segmentCount/bt)),s.$$.dirty&3&&t(5,o=c===w),s.$$.dirty&1&&t(6,g=c===0),s.$$.dirty&4&&t(12,a=[...A.segments])},[c,w,A,i,r,o,g,E,I,D,M,N,a,B,$e,le,F,ye,te,W,X,Z,Y,Ce]}class el extends rt{constructor(e){super(),ot(this,e,Ws,Gs,it,{})}}export{el as default};
