import{S as ot,i as it,s as ct,k as f,q as S,l as d,m as _,r as $,h as c,n as h,H as xe,b as W,D as l,u as be,E as Qe,I as Oe,N as Zt,$ as Ht,O as xt,P as es,Q as ts,f as G,t as Q,J as Vt,a0 as Pt,a1 as ss,A as ls,v as _e,a as T,w as me,c as k,x as ge,a2 as Ke,g as jt,d as Kt,y as pe,R as Jt,G as Qt,e as vt,F as Xt,p as as,a3 as ns,a4 as rs,a5 as os,W as is,X as cs,Y as Rt,a6 as us,a7 as fs,o as ds,_ as hs}from"../../../chunks/index-57ef3195.js";import{C as _s}from"../../../chunks/config-90b35c59.js";import{S as ms}from"../../../chunks/Status-26ff45ac.js";import{g as gs}from"../../../chunks/navigation-7dd3a7f7.js";import{c as ps}from"../../../chunks/singletons-21a13fa3.js";import{V as vs}from"../../../chunks/VideoInput-2c244d7f.js";import{S as tt}from"../../../chunks/BaseStatus-314ac73e.js";function bs(s){let e,t,a,n,i,r=s[1].toString().padStart(2,"0")+"",u,o,g,I=s[2].toString().padStart(2,"0")+"",V,re,U,E;return{c(){e=f("span"),t=f("span"),a=S(s[0]),n=S(":"),i=f("span"),u=S(r),o=S(":"),g=f("span"),V=S(I),re=S("."),U=f("span"),E=S(s[3]),this.h()},l(w){e=d(w,"SPAN",{class:!0});var D=_(e);t=d(D,"SPAN",{class:!0});var R=_(t);a=$(R,s[0]),n=$(R,":"),R.forEach(c),i=d(D,"SPAN",{class:!0});var A=_(i);u=$(A,r),o=$(A,":"),A.forEach(c),g=d(D,"SPAN",{class:!0});var N=_(g);V=$(N,I),re=$(N,"."),N.forEach(c),U=d(D,"SPAN",{class:!0});var B=_(U);E=$(B,s[3]),B.forEach(c),D.forEach(c),this.h()},h(){h(t,"class","svelte-58feot"),xe(t,"inactive",s[0]===0),h(i,"class","svelte-58feot"),xe(i,"inactive",s[1]===0),h(g,"class",""),h(U,"class","milliseconds svelte-58feot"),h(e,"class","time svelte-58feot")},m(w,D){W(w,e,D),l(e,t),l(t,a),l(t,n),l(e,i),l(i,u),l(i,o),l(e,g),l(g,V),l(g,re),l(e,U),l(U,E)},p(w,[D]){D&1&&be(a,w[0]),D&1&&xe(t,"inactive",w[0]===0),D&2&&r!==(r=w[1].toString().padStart(2,"0")+"")&&be(u,r),D&2&&xe(i,"inactive",w[1]===0),D&4&&I!==(I=w[2].toString().padStart(2,"0")+"")&&be(V,I),D&8&&be(E,w[3])},i:Qe,o:Qe,d(w){w&&c(e)}}}let kt=3;function Ss(s,e,t){let{value:a=0}=e,n=0,i=0,r=0,u="0";return s.$$set=o=>{"value"in o&&t(4,a=o.value)},s.$$.update=()=>{if(s.$$.dirty&16){let o=Number(a),g=o.toString();t(3,u="0".repeat(kt)),g.includes(".")&&t(3,u=g.split(".")[1].padEnd(kt,"0").slice(0,kt)),o=Math.floor(a),t(0,n=Math.floor(o/3600)),t(1,i=Math.floor(o/60%60)),t(2,r=Math.floor(o%60))}},[n,i,r,u,a]}class Dt extends ot{constructor(e){super(),it(this,e,Ss,bs,ct,{value:4})}}function Mt(s){let e,t;return{c(){e=f("div"),t=S("Copied!"),this.h()},l(a){e=d(a,"DIV",{class:!0});var n=_(e);t=$(n,"Copied!"),n.forEach(c),this.h()},h(){h(e,"class","success svelte-1f7dggz")},m(a,n){W(a,e,n),l(e,t)},d(a){a&&c(e)}}}function $s(s){let e,t,a,n,i=s[1]&&Mt();return{c(){e=f("button"),i&&i.c(),t=S(`
  \u2702`),this.h()},l(r){e=d(r,"BUTTON",{title:!0,class:!0});var u=_(e);i&&i.l(u),t=$(u,`
  \u2702`),u.forEach(c),this.h()},h(){h(e,"title",s[0]),h(e,"class","svelte-1f7dggz")},m(r,u){W(r,e,u),i&&i.m(e,null),l(e,t),a||(n=Oe(e,"click",s[4]),a=!0)},p(r,[u]){r[1]?i||(i=Mt(),i.c(),i.m(e,t)):i&&(i.d(1),i=null),u&1&&h(e,"title",r[0])},i:Qe,o:Qe,d(r){r&&c(e),i&&i.d(),a=!1,n()}}}function Es(s,e,t){let{value:a=""}=e,{title:n="Copy to clipboard"}=e,i=!1;function r(){navigator.clipboard.writeText(a).then(()=>{console.log("Copied to clipboard"),t(1,i=!0),setTimeout(o=>{t(1,i=!1)},2e3)},o=>{console.log("Failed to copy into clipboard",o)})}const u=o=>r();return s.$$set=o=>{"value"in o&&t(3,a=o.value),"title"in o&&t(0,n=o.title)},[n,i,r,a,u]}class Ot extends ot{constructor(e){super(),it(this,e,Es,$s,ct,{value:3,title:0})}}function Ts(s){let e,t,a,n,i,r;const u=s[5].default,o=Zt(u,s,s[4],null);return{c(){e=f("span"),o&&o.c(),this.h()},l(g){e=d(g,"SPAN",{class:!0,title:!0});var I=_(e);o&&o.l(I),I.forEach(c),this.h()},h(){h(e,"class",t=Ht(`header ${s[3].class}`)+" svelte-1s8upei"),h(e,"title",a=`Sort by ${s[0]}`),xe(e,"active",s[2]===s[0]),xe(e,"sort--asc",s[1]==="ASC")},m(g,I){W(g,e,I),o&&o.m(e,null),n=!0,i||(r=Oe(e,"click",s[6]),i=!0)},p(g,[I]){o&&o.p&&(!n||I&16)&&xt(o,u,g,g[4],n?ts(u,g[4],I,null):es(g[4]),null),(!n||I&8&&t!==(t=Ht(`header ${g[3].class}`)+" svelte-1s8upei"))&&h(e,"class",t),(!n||I&1&&a!==(a=`Sort by ${g[0]}`))&&h(e,"title",a),(!n||I&13)&&xe(e,"active",g[2]===g[0]),(!n||I&10)&&xe(e,"sort--asc",g[1]==="ASC")},i(g){n||(G(o,g),n=!0)},o(g){Q(o,g),n=!1},d(g){g&&c(e),o&&o.d(g),i=!1,r()}}}function ks(s,e,t){let{$$slots:a={},$$scope:n}=e,{name:i}=e,{sorting:r="DESC"}=e,{current:u=""}=e;function o(g){ss.call(this,s,g)}return s.$$set=g=>{t(3,e=Vt(Vt({},e),Pt(g))),"name"in g&&t(0,i=g.name),"sorting"in g&&t(1,r=g.sorting),"current"in g&&t(2,u=g.current),"$$scope"in g&&t(4,n=g.$$scope)},e=Pt(e),[i,r,u,e,n,a,o]}class Je extends ot{constructor(e){super(),it(this,e,ks,Ts,ct,{name:0,sorting:1,current:2})}}const Ds=ls([{id:"sponsor",color:"#00d400"},{id:"intro",color:"#00ffff"},{id:"outro",color:"#0202ed"},{id:"interaction",color:"#cc00ff"},{id:"selfpromo",color:"#ffff00"},{id:"music_offtopic",color:"#ff9900"},{id:"preview",color:"#008fd6"},{id:"poi_highlight",color:"#ff1684"},{id:"filler",color:"#7300ff"},{id:"chapter",color:"#ffd679"},{id:"exclusive_access",color:"#008a5c"}]);function qt(s,e,t){const a=s.slice();return a[11]=e[t],a}function Is(s){let e;return{c(){e=S("Submitted")},l(t){e=$(t,"Submitted")},m(t,a){W(t,e,a)},d(t){t&&c(e)}}}function ws(s){let e;return{c(){e=S("Start/End")},l(t){e=$(t,"Start/End")},m(t,a){W(t,e,a)},d(t){t&&c(e)}}}function ys(s){let e;return{c(){e=S("Votes")},l(t){e=$(t,"Votes")},m(t,a){W(t,e,a)},d(t){t&&c(e)}}}function Cs(s){let e;return{c(){e=S("Views")},l(t){e=$(t,"Views")},m(t,a){W(t,e,a)},d(t){t&&c(e)}}}function As(s){let e;return{c(){e=S("Category")},l(t){e=$(t,"Category")},m(t,a){W(t,e,a)},d(t){t&&c(e)}}}function Ns(s){let e;return{c(){e=S("Hidden")},l(t){e=$(t,"Hidden")},m(t,a){W(t,e,a)},d(t){t&&c(e)}}}function Ls(s){let e;return{c(){e=S("Actiontype")},l(t){e=$(t,"Actiontype")},m(t,a){W(t,e,a)},d(t){t&&c(e)}}}function Bs(s){let e;return{c(){e=S("ShadowHidden")},l(t){e=$(t,"ShadowHidden")},m(t,a){W(t,e,a)},d(t){t&&c(e)}}}function Us(s){let e;return{c(){e=S("Locked")},l(t){e=$(t,"Locked")},m(t,a){W(t,e,a)},d(t){t&&c(e)}}}function Hs(s){let e,t,a=s[2],n=[];for(let r=0;r<a.length;r+=1)n[r]=Ft(qt(s,a,r));const i=r=>Q(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=vt()},l(r){for(let u=0;u<n.length;u+=1)n[u].l(r);e=vt()},m(r,u){for(let o=0;o<n.length;o+=1)n[o].m(r,u);W(r,e,u),t=!0},p(r,u){if(u&116){a=r[2];let o;for(o=0;o<a.length;o+=1){const g=qt(r,a,o);n[o]?(n[o].p(g,u),G(n[o],1)):(n[o]=Ft(g),n[o].c(),G(n[o],1),n[o].m(e.parentNode,e))}for(jt(),o=a.length;o<n.length;o+=1)i(o);Kt()}},i(r){if(!t){for(let u=0;u<a.length;u+=1)G(n[u]);t=!0}},o(r){n=n.filter(Boolean);for(let u=0;u<n.length;u+=1)Q(n[u]);t=!1},d(r){Xt(n,r),r&&c(e)}}}function Vs(s){let e,t,a,n;return{c(){e=f("tr"),t=f("td"),a=f("div"),n=S("Loading data..."),this.h()},l(i){e=d(i,"TR",{});var r=_(e);t=d(r,"TD",{colspan:!0,class:!0});var u=_(t);a=d(u,"DIV",{class:!0});var o=_(a);n=$(o,"Loading data..."),o.forEach(c),u.forEach(c),r.forEach(c),this.h()},h(){h(a,"class","loading svelte-19x84r4"),h(t,"colspan","12"),h(t,"class","svelte-19x84r4")},m(i,r){W(i,e,r),l(e,t),l(t,a),l(a,n)},p:Qe,i:Qe,o:Qe,d(i){i&&c(e)}}}function zt(s){let e,t;return{c(){e=f("span"),t=S("\u274C"),this.h()},l(a){e=d(a,"SPAN",{class:!0,title:!0});var n=_(e);t=$(n,"\u274C"),n.forEach(c),this.h()},h(){h(e,"class","removed svelte-19x84r4"),h(e,"title","Segment removed")},m(a,n){W(a,e,n),l(e,t)},d(a){a&&c(e)}}}function Ps(s){let e;return{c(){e=S("\u2014")},l(t){e=$(t,"\u2014")},m(t,a){W(t,e,a)},d(t){t&&c(e)}}}function Rs(s){let e,t;return{c(){e=f("span"),t=S("\u{1F512}"),this.h()},l(a){e=d(a,"SPAN",{class:!0,title:!0});var n=_(e);t=$(n,"\u{1F512}"),n.forEach(c),this.h()},h(){h(e,"class","locked svelte-19x84r4"),h(e,"title","Locked by VIP/Moderator")},m(a,n){W(a,e,n),l(e,t)},d(a){a&&c(e)}}}function Ft(s){let e,t,a=Yt(s[11].timeSubmitted)+"",n,i,r,u,o,g,I,V,re,U,E,w,D,R,A=s[11].votes+"",N,B,Se,le=s[11].views+"",F,ye,te,j,X=s[11].category+"",Z,Y,Ce,H,L=(s[11].hidden||"\u2014")+"",oe,ie,ue,M,se=(s[11].actionType in s[4]?s[4][s[11].actionType]:s[11].actionType)+"",Ue,He,fe,K,x=(s[11].shadowHidden||"\u2014")+"",de,Ve,De,ae,O,Ae,m=s[11].UUID+"",v,Ee,y,ne,q,J,ce,ve=s[11].userID+"",he,$e,Ie,Te,qe,P;o=new Dt({props:{value:s[11].startTime}}),I=new Dt({props:{value:s[11].endTime}}),E=new Dt({props:{value:s[11].endTime-s[11].startTime}});let ee=s[11].votes<-1&&zt();function Ye(p,b){return p[11].locked?Rs:Ps}let we=Ye(s),Ne=we(s);return ne=new Ot({props:{value:s[11].UUID}}),Te=new Ot({props:{value:s[11].userID}}),{c(){e=f("tr"),t=f("td"),n=S(a),i=T(),r=f("td"),u=f("a"),_e(o.$$.fragment),g=f("br"),_e(I.$$.fragment),re=T(),U=f("td"),_e(E.$$.fragment),w=T(),D=f("td"),ee&&ee.c(),R=T(),N=S(A),B=T(),Se=f("td"),F=S(le),ye=T(),te=f("td"),j=f("span"),Z=S(X),Ce=T(),H=f("td"),oe=S(L),ie=T(),ue=f("td"),M=f("span"),Ue=S(se),fe=T(),K=f("td"),de=S(x),Ve=T(),De=f("td"),Ne.c(),ae=T(),O=f("td"),Ae=f("span"),v=S(m),Ee=f("br"),y=T(),_e(ne.$$.fragment),q=T(),J=f("td"),ce=f("span"),he=S(ve),$e=f("br"),Ie=T(),_e(Te.$$.fragment),qe=T(),this.h()},l(p){e=d(p,"TR",{});var b=_(e);t=d(b,"TD",{class:!0});var Ge=_(t);n=$(Ge,a),Ge.forEach(c),i=k(b),r=d(b,"TD",{class:!0});var Pe=_(r);u=d(Pe,"A",{href:!0,class:!0});var ke=_(u);me(o.$$.fragment,ke),g=d(ke,"BR",{}),me(I.$$.fragment,ke),ke.forEach(c),Pe.forEach(c),re=k(b),U=d(b,"TD",{class:!0});var We=_(U);me(E.$$.fragment,We),We.forEach(c),w=k(b),D=d(b,"TD",{class:!0});var Le=_(D);ee&&ee.l(Le),R=k(Le),N=$(Le,A),Le.forEach(c),B=k(b),Se=d(b,"TD",{class:!0});var et=_(Se);F=$(et,le),et.forEach(c),ye=k(b),te=d(b,"TD",{class:!0});var st=_(te);j=d(st,"SPAN",{class:!0,style:!0});var lt=_(j);Z=$(lt,X),lt.forEach(c),st.forEach(c),Ce=k(b),H=d(b,"TD",{class:!0});var Re=_(H);oe=$(Re,L),Re.forEach(c),ie=k(b),ue=d(b,"TD",{class:!0});var Be=_(ue);M=d(Be,"SPAN",{style:!0,title:!0});var at=_(M);Ue=$(at,se),at.forEach(c),Be.forEach(c),fe=k(b),K=d(b,"TD",{class:!0});var ut=_(K);de=$(ut,x),ut.forEach(c),Ve=k(b),De=d(b,"TD",{class:!0});var _t=_(De);Ne.l(_t),_t.forEach(c),ae=k(b),O=d(b,"TD",{class:!0});var Xe=_(O);Ae=d(Xe,"SPAN",{class:!0});var C=_(Ae);v=$(C,m),C.forEach(c),Ee=d(Xe,"BR",{}),y=k(Xe),me(ne.$$.fragment,Xe),Xe.forEach(c),q=k(b),J=d(b,"TD",{class:!0});var z=_(J);ce=d(z,"SPAN",{class:!0});var Ze=_(ce);he=$(Ze,ve),Ze.forEach(c),$e=d(z,"BR",{}),Ie=k(z),me(Te.$$.fragment,z),z.forEach(c),qe=k(b),b.forEach(c),this.h()},h(){h(t,"class","cell-text svelte-19x84r4"),h(u,"href",V=`https://www.youtube.com/watch?v=${s[11].videoID}${s[11].startTime>2?`&t=${Math.floor(Math.max(0,s[11].startTime-2))}s`:""}#requiredSegment=${s[11].UUID}`),h(u,"class","svelte-19x84r4"),h(r,"class","cell-number svelte-19x84r4"),h(U,"class","cell-number svelte-19x84r4"),h(D,"class","cell-number nowrap svelte-19x84r4"),h(Se,"class","cell-number svelte-19x84r4"),h(j,"class","category svelte-19x84r4"),h(j,"style",Y=`background-color:${s[6](s[11].category)}`),h(te,"class","cell-text svelte-19x84r4"),h(H,"class","cell-text svelte-19x84r4"),as(M,"cursor","help"),h(M,"title",He=s[11].actionType in s[5]?s[5][s[11].actionType]:s[11].actionType),h(ue,"class","cell-text svelte-19x84r4"),h(K,"class","cell-text svelte-19x84r4"),h(De,"class","cell-text svelte-19x84r4"),h(Ae,"class","wordbreak wordbreak--uuid svelte-19x84r4"),h(O,"class","cell-text svelte-19x84r4"),h(ce,"class","wordbreak wordbreak--uuid svelte-19x84r4"),h(J,"class","cell-text svelte-19x84r4")},m(p,b){W(p,e,b),l(e,t),l(t,n),l(e,i),l(e,r),l(r,u),ge(o,u,null),l(u,g),ge(I,u,null),l(e,re),l(e,U),ge(E,U,null),l(e,w),l(e,D),ee&&ee.m(D,null),l(D,R),l(D,N),l(e,B),l(e,Se),l(Se,F),l(e,ye),l(e,te),l(te,j),l(j,Z),l(e,Ce),l(e,H),l(H,oe),l(e,ie),l(e,ue),l(ue,M),l(M,Ue),l(e,fe),l(e,K),l(K,de),l(e,Ve),l(e,De),Ne.m(De,null),l(e,ae),l(e,O),l(O,Ae),l(Ae,v),l(O,Ee),l(O,y),ge(ne,O,null),l(e,q),l(e,J),l(J,ce),l(ce,he),l(J,$e),l(J,Ie),ge(Te,J,null),l(e,qe),P=!0},p(p,b){(!P||b&4)&&a!==(a=Yt(p[11].timeSubmitted)+"")&&be(n,a);const Ge={};b&4&&(Ge.value=p[11].startTime),o.$set(Ge);const Pe={};b&4&&(Pe.value=p[11].endTime),I.$set(Pe),(!P||b&4&&V!==(V=`https://www.youtube.com/watch?v=${p[11].videoID}${p[11].startTime>2?`&t=${Math.floor(Math.max(0,p[11].startTime-2))}s`:""}#requiredSegment=${p[11].UUID}`))&&h(u,"href",V);const ke={};b&4&&(ke.value=p[11].endTime-p[11].startTime),E.$set(ke),p[11].votes<-1?ee||(ee=zt(),ee.c(),ee.m(D,R)):ee&&(ee.d(1),ee=null),(!P||b&4)&&A!==(A=p[11].votes+"")&&be(N,A),(!P||b&4)&&le!==(le=p[11].views+"")&&be(F,le),(!P||b&4)&&X!==(X=p[11].category+"")&&be(Z,X),(!P||b&4&&Y!==(Y=`background-color:${p[6](p[11].category)}`))&&h(j,"style",Y),(!P||b&4)&&L!==(L=(p[11].hidden||"\u2014")+"")&&be(oe,L),(!P||b&4)&&se!==(se=(p[11].actionType in p[4]?p[4][p[11].actionType]:p[11].actionType)+"")&&be(Ue,se),(!P||b&4&&He!==(He=p[11].actionType in p[5]?p[5][p[11].actionType]:p[11].actionType))&&h(M,"title",He),(!P||b&4)&&x!==(x=(p[11].shadowHidden||"\u2014")+"")&&be(de,x),we!==(we=Ye(p))&&(Ne.d(1),Ne=we(p),Ne&&(Ne.c(),Ne.m(De,null))),(!P||b&4)&&m!==(m=p[11].UUID+"")&&be(v,m);const We={};b&4&&(We.value=p[11].UUID),ne.$set(We),(!P||b&4)&&ve!==(ve=p[11].userID+"")&&be(he,ve);const Le={};b&4&&(Le.value=p[11].userID),Te.$set(Le)},i(p){P||(G(o.$$.fragment,p),G(I.$$.fragment,p),G(E.$$.fragment,p),G(ne.$$.fragment,p),G(Te.$$.fragment,p),P=!0)},o(p){Q(o.$$.fragment,p),Q(I.$$.fragment,p),Q(E.$$.fragment,p),Q(ne.$$.fragment,p),Q(Te.$$.fragment,p),P=!1},d(p){p&&c(e),pe(o),pe(I),pe(E),ee&&ee.d(),Ne.d(),pe(ne),pe(Te)}}}function Ms(s){let e,t,a,n,i,r,u,o,g,I,V,re,U,E,w,D,R,A,N,B,Se,le,F,ye,te,j,X,Z,Y,Ce,H,L,oe,ie,ue,M,se,Ue,He,fe,K,x,de,Ve,De;i=new Je({props:{sortBy:"timeSubmitted",name:"timeSubmitted",sorting:s[0],current:s[3],$$slots:{default:[Is]},$$scope:{ctx:s}}}),o=new Je({props:{name:"startTime",sorting:s[0],current:s[3],$$slots:{default:[ws]},$$scope:{ctx:s}}}),E=new Je({props:{name:"votes",sorting:s[0],current:s[3],$$slots:{default:[ys]},$$scope:{ctx:s}}}),R=new Je({props:{name:"views",sorting:s[0],current:s[3],$$slots:{default:[Cs]},$$scope:{ctx:s}}}),B=new Je({props:{name:"category",sorting:s[0],current:s[3],$$slots:{default:[As]},$$scope:{ctx:s}}}),F=new Je({props:{name:"hidden",sorting:s[0],current:s[3],$$slots:{default:[Ns]},$$scope:{ctx:s}}}),j=new Je({props:{name:"hidden",sorting:s[0],current:s[3],$$slots:{default:[Ls]},$$scope:{ctx:s}}}),Y=new Je({props:{name:"shadowHidden",sorting:s[0],current:s[3],$$slots:{default:[Bs]},$$scope:{ctx:s}}}),L=new Je({props:{name:"locked",sorting:s[0],current:s[3],$$slots:{default:[Us]},$$scope:{ctx:s}}});const ae=[Vs,Hs],O=[];function Ae(m,v){return m[1]?0:1}return K=Ae(s),x=O[K]=ae[K](s),{c(){e=f("table"),t=f("thead"),a=f("tr"),n=f("th"),_e(i.$$.fragment),r=T(),u=f("th"),_e(o.$$.fragment),g=T(),I=f("th"),V=S("Length"),re=T(),U=f("th"),_e(E.$$.fragment),w=T(),D=f("th"),_e(R.$$.fragment),A=T(),N=f("th"),_e(B.$$.fragment),Se=T(),le=f("th"),_e(F.$$.fragment),ye=T(),te=f("th"),_e(j.$$.fragment),X=T(),Z=f("th"),_e(Y.$$.fragment),Ce=T(),H=f("th"),_e(L.$$.fragment),oe=T(),ie=f("th"),ue=S("UUID"),M=T(),se=f("th"),Ue=S("Submitter UUID"),He=T(),fe=f("tbody"),x.c(),this.h()},l(m){e=d(m,"TABLE",{class:!0});var v=_(e);t=d(v,"THEAD",{class:!0});var Ee=_(t);a=d(Ee,"TR",{});var y=_(a);n=d(y,"TH",{class:!0,"data-sortby":!0});var ne=_(n);me(i.$$.fragment,ne),ne.forEach(c),r=k(y),u=d(y,"TH",{class:!0,"data-sortby":!0});var q=_(u);me(o.$$.fragment,q),q.forEach(c),g=k(y),I=d(y,"TH",{class:!0});var J=_(I);V=$(J,"Length"),J.forEach(c),re=k(y),U=d(y,"TH",{class:!0,"data-sortby":!0});var ce=_(U);me(E.$$.fragment,ce),ce.forEach(c),w=k(y),D=d(y,"TH",{class:!0,"data-sortby":!0});var ve=_(D);me(R.$$.fragment,ve),ve.forEach(c),A=k(y),N=d(y,"TH",{class:!0,"data-sortby":!0});var he=_(N);me(B.$$.fragment,he),he.forEach(c),Se=k(y),le=d(y,"TH",{class:!0,"data-sortby":!0});var $e=_(le);me(F.$$.fragment,$e),$e.forEach(c),ye=k(y),te=d(y,"TH",{class:!0,"data-sortby":!0});var Ie=_(te);me(j.$$.fragment,Ie),Ie.forEach(c),X=k(y),Z=d(y,"TH",{class:!0,"data-sortby":!0});var Te=_(Z);me(Y.$$.fragment,Te),Te.forEach(c),Ce=k(y),H=d(y,"TH",{class:!0,"data-sortby":!0});var qe=_(H);me(L.$$.fragment,qe),qe.forEach(c),oe=k(y),ie=d(y,"TH",{class:!0});var P=_(ie);ue=$(P,"UUID"),P.forEach(c),M=k(y),se=d(y,"TH",{class:!0});var ee=_(se);Ue=$(ee,"Submitter UUID"),ee.forEach(c),y.forEach(c),Ee.forEach(c),He=k(v),fe=d(v,"TBODY",{});var Ye=_(fe);x.l(Ye),Ye.forEach(c),v.forEach(c),this.h()},h(){h(n,"class","cell-text svelte-19x84r4"),h(n,"data-sortby","timeSubmitted"),h(u,"class","cell-number svelte-19x84r4"),h(u,"data-sortby","startTime"),h(I,"class","cell-number svelte-19x84r4"),h(U,"class","cell-number svelte-19x84r4"),h(U,"data-sortby","votes"),h(D,"class","cell-number svelte-19x84r4"),h(D,"data-sortby","views"),h(N,"class","cell-text svelte-19x84r4"),h(N,"data-sortby","category"),h(le,"class","cell-number svelte-19x84r4"),h(le,"data-sortby","hidden"),h(te,"class","cell-text svelte-19x84r4"),h(te,"data-sortby","actiontype"),h(Z,"class","cell-number svelte-19x84r4"),h(Z,"data-sortby","shadowHidden"),h(H,"class","cell-number svelte-19x84r4"),h(H,"data-sortby","locked"),h(ie,"class","cell-text svelte-19x84r4"),h(se,"class","cell-text svelte-19x84r4"),h(t,"class","svelte-19x84r4"),h(e,"class","svelte-19x84r4")},m(m,v){W(m,e,v),l(e,t),l(t,a),l(a,n),ge(i,n,null),l(a,r),l(a,u),ge(o,u,null),l(a,g),l(a,I),l(I,V),l(a,re),l(a,U),ge(E,U,null),l(a,w),l(a,D),ge(R,D,null),l(a,A),l(a,N),ge(B,N,null),l(a,Se),l(a,le),ge(F,le,null),l(a,ye),l(a,te),ge(j,te,null),l(a,X),l(a,Z),ge(Y,Z,null),l(a,Ce),l(a,H),ge(L,H,null),l(a,oe),l(a,ie),l(ie,ue),l(a,M),l(a,se),l(se,Ue),l(e,He),l(e,fe),O[K].m(fe,null),de=!0,Ve||(De=[Ke(s[7].call(null,n)),Ke(s[7].call(null,u)),Ke(s[7].call(null,U)),Ke(s[7].call(null,D)),Ke(s[7].call(null,N)),Ke(s[7].call(null,le)),Ke(s[7].call(null,te)),Ke(s[7].call(null,Z)),Ke(s[7].call(null,H))],Ve=!0)},p(m,[v]){const Ee={};v&1&&(Ee.sorting=m[0]),v&8&&(Ee.current=m[3]),v&16384&&(Ee.$$scope={dirty:v,ctx:m}),i.$set(Ee);const y={};v&1&&(y.sorting=m[0]),v&8&&(y.current=m[3]),v&16384&&(y.$$scope={dirty:v,ctx:m}),o.$set(y);const ne={};v&1&&(ne.sorting=m[0]),v&8&&(ne.current=m[3]),v&16384&&(ne.$$scope={dirty:v,ctx:m}),E.$set(ne);const q={};v&1&&(q.sorting=m[0]),v&8&&(q.current=m[3]),v&16384&&(q.$$scope={dirty:v,ctx:m}),R.$set(q);const J={};v&1&&(J.sorting=m[0]),v&8&&(J.current=m[3]),v&16384&&(J.$$scope={dirty:v,ctx:m}),B.$set(J);const ce={};v&1&&(ce.sorting=m[0]),v&8&&(ce.current=m[3]),v&16384&&(ce.$$scope={dirty:v,ctx:m}),F.$set(ce);const ve={};v&1&&(ve.sorting=m[0]),v&8&&(ve.current=m[3]),v&16384&&(ve.$$scope={dirty:v,ctx:m}),j.$set(ve);const he={};v&1&&(he.sorting=m[0]),v&8&&(he.current=m[3]),v&16384&&(he.$$scope={dirty:v,ctx:m}),Y.$set(he);const $e={};v&1&&($e.sorting=m[0]),v&8&&($e.current=m[3]),v&16384&&($e.$$scope={dirty:v,ctx:m}),L.$set($e);let Ie=K;K=Ae(m),K===Ie?O[K].p(m,v):(jt(),Q(O[Ie],1,1,()=>{O[Ie]=null}),Kt(),x=O[K],x?x.p(m,v):(x=O[K]=ae[K](m),x.c()),G(x,1),x.m(fe,null))},i(m){de||(G(i.$$.fragment,m),G(o.$$.fragment,m),G(E.$$.fragment,m),G(R.$$.fragment,m),G(B.$$.fragment,m),G(F.$$.fragment,m),G(j.$$.fragment,m),G(Y.$$.fragment,m),G(L.$$.fragment,m),G(x),de=!0)},o(m){Q(i.$$.fragment,m),Q(o.$$.fragment,m),Q(E.$$.fragment,m),Q(R.$$.fragment,m),Q(B.$$.fragment,m),Q(F.$$.fragment,m),Q(j.$$.fragment,m),Q(Y.$$.fragment,m),Q(L.$$.fragment,m),Q(x),de=!1},d(m){m&&c(e),pe(i),pe(o),pe(E),pe(R),pe(B),pe(F),pe(j),pe(Y),pe(L),O[K].d(),Ve=!1,Jt(De)}}}const It="ASC",pt="DESC";function Yt(s){const e=new Date(s);return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")} ${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}`}function Os(s,e,t){let a;Qt(s,Ds,E=>t(10,a=E));let{segments:n=[]}=e,{isLoading:i=!1}=e,{sortDirection:r="DESC"}=e,{sortBy:u="timeSubmitted"}=e,o;const g={skip:"\u23ED\uFE0F",mute:"\u{1F507}",full:"\u267E\uFE0F",poi:"\u{1F4CC}",chapter:"\u{1F3F7}\uFE0F"},I={skip:"Skip",mute:"Muted",full:"Full",poi:"Highlight",chapter:"Chapter"};let V=u;r=r==="DESC"?pt:It;function re(E){var w;return((w=a.find(D=>D.id===E))===null||w===void 0?void 0:w.color)||"transparent"}function U(E){const w=E.getAttribute("sortBy");E.addEventListener("click",D=>{V===w?t(0,r=r===pt?It:pt):(t(0,r=pt),t(3,V=w)),t(2,o=[...n].sort((R,A)=>R[w]===A[w]?0:R[w]>A[w]?-1:1)),r===It&&t(2,o=[...o].reverse())})}return s.$$set=E=>{"segments"in E&&t(8,n=E.segments),"isLoading"in E&&t(1,i=E.isLoading),"sortDirection"in E&&t(0,r=E.sortDirection),"sortBy"in E&&t(9,u=E.sortBy)},s.$$.update=()=>{s.$$.dirty&256&&t(2,o=[...n])},[r,i,o,V,g,I,re,U,n,u]}class qs extends ot{constructor(e){super(),it(this,e,Os,Ms,ct,{segments:8,isLoading:1,sortDirection:0,sortBy:9})}}function Gt(s,e,t){const a=s.slice();return a[7]=e[t],a[9]=t,a}function Wt(s){let e,t=s[9]+1+"",a,n,i,r;function u(){return s[3](s[9])}return{c(){e=f("button"),a=S(t),this.h()},l(o){e=d(o,"BUTTON",{});var g=_(e);a=$(g,t),g.forEach(c),this.h()},h(){e.disabled=n=s[0]===s[9]+1},m(o,g){W(o,e,g),l(e,a),i||(r=Oe(e,"click",u),i=!0)},p(o,g){s=o,g&1&&n!==(n=s[0]===s[9]+1)&&(e.disabled=n)},d(o){o&&c(e),i=!1,r()}}}function zs(s){let e,t=Array(s[1]),a=[];for(let n=0;n<t.length;n+=1)a[n]=Wt(Gt(s,t,n));return{c(){for(let n=0;n<a.length;n+=1)a[n].c();e=vt()},l(n){for(let i=0;i<a.length;i+=1)a[i].l(n);e=vt()},m(n,i){for(let r=0;r<a.length;r+=1)a[r].m(n,i);W(n,e,i)},p(n,[i]){if(i&7){t=Array(n[1]);let r;for(r=0;r<t.length;r+=1){const u=Gt(n,t,r);a[r]?a[r].p(u,i):(a[r]=Wt(u),a[r].c(),a[r].m(e.parentNode,e))}for(;r<a.length;r+=1)a[r].d(1);a.length=t.length}},i:Qe,o:Qe,d(n){Xt(a,n),n&&c(e)}}}function Fs(s,e,t){let{current:a=1}=e,{last:n=1}=e;const i=ns();function r(o){i("click",{page:o})}const u=o=>r(o+1);return s.$$set=o=>{"current"in o&&t(0,a=o.current),"last"in o&&t(1,n=o.last)},s.$$.update=()=>{s.$$.dirty&3,s.$$.dirty&1},[a,n,r,u]}class Ys extends ot{constructor(e){super(),it(this,e,Fs,zs,ct,{current:0,last:1})}}function Gs(s){let e,t,a,n,i,r,u,o,g,I,V,re,U,E,w,D,R,A,N,B,Se,le,F,ye,te,j,X,Z,Y,Ce,H,L,oe,ie,ue,M,se,Ue,He,fe,K,x,de,Ve,De,ae,O,Ae,m=s[2].segmentCount+"",v,Ee,y,ne,q,J=s[0]+1+"",ce,ve,he=Math.ceil(s[2].segmentCount/bt)+"",$e,Ie,Te,qe,P,ee,Ye,we,Ne,p,b,Ge,Pe,ke,We,Le=Math.round(s[10])+"",et,st,lt,Re,Be,at,ut;function _t(C){s[16](C)}let Xe={type:"text",id:"videoid",placeholder:"VideoID"};return s[4]!==void 0&&(Xe.value=s[4]),V=new vs({props:Xe}),rs.push(()=>os(V,"value",_t)),y=new qs({props:{segments:s[12],isLoading:!1,sortDirection:"ASC"}}),b=new Ys({props:{current:s[0]+1,last:s[1]+1}}),b.$on("click",s[15]),Re=new ms({props:{status:s[11]}}),{c(){e=T(),t=f("main"),a=f("div"),n=f("form"),i=f("div"),r=f("div"),u=f("label"),o=S("VideoID:"),g=f("br"),I=T(),_e(V.$$.fragment),U=T(),E=f("div"),w=f("label"),D=S("Service:"),R=f("br"),A=T(),N=f("select"),B=f("option"),Se=S("YouTube"),le=T(),F=f("div"),ye=S("Include:"),te=f("br"),j=T(),X=f("div"),Z=f("label"),Y=f("input"),Ce=S(`
              Locked`),H=T(),L=f("label"),oe=f("input"),ie=S(`
              hidden`),ue=T(),M=f("label"),se=f("input"),Ue=S(`
              ignored`),He=T(),fe=f("div"),K=f("br"),x=T(),de=f("button"),Ve=S("Search"),De=T(),ae=f("div"),O=f("h2"),Ae=S("SegmentCount: "),v=S(m),Ee=T(),_e(y.$$.fragment),ne=T(),q=f("div"),ce=S(J),ve=S(" of "),$e=S(he),Ie=T(),Te=f("br"),qe=T(),P=f("button"),ee=S("prev page"),Ye=T(),we=f("button"),Ne=S("next page"),p=T(),_e(b.$$.fragment),Ge=T(),Pe=f("div"),ke=f("sub"),We=S("(Loadtime: "),et=S(Le),st=S("ms)"),lt=T(),_e(Re.$$.fragment),this.h()},l(C){is('[data-svelte="svelte-40ey8a"]',document.head).forEach(c),e=k(C),t=d(C,"MAIN",{});var Ze=_(t);a=d(Ze,"DIV",{class:!0});var je=_(a);n=d(je,"FORM",{});var nt=_(n);i=d(nt,"DIV",{class:!0});var Me=_(i);r=d(Me,"DIV",{});var ft=_(r);u=d(ft,"LABEL",{for:!0});var wt=_(u);o=$(wt,"VideoID:"),wt.forEach(c),g=d(ft,"BR",{}),I=k(ft),me(V.$$.fragment,ft),ft.forEach(c),U=k(Me),E=d(Me,"DIV",{});var dt=_(E);w=d(dt,"LABEL",{for:!0});var yt=_(w);D=$(yt,"Service:"),yt.forEach(c),R=d(dt,"BR",{}),A=k(dt),N=d(dt,"SELECT",{id:!0,name:!0});var Ct=_(N);B=d(Ct,"OPTION",{});var At=_(B);Se=$(At,"YouTube"),At.forEach(c),Ct.forEach(c),dt.forEach(c),le=k(Me),F=d(Me,"DIV",{});var ht=_(F);ye=$(ht,"Include:"),te=d(ht,"BR",{}),j=k(ht),X=d(ht,"DIV",{class:!0});var rt=_(X);Z=d(rt,"LABEL",{});var St=_(Z);Y=d(St,"INPUT",{type:!0,name:!0}),Ce=$(St,`
              Locked`),St.forEach(c),H=k(rt),L=d(rt,"LABEL",{});var $t=_(L);oe=d($t,"INPUT",{type:!0,name:!0}),ie=$($t,`
              hidden`),$t.forEach(c),ue=k(rt),M=d(rt,"LABEL",{});var Et=_(M);se=d(Et,"INPUT",{type:!0,name:!0}),Ue=$(Et,`
              ignored`),Et.forEach(c),rt.forEach(c),ht.forEach(c),He=k(Me),fe=d(Me,"DIV",{});var mt=_(fe);K=d(mt,"BR",{}),x=k(mt),de=d(mt,"BUTTON",{type:!0,class:!0});var Nt=_(de);Ve=$(Nt,"Search"),Nt.forEach(c),mt.forEach(c),Me.forEach(c),nt.forEach(c),De=k(je),ae=d(je,"DIV",{});var ze=_(ae);O=d(ze,"H2",{});var Tt=_(O);Ae=$(Tt,"SegmentCount: "),v=$(Tt,m),Tt.forEach(c),Ee=k(ze),me(y.$$.fragment,ze),ne=k(ze),q=d(ze,"DIV",{});var Fe=_(q);ce=$(Fe,J),ve=$(Fe," of "),$e=$(Fe,he),Ie=k(Fe),Te=d(Fe,"BR",{}),qe=k(Fe),P=d(Fe,"BUTTON",{class:!0});var Lt=_(P);ee=$(Lt,"prev page"),Lt.forEach(c),Ye=k(Fe),we=d(Fe,"BUTTON",{class:!0});var Bt=_(we);Ne=$(Bt,"next page"),Bt.forEach(c),Fe.forEach(c),p=k(ze),me(b.$$.fragment,ze),Ge=k(ze),Pe=d(ze,"DIV",{});var Ut=_(Pe);ke=d(Ut,"SUB",{});var gt=_(ke);We=$(gt,"(Loadtime: "),et=$(gt,Le),st=$(gt,"ms)"),gt.forEach(c),Ut.forEach(c),ze.forEach(c),lt=k(je),me(Re.$$.fragment,je),je.forEach(c),Ze.forEach(c),this.h()},h(){document.title="Browse | SponsorBlockControl",h(u,"for","videoid"),h(w,"for","service"),B.__value="youtube",B.value=B.__value,h(N,"id","service"),h(N,"name","service"),s[3]===void 0&&cs(()=>s[17].call(N)),h(Y,"type","checkbox"),h(Y,"name","locked"),h(oe,"type","checkbox"),h(oe,"name","hidden"),h(se,"type","checkbox"),h(se,"name","ignored"),h(X,"class","filters svelte-1z0tix8"),h(de,"type","submit"),h(de,"class","svelte-1z0tix8"),h(i,"class","filters svelte-1z0tix8"),P.disabled=s[6],h(P,"class","svelte-1z0tix8"),we.disabled=s[5],h(we,"class","svelte-1z0tix8"),h(a,"class","container")},m(C,z){W(C,e,z),W(C,t,z),l(t,a),l(a,n),l(n,i),l(i,r),l(r,u),l(u,o),l(r,g),l(r,I),ge(V,r,null),l(i,U),l(i,E),l(E,w),l(w,D),l(E,R),l(E,A),l(E,N),l(N,B),l(B,Se),Rt(N,s[3]),l(i,le),l(i,F),l(F,ye),l(F,te),l(F,j),l(F,X),l(X,Z),l(Z,Y),Y.checked=s[7],l(Z,Ce),l(X,H),l(X,L),l(L,oe),oe.checked=s[8],l(L,ie),l(X,ue),l(X,M),l(M,se),se.checked=s[9],l(M,Ue),l(i,He),l(i,fe),l(fe,K),l(fe,x),l(fe,de),l(de,Ve),l(a,De),l(a,ae),l(ae,O),l(O,Ae),l(O,v),l(ae,Ee),ge(y,ae,null),l(ae,ne),l(ae,q),l(q,ce),l(q,ve),l(q,$e),l(q,Ie),l(q,Te),l(q,qe),l(q,P),l(P,ee),l(q,Ye),l(q,we),l(we,Ne),l(ae,p),ge(b,ae,null),l(ae,Ge),l(ae,Pe),l(Pe,ke),l(ke,We),l(ke,et),l(ke,st),l(a,lt),ge(Re,a,null),Be=!0,at||(ut=[Oe(N,"change",s[17]),Oe(Y,"change",s[18]),Oe(oe,"change",s[19]),Oe(se,"change",s[20]),Oe(de,"click",s[21]),Oe(n,"submit",us(s[14])),Oe(P,"click",s[22]),Oe(we,"click",s[23])],at=!0)},p(C,[z]){const Ze={};!re&&z&16&&(re=!0,Ze.value=C[4],fs(()=>re=!1)),V.$set(Ze),z&8&&Rt(N,C[3]),z&128&&(Y.checked=C[7]),z&256&&(oe.checked=C[8]),z&512&&(se.checked=C[9]),(!Be||z&4)&&m!==(m=C[2].segmentCount+"")&&be(v,m);const je={};z&4096&&(je.segments=C[12]),y.$set(je),(!Be||z&1)&&J!==(J=C[0]+1+"")&&be(ce,J),(!Be||z&4)&&he!==(he=Math.ceil(C[2].segmentCount/bt)+"")&&be($e,he),(!Be||z&64)&&(P.disabled=C[6]),(!Be||z&32)&&(we.disabled=C[5]);const nt={};z&1&&(nt.current=C[0]+1),z&2&&(nt.last=C[1]+1),b.$set(nt),(!Be||z&1024)&&Le!==(Le=Math.round(C[10])+"")&&be(et,Le);const Me={};z&2048&&(Me.status=C[11]),Re.$set(Me)},i(C){Be||(G(V.$$.fragment,C),G(y.$$.fragment,C),G(b.$$.fragment,C),G(Re.$$.fragment,C),Be=!0)},o(C){Q(V.$$.fragment,C),Q(y.$$.fragment,C),Q(b.$$.fragment,C),Q(Re.$$.fragment,C),Be=!1},d(C){C&&c(e),C&&c(t),pe(V),pe(y),pe(b),pe(Re),at=!1,Jt(ut)}}}let Ws=0;const bt=10;function js(s,e,t){let a,n;Qt(s,_s,H=>t(24,n=H));let i="youtube",r="",u=0,o=!1,g=!0,I=0,V=-2,re=1/0,U=1/0,E=!0,w=!0,D=!0,R=0,A={segmentCount:0,page:0,segments:[]},N=tt.IDLE;ds(async()=>{const H=new URLSearchParams(window.location.search);H.has("videoID")&&(t(4,r=H.get("videoID")),await B())});async function B(H=0){console.log("Sending fetch request"),t(11,N=tt.WORKING);const L=new URLSearchParams;L.append("videoID",r),L.append("service",i),L.append("page",H.toString()),L.append("minVotes",V.toString()),L.append("maxVotes",re.toString()),L.append("minViews",Ws.toString()),L.append("maxViews",U.toString()),L.append("locked",E.toString()),L.append("hidden",w.toString()),L.append("ignored",D.toString());const oe=performance.now(),ie=await fetch(`${n.sponsorBlockApi}/api/searchSegments?${L}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(t(10,R=performance.now()-oe),ie.status===200){t(11,N=tt.SUCCESS);const ue=await ie.json();t(2,A.segmentCount=ue.segmentCount,A),t(2,A.page=ue.page,A),t(2,A.segments=[...ue.segments].map(M=>(M.duration=M.endTime-M.startTime,M.videoID=r,M)),A)}else t(2,A.segmentCount=0,A),t(2,A.page=0,A),t(2,A.segments=[],A),ie.status===400&&t(11,N=tt.ERROR_INVALID),ie.status===404&&t(11,N=tt.NOT_FOUND);N===tt.WORKING&&t(11,N=tt.ERROR_OTHER)}async function Se(){gs(`${ps}/browse/?videoID=${r}`)}async function le(H){const L=H.detail.page-1;console.log("paginationHandler",L),await B(L),t(0,u=L)}function F(H){r=H,t(4,r)}function ye(){i=hs(this),t(3,i)}function te(){E=this.checked,t(7,E)}function j(){w=this.checked,t(8,w)}function X(){D=this.checked,t(9,D)}const Z=async()=>await B(0),Y=()=>B(t(0,u=Math.max(0,u-1))),Ce=()=>B(t(0,u=Math.min(Math.floor(A.segmentCount/bt),u+1)));return s.$$.update=()=>{s.$$.dirty&4&&t(1,I=Math.floor(A.segmentCount/bt)),s.$$.dirty&3&&t(5,o=u===I),s.$$.dirty&1&&t(6,g=u===0),s.$$.dirty&4&&t(12,a=[...A.segments])},[u,I,A,i,r,o,g,E,w,D,R,N,a,B,Se,le,F,ye,te,j,X,Z,Y,Ce]}class tl extends ot{constructor(e){super(),it(this,e,js,Gs,ct,{})}}export{tl as default};
