import{S as Be,i as Ve,s as we,a as I,k as o,q as G,v as Ae,W as Pe,h as i,c as U,l as n,m as _,r as H,w as Ce,n as r,H as Re,b as me,D as e,a8 as Ne,x as qe,I as Z,f as Ge,t as He,F as Fe,y as We,R as ze,G as Ke,aa as Je}from"../../../chunks/index-a74698fd.js";import{c as ge,a as Me}from"../../../chunks/config-95127e1a.js";import{C as Ze}from"../../../chunks/config-1a541b95.js";import{a as je}from"../../../chunks/utils-e0c09108.js";import{a as Qe,S as K}from"../../../chunks/Status-b63e8986.js";function Oe(a,d,t){const u=a.slice();return u[15]=d[t],u[17]=t,u}function Te(a){let d,t,u,c,E=Me[a[17]]+"",D,S,l,f;return{c(){d=o("div"),t=o("input"),u=I(),c=o("label"),D=G(E),S=I(),this.h()},l(h){d=n(h,"DIV",{class:!0});var v=_(d);t=n(v,"INPUT",{id:!0,type:!0}),u=U(v),c=n(v,"LABEL",{for:!0});var w=_(c);D=H(w,E),w.forEach(i),S=U(v),v.forEach(i),this.h()},h(){r(t,"id","category_"+a[15]),r(t,"type","checkbox"),t.__value=a[15],t.value=t.__value,a[11][0].push(t),r(c,"for","category_"+a[15]),r(d,"class","category-option svelte-135auq9")},m(h,v){me(h,d,v),e(d,t),t.checked=~a[3].indexOf(t.__value),e(d,u),e(d,c),e(c,D),e(d,S),l||(f=Z(t,"change",a[10]),l=!0)},p(h,v){v&8&&(t.checked=~h[3].indexOf(t.__value))},d(h){h&&i(d),a[11][0].splice(a[11][0].indexOf(t),1),l=!1,f()}}}function Xe(a){let d,t,u,c,E,D,S,l,f,h,v,w,j,k,Q,N,L,O,m,F,X,W,A,ne,J,ie,re,y,Y,de,ue,x,ce,P,T,he,ee,_e,B,fe,te,pe,C,q,ve,Ie,M=ge,b=[];for(let s=0;s<M.length;s+=1)b[s]=Te(Oe(a,M,s));return C=new Qe({props:{status:a[5]}}),{c(){d=I(),t=o("main"),u=o("div"),c=o("fieldset"),E=o("legend"),D=G("Shadow ban user:"),S=I(),l=o("div"),f=o("div"),h=o("label"),v=G("User UUID:"),w=o("br"),j=I(),k=o("input"),Q=I(),N=o("div"),L=o("input"),O=I(),m=o("label"),F=G("Look for IPs"),X=I(),W=o("div"),A=o("input"),ne=I(),J=o("label"),ie=G("Hide/Restore old submissions"),re=I(),y=o("div"),Y=o("div"),de=G("Categories to hide:"),ue=I();for(let s=0;s<b.length;s+=1)b[s].c();ce=I(),P=o("div"),T=o("button"),he=G("Unban"),_e=I(),B=o("button"),fe=G("Ban"),pe=I(),Ae(C.$$.fragment),this.h()},l(s){Pe('[data-svelte="svelte-16ud56z"]',document.head).forEach(i),d=U(s),t=n(s,"MAIN",{});var V=_(t);u=n(V,"DIV",{class:!0});var p=_(u);c=n(p,"FIELDSET",{});var z=_(c);E=n(z,"LEGEND",{});var Ue=_(E);D=H(Ue,"Shadow ban user:"),Ue.forEach(i),S=U(z),l=n(z,"DIV",{class:!0});var R=_(l);f=n(R,"DIV",{});var $=_(f);h=n($,"LABEL",{for:!0});var Ee=_(h);v=H(Ee,"User UUID:"),Ee.forEach(i),w=n($,"BR",{}),j=U($),k=n($,"INPUT",{id:!0,type:!0,size:!0,placeholder:!0}),$.forEach(i),Q=U(R),N=n(R,"DIV",{});var se=_(N);L=n(se,"INPUT",{id:!0,type:!0}),O=U(se),m=n(se,"LABEL",{for:!0});var ke=_(m);F=H(ke,"Look for IPs"),ke.forEach(i),se.forEach(i),X=U(R),W=n(R,"DIV",{});var ae=_(W);A=n(ae,"INPUT",{id:!0,type:!0}),ne=U(ae),J=n(ae,"LABEL",{for:!0});var De=_(J);ie=H(De,"Hide/Restore old submissions"),De.forEach(i),ae.forEach(i),re=U(R),y=n(R,"DIV",{class:!0});var le=_(y);Y=n(le,"DIV",{});var Se=_(Y);de=H(Se,"Categories to hide:"),Se.forEach(i),ue=U(le);for(let be=0;be<b.length;be+=1)b[be].l(le);le.forEach(i),ce=U(R),P=n(R,"DIV",{class:!0});var oe=_(P);T=n(oe,"BUTTON",{type:!0});var ye=_(T);he=H(ye,"Unban"),ye.forEach(i),_e=U(oe),B=n(oe,"BUTTON",{type:!0});var Le=_(B);fe=H(Le,"Ban"),Le.forEach(i),oe.forEach(i),R.forEach(i),z.forEach(i),pe=U(p),Ce(C.$$.fragment,p),p.forEach(i),V.forEach(i),this.h()},h(){document.title="Shadowban | SponsorBlockControl",r(h,"for","uuid"),r(k,"id","uuid"),r(k,"type","text"),r(k,"size","64"),r(k,"placeholder","Users UUID..."),r(L,"id","lookforips"),r(L,"type","checkbox"),r(m,"for","lookforips"),r(A,"id","hideoldsubmissions"),r(A,"type","checkbox"),r(J,"for","hideoldsubmissions"),r(y,"class","categories-to-hide svelte-135auq9"),y.hidden=x=!a[2],r(T,"type","button"),T.disabled=ee=!a[4],r(B,"type","button"),B.disabled=te=!a[4],r(P,"class","actions"),r(l,"class","form svelte-135auq9"),Re(l,"working",a[5]===K.WORKING),r(u,"class","container")},m(s,g){me(s,d,g),me(s,t,g),e(t,u),e(u,c),e(c,E),e(E,D),e(c,S),e(c,l),e(l,f),e(f,h),e(h,v),e(f,w),e(f,j),e(f,k),Ne(k,a[0]),e(l,Q),e(l,N),e(N,L),L.checked=a[1],e(N,O),e(N,m),e(m,F),e(l,X),e(l,W),e(W,A),A.checked=a[2],e(W,ne),e(W,J),e(J,ie),e(l,re),e(l,y),e(y,Y),e(Y,de),e(y,ue);for(let V=0;V<b.length;V+=1)b[V].m(y,null);e(l,ce),e(l,P),e(P,T),e(T,he),e(P,_e),e(P,B),e(B,fe),e(u,pe),qe(C,u,null),q=!0,ve||(Ie=[Z(k,"input",a[7]),Z(L,"change",a[8]),Z(A,"change",a[9]),Z(T,"click",a[12]),Z(B,"click",a[13])],ve=!0)},p(s,[g]){if(g&1&&k.value!==s[0]&&Ne(k,s[0]),g&2&&(L.checked=s[1]),g&4&&(A.checked=s[2]),g&8){M=ge;let p;for(p=0;p<M.length;p+=1){const z=Oe(s,M,p);b[p]?b[p].p(z,g):(b[p]=Te(z),b[p].c(),b[p].m(y,null))}for(;p<b.length;p+=1)b[p].d(1);b.length=M.length}(!q||g&4&&x!==(x=!s[2]))&&(y.hidden=x),(!q||g&16&&ee!==(ee=!s[4]))&&(T.disabled=ee),(!q||g&16&&te!==(te=!s[4]))&&(B.disabled=te),(!q||g&32)&&Re(l,"working",s[5]===K.WORKING);const V={};g&32&&(V.status=s[5]),C.$set(V)},i(s){q||(Ge(C.$$.fragment,s),q=!0)},o(s){He(C.$$.fragment,s),q=!1},d(s){s&&i(d),s&&i(t),Fe(b,s),We(C),ve=!1,ze(Ie)}}}function Ye(a,d,t){let u;Ke(a,Ze,O=>t(14,u=O));let c="",E=!1,D=!0,S=[...ge],l=!1,f=K.IDLE;async function h(O="ban"){t(5,f=K.WORKING);const m=new URLSearchParams;m.set("adminUserID",u.privateUUID),m.set("userID",c),m.set("enabled",(O==="ban").toString()),m.set("lookForIPs",E.toString()),m.set("unHideOldSubmissions",D.toString()),m.set("categories",JSON.stringify(S));const F=await fetch(`${u.sponsorBlockApi}/api/shadowBanUser?${m}`,{method:"post"}).then(function(X){return X.status});F===200&&t(5,f=K.SUCCESS),F===400&&t(5,f=K.ERROR_INVALID),F===403&&t(5,f=K.ERROR_UNAUTHORIZED)}const v=[[]];function w(){c=this.value,t(0,c)}function j(){E=this.checked,t(1,E)}function k(){D=this.checked,t(2,D)}function Q(){S=Je(v[0],this.__value,this.checked),t(3,S)}const N=O=>{h("unban")},L=O=>{h("ban")};return a.$$.update=()=>{a.$$.dirty&1&&t(4,l=je(c))},[c,E,D,S,l,f,h,w,j,k,Q,v,N,L]}class at extends Be{constructor(d){super(),Ve(this,d,Ye,Xe,we,{})}}export{at as default};
