import{S as Ze,i as je,s as Qe,a as v,k as d,q as P,v as Xe,W as Ye,h as _,c as b,l as u,m as p,r as C,w as $e,n as f,H as He,b as _e,D as t,a8 as Fe,x as xe,I as Z,f as et,t as tt,F as We,y as lt,R as st,G as ot,aa as qe}from"../../../chunks/index-a74698fd.js";import{c as Te,e as we,a as at,f as nt}from"../../../chunks/config-5b5db750.js";import{C as it}from"../../../chunks/config-1a541b95.js";import{a as rt}from"../../../chunks/utils-e0c09108.js";import{a as dt,S as j}from"../../../chunks/Status-b63e8986.js";function ze(l,o,e){const i=l.slice();return i[17]=o[e],i[19]=e,i}function Ke(l,o,e){const i=l.slice();return i[20]=o[e],i[19]=e,i}function Je(l){let o,e,i,c,I=at[l[19]]+"",E,k,a,g;return{c(){o=d("div"),e=d("input"),i=v(),c=d("label"),E=P(I),k=v(),this.h()},l(r){o=u(r,"DIV",{class:!0});var h=p(o);e=u(h,"INPUT",{id:!0,type:!0}),i=b(h),c=u(h,"LABEL",{for:!0});var y=p(c);E=C(y,I),y.forEach(_),k=b(h),h.forEach(_),this.h()},h(){f(e,"id","category_"+l[20]),f(e,"type","checkbox"),e.__value=l[20],e.value=e.__value,l[12][1].push(e),f(c,"for","category_"+l[20]),f(o,"class","to-hide-option svelte-29idue")},m(r,h){_e(r,o,h),t(o,e),e.checked=~l[3].indexOf(e.__value),t(o,i),t(o,c),t(c,E),t(o,k),a||(g=Z(e,"change",l[11]),a=!0)},p(r,h){h&8&&(e.checked=~r[3].indexOf(e.__value))},d(r){r&&_(o),l[12][1].splice(l[12][1].indexOf(e),1),a=!1,g()}}}function Me(l){let o,e,i,c,I=nt[l[19]]+"",E,k,a,g;return{c(){o=d("div"),e=d("input"),i=v(),c=d("label"),E=P(I),k=v(),this.h()},l(r){o=u(r,"DIV",{class:!0});var h=p(o);e=u(h,"INPUT",{id:!0,type:!0}),i=b(h),c=u(h,"LABEL",{for:!0});var y=p(c);E=C(y,I),y.forEach(_),k=b(h),h.forEach(_),this.h()},h(){f(e,"id","dearrow_type_"+l[17]),f(e,"type","checkbox"),e.__value=l[17],e.value=e.__value,l[12][0].push(e),f(c,"for","dearrow_type_"+l[17]),f(o,"class","to-hide-option svelte-29idue")},m(r,h){_e(r,o,h),t(o,e),e.checked=~l[4].indexOf(e.__value),t(o,i),t(o,c),t(c,E),t(o,k),a||(g=Z(e,"change",l[13]),a=!0)},p(r,h){h&16&&(e.checked=~r[4].indexOf(e.__value))},d(r){r&&_(o),l[12][0].splice(l[12][0].indexOf(e),1),a=!1,g()}}}function ut(l){let o,e,i,c,I,E,k,a,g,r,h,y,$,S,x,G,R,ee,z,H,T,O,V,fe,Q,pe,ve,A,te,be,ge,oe,me,N,le,Ie,Ee,ae,ke,K,F,Ue,ne,De,W,ye,ie,Se,J,q,Le,Oe,X=Te,U=[];for(let s=0;s<X.length;s+=1)U[s]=Je(Ke(l,X,s));let Y=we,D=[];for(let s=0;s<Y.length;s+=1)D[s]=Me(ze(l,Y,s));return J=new dt({props:{status:l[6]}}),{c(){o=v(),e=d("main"),i=d("div"),c=d("fieldset"),I=d("legend"),E=P("Shadow ban user:"),k=v(),a=d("div"),g=d("div"),r=d("label"),h=P("User UUID:"),y=d("br"),$=v(),S=d("input"),x=v(),G=d("div"),R=d("input"),ee=v(),z=d("label"),H=P("Look for IPs"),T=v(),O=d("div"),V=d("input"),fe=v(),Q=d("label"),pe=P("Hide/Restore old submissions"),ve=v(),A=d("div"),te=d("div"),be=P("Categories to hide:"),ge=v();for(let s=0;s<U.length;s+=1)U[s].c();me=v(),N=d("div"),le=d("div"),Ie=P("DeArrow submissions to hide:"),Ee=v();for(let s=0;s<D.length;s+=1)D[s].c();ke=v(),K=d("div"),F=d("button"),Ue=P("Unban"),De=v(),W=d("button"),ye=P("Ban"),Se=v(),Xe(J.$$.fragment),this.h()},l(s){Ye('[data-svelte="svelte-16ud56z"]',document.head).forEach(_),o=b(s),e=u(s,"MAIN",{});var L=p(e);i=u(L,"DIV",{class:!0});var n=p(i);c=u(n,"FIELDSET",{});var B=p(c);I=u(B,"LEGEND",{});var Ae=p(I);E=C(Ae,"Shadow ban user:"),Ae.forEach(_),k=b(B),a=u(B,"DIV",{class:!0});var w=p(a);g=u(w,"DIV",{});var se=p(g);r=u(se,"LABEL",{for:!0});var Ne=p(r);h=C(Ne,"User UUID:"),Ne.forEach(_),y=u(se,"BR",{}),$=b(se),S=u(se,"INPUT",{id:!0,type:!0,size:!0,placeholder:!0}),se.forEach(_),x=b(w),G=u(w,"DIV",{});var re=p(G);R=u(re,"INPUT",{id:!0,type:!0}),ee=b(re),z=u(re,"LABEL",{for:!0});var Re=p(z);H=C(Re,"Look for IPs"),Re.forEach(_),re.forEach(_),T=b(w),O=u(w,"DIV",{});var de=p(O);V=u(de,"INPUT",{id:!0,type:!0}),fe=b(de),Q=u(de,"LABEL",{for:!0});var Ve=p(Q);pe=C(Ve,"Hide/Restore old submissions"),Ve.forEach(_),de.forEach(_),ve=b(w),A=u(w,"DIV",{class:!0});var ue=p(A);te=u(ue,"DIV",{});var Be=p(te);be=C(Be,"Categories to hide:"),Be.forEach(_),ge=b(ue);for(let M=0;M<U.length;M+=1)U[M].l(ue);ue.forEach(_),me=b(w),N=u(w,"DIV",{class:!0});var ce=p(N);le=u(ce,"DIV",{});var Pe=p(le);Ie=C(Pe,"DeArrow submissions to hide:"),Pe.forEach(_),Ee=b(ce);for(let M=0;M<D.length;M+=1)D[M].l(ce);ce.forEach(_),ke=b(w),K=u(w,"DIV",{class:!0});var he=p(K);F=u(he,"BUTTON",{type:!0});var Ce=p(F);Ue=C(Ce,"Unban"),Ce.forEach(_),De=b(he),W=u(he,"BUTTON",{type:!0});var Ge=p(W);ye=C(Ge,"Ban"),Ge.forEach(_),he.forEach(_),w.forEach(_),B.forEach(_),Se=b(n),$e(J.$$.fragment,n),n.forEach(_),L.forEach(_),this.h()},h(){document.title="Shadowban | SponsorBlockControl",f(r,"for","uuid"),f(S,"id","uuid"),f(S,"type","text"),f(S,"size","64"),f(S,"placeholder","Users UUID..."),f(R,"id","lookforips"),f(R,"type","checkbox"),f(z,"for","lookforips"),f(V,"id","hideoldsubmissions"),f(V,"type","checkbox"),f(Q,"for","hideoldsubmissions"),f(A,"class","hide-option-container svelte-29idue"),A.hidden=oe=!l[2],f(N,"class","hide-option-container svelte-29idue"),N.hidden=ae=!l[2],f(F,"type","button"),F.disabled=ne=!l[5],f(W,"type","button"),W.disabled=ie=!l[5],f(K,"class","actions"),f(a,"class","form svelte-29idue"),He(a,"working",l[6]===j.WORKING),f(i,"class","container")},m(s,m){_e(s,o,m),_e(s,e,m),t(e,i),t(i,c),t(c,I),t(I,E),t(c,k),t(c,a),t(a,g),t(g,r),t(r,h),t(g,y),t(g,$),t(g,S),Fe(S,l[0]),t(a,x),t(a,G),t(G,R),R.checked=l[1],t(G,ee),t(G,z),t(z,H),t(a,T),t(a,O),t(O,V),V.checked=l[2],t(O,fe),t(O,Q),t(Q,pe),t(a,ve),t(a,A),t(A,te),t(te,be),t(A,ge);for(let L=0;L<U.length;L+=1)U[L].m(A,null);t(a,me),t(a,N),t(N,le),t(le,Ie),t(N,Ee);for(let L=0;L<D.length;L+=1)D[L].m(N,null);t(a,ke),t(a,K),t(K,F),t(F,Ue),t(K,De),t(K,W),t(W,ye),t(i,Se),xe(J,i,null),q=!0,Le||(Oe=[Z(S,"input",l[8]),Z(R,"change",l[9]),Z(V,"change",l[10]),Z(F,"click",l[14]),Z(W,"click",l[15])],Le=!0)},p(s,[m]){if(m&1&&S.value!==s[0]&&Fe(S,s[0]),m&2&&(R.checked=s[1]),m&4&&(V.checked=s[2]),m&8){X=Te;let n;for(n=0;n<X.length;n+=1){const B=Ke(s,X,n);U[n]?U[n].p(B,m):(U[n]=Je(B),U[n].c(),U[n].m(A,null))}for(;n<U.length;n+=1)U[n].d(1);U.length=X.length}if((!q||m&4&&oe!==(oe=!s[2]))&&(A.hidden=oe),m&16){Y=we;let n;for(n=0;n<Y.length;n+=1){const B=ze(s,Y,n);D[n]?D[n].p(B,m):(D[n]=Me(B),D[n].c(),D[n].m(N,null))}for(;n<D.length;n+=1)D[n].d(1);D.length=Y.length}(!q||m&4&&ae!==(ae=!s[2]))&&(N.hidden=ae),(!q||m&32&&ne!==(ne=!s[5]))&&(F.disabled=ne),(!q||m&32&&ie!==(ie=!s[5]))&&(W.disabled=ie),(!q||m&64)&&He(a,"working",s[6]===j.WORKING);const L={};m&64&&(L.status=s[6]),J.$set(L)},i(s){q||(et(J.$$.fragment,s),q=!0)},o(s){tt(J.$$.fragment,s),q=!1},d(s){s&&_(o),s&&_(e),We(U,s),We(D,s),lt(J),Le=!1,st(Oe)}}}function ct(l,o,e){let i;ot(l,it,H=>e(16,i=H));let c="",I=!1,E=!0,k=[...Te],a=[...we],g=!1,r=j.IDLE;async function h(H="ban"){e(6,r=j.WORKING);const T=new URLSearchParams;T.set("adminUserID",i.privateUUID),T.set("userID",c),T.set("enabled",(H==="ban").toString()),T.set("lookForIPs",I.toString()),T.set("unHideOldSubmissions",E.toString()),T.set("categories",JSON.stringify(k)),T.set("deArrowTypes",JSON.stringify(a));const O=await fetch(`${i.sponsorBlockApi}/api/shadowBanUser?${T}`,{method:"post"}).then(function(V){return V.status});O===200&&e(6,r=j.SUCCESS),O===400&&e(6,r=j.ERROR_INVALID),O===403&&e(6,r=j.ERROR_UNAUTHORIZED)}const y=[[],[]];function $(){c=this.value,e(0,c)}function S(){I=this.checked,e(1,I)}function x(){E=this.checked,e(2,E)}function G(){k=qe(y[1],this.__value,this.checked),e(3,k)}function R(){a=qe(y[0],this.__value,this.checked),e(4,a)}const ee=H=>{h("unban")},z=H=>{h("ban")};return l.$$.update=()=>{l.$$.dirty&1&&e(5,g=rt(c))},[c,I,E,k,a,g,r,h,$,S,x,G,y,R,ee,z]}class bt extends Ze{constructor(o){super(),je(this,o,ct,ut,Qe,{})}}export{bt as default};
