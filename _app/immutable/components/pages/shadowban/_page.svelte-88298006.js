import{S as Se,i as ke,s as ye,a as S,k as r,q as H,v as Re,W as Oe,h as d,c as k,l as u,m as p,r as P,w as Ne,n as c,H as Ue,b as ce,D as e,a8 as Ie,x as Le,I as Z,f as Te,t as Be,F as Ve,y as we,R as Ae,G as Ce,aa as qe}from"../../../chunks/index-a74698fd.js";import{c as _e,a as Ge}from"../../../chunks/config-d983b422.js";import{C as He}from"../../../chunks/config-1a541b95.js";import{a as Pe}from"../../../chunks/utils-00bd27bd.js";import{a as We,S as W}from"../../../chunks/Status-b63e8986.js";function Ee(a,n,t){const o=a.slice();return o[13]=n[t],o[15]=t,o}function De(a){let n,t,o,i,g=Ge[a[15]]+"",D,R,l,v;return{c(){n=r("div"),t=r("input"),o=S(),i=r("label"),D=H(g),R=S(),this.h()},l(_){n=u(_,"DIV",{class:!0});var b=p(n);t=u(b,"INPUT",{id:!0,type:!0}),o=k(b),i=u(b,"LABEL",{for:!0});var T=p(i);D=P(T,g),T.forEach(d),R=k(b),b.forEach(d),this.h()},h(){c(t,"id","category_"+a[13]),c(t,"type","checkbox"),t.__value=a[13],t.value=t.__value,a[9][0].push(t),c(i,"for","category_"+a[13]),c(n,"class","category-option svelte-135auq9")},m(_,b){ce(_,n,b),e(n,t),t.checked=~a[2].indexOf(t.__value),e(n,o),e(n,i),e(i,D),e(n,R),l||(v=Z(t,"change",a[8]),l=!0)},p(_,b){b&4&&(t.checked=~_[2].indexOf(t.__value))},d(_){_&&d(n),a[9][0].splice(a[9][0].indexOf(t),1),l=!1,v()}}}function ze(a){let n,t,o,i,g,D,R,l,v,_,b,T,K,U,F,I,m,q,B,ee,te,y,J,se,ae,j,le,V,O,ne,Q,oe,N,ie,X,re,w,A,de,he,z=_e,f=[];for(let s=0;s<z.length;s+=1)f[s]=De(Ee(a,z,s));return w=new We({props:{status:a[4]}}),{c(){n=S(),t=r("main"),o=r("div"),i=r("fieldset"),g=r("legend"),D=H("Shadow ban user:"),R=S(),l=r("div"),v=r("div"),_=r("label"),b=H("User UUID:"),T=r("br"),K=S(),U=r("input"),F=S(),I=r("div"),m=r("input"),q=S(),B=r("label"),ee=H("Hide/Restore old submissions"),te=S(),y=r("div"),J=r("div"),se=H("Categories to hide:"),ae=S();for(let s=0;s<f.length;s+=1)f[s].c();le=S(),V=r("div"),O=r("button"),ne=H("Unban"),oe=S(),N=r("button"),ie=H("Ban"),re=S(),Re(w.$$.fragment),this.h()},l(s){Oe('[data-svelte="svelte-16ud56z"]',document.head).forEach(d),n=k(s),t=u(s,"MAIN",{});var L=p(t);o=u(L,"DIV",{class:!0});var h=p(o);i=u(h,"FIELDSET",{});var G=p(i);g=u(G,"LEGEND",{});var fe=p(g);D=P(fe,"Shadow ban user:"),fe.forEach(d),R=k(G),l=u(G,"DIV",{class:!0});var C=p(l);v=u(C,"DIV",{});var M=p(v);_=u(M,"LABEL",{for:!0});var pe=p(_);b=P(pe,"User UUID:"),pe.forEach(d),T=u(M,"BR",{}),K=k(M),U=u(M,"INPUT",{id:!0,type:!0,size:!0,placeholder:!0}),M.forEach(d),F=k(C),I=u(C,"DIV",{});var Y=p(I);m=u(Y,"INPUT",{id:!0,type:!0}),q=k(Y),B=u(Y,"LABEL",{for:!0});var ve=p(B);ee=P(ve,"Hide/Restore old submissions"),ve.forEach(d),Y.forEach(d),te=k(C),y=u(C,"DIV",{class:!0});var $=p(y);J=u($,"DIV",{});var be=p(J);se=P(be,"Categories to hide:"),be.forEach(d),ae=k($);for(let ue=0;ue<f.length;ue+=1)f[ue].l($);$.forEach(d),le=k(C),V=u(C,"DIV",{class:!0});var x=p(V);O=u(x,"BUTTON",{type:!0});var me=p(O);ne=P(me,"Unban"),me.forEach(d),oe=k(x),N=u(x,"BUTTON",{type:!0});var ge=p(N);ie=P(ge,"Ban"),ge.forEach(d),x.forEach(d),C.forEach(d),G.forEach(d),re=k(h),Ne(w.$$.fragment,h),h.forEach(d),L.forEach(d),this.h()},h(){document.title="Shadowban | SponsorBlockControl",c(_,"for","uuid"),c(U,"id","uuid"),c(U,"type","text"),c(U,"size","64"),c(U,"placeholder","Users UUID..."),c(m,"id","hideoldsubmissions"),c(m,"type","checkbox"),c(B,"for","hideoldsubmissions"),c(y,"class","categories-to-hide svelte-135auq9"),y.hidden=j=!a[1],c(O,"type","button"),O.disabled=Q=!a[3],c(N,"type","button"),N.disabled=X=!a[3],c(V,"class","actions"),c(l,"class","form svelte-135auq9"),Ue(l,"working",a[4]===W.WORKING),c(o,"class","container")},m(s,E){ce(s,n,E),ce(s,t,E),e(t,o),e(o,i),e(i,g),e(g,D),e(i,R),e(i,l),e(l,v),e(v,_),e(_,b),e(v,T),e(v,K),e(v,U),Ie(U,a[0]),e(l,F),e(l,I),e(I,m),m.checked=a[1],e(I,q),e(I,B),e(B,ee),e(l,te),e(l,y),e(y,J),e(J,se),e(y,ae);for(let L=0;L<f.length;L+=1)f[L].m(y,null);e(l,le),e(l,V),e(V,O),e(O,ne),e(V,oe),e(V,N),e(N,ie),e(o,re),Le(w,o,null),A=!0,de||(he=[Z(U,"input",a[6]),Z(m,"change",a[7]),Z(O,"click",a[10]),Z(N,"click",a[11])],de=!0)},p(s,[E]){if(E&1&&U.value!==s[0]&&Ie(U,s[0]),E&2&&(m.checked=s[1]),E&4){z=_e;let h;for(h=0;h<z.length;h+=1){const G=Ee(s,z,h);f[h]?f[h].p(G,E):(f[h]=De(G),f[h].c(),f[h].m(y,null))}for(;h<f.length;h+=1)f[h].d(1);f.length=z.length}(!A||E&2&&j!==(j=!s[1]))&&(y.hidden=j),(!A||E&8&&Q!==(Q=!s[3]))&&(O.disabled=Q),(!A||E&8&&X!==(X=!s[3]))&&(N.disabled=X),(!A||E&16)&&Ue(l,"working",s[4]===W.WORKING);const L={};E&16&&(L.status=s[4]),w.$set(L)},i(s){A||(Te(w.$$.fragment,s),A=!0)},o(s){Be(w.$$.fragment,s),A=!1},d(s){s&&d(n),s&&d(t),Ve(f,s),we(w),de=!1,Ae(he)}}}function Ke(a,n,t){let o;Ce(a,He,I=>t(12,o=I));let i="",g=!0,D=[..._e],R=!1,l=W.IDLE;async function v(I="ban"){t(4,l=W.WORKING);const m=new URLSearchParams;m.set("adminUserID",o.privateUUID),m.set("userID",i),m.set("enabled",(I==="ban").toString()),m.set("unHideOldSubmissions",g.toString()),m.set("categories",JSON.stringify(D));const q=await fetch(`${o.sponsorBlockApi}/api/shadowBanUser?${m}`,{method:"post"}).then(function(B){return B.status});q===200&&t(4,l=W.SUCCESS),q===400&&t(4,l=W.ERROR_INVALID),q===403&&t(4,l=W.ERROR_UNAUTHORIZED)}const _=[[]];function b(){i=this.value,t(0,i)}function T(){g=this.checked,t(1,g)}function K(){D=qe(_[0],this.__value,this.checked),t(2,D)}const U=I=>{v("unban")},F=I=>{v("ban")};return a.$$.update=()=>{a.$$.dirty&1&&t(3,R=Pe(i))},[i,g,D,R,l,v,b,T,K,_,U,F]}class Qe extends Se{constructor(n){super(),ke(this,n,Ke,ze,ye,{})}}export{Qe as default};
