import{S as he,i as de,s as _e,a as B,k as m,q as C,v as me,W as ge,h as c,c as P,l as g,m as b,r as T,w as pe,n as y,H as le,b as F,D as e,a8 as re,x as ve,I as ie,f as be,t as we,F as Ie,y as ke,R as De,G as oe,o as Ee,u as z}from"../../../chunks/index-a74698fd.js";import{C as ye}from"../../../chunks/config-1a541b95.js";import{a as Ue,S as $}from"../../../chunks/Status-b63e8986.js";import{p as Se}from"../../../chunks/stores-a04223f1.js";import{g as Ce}from"../../../chunks/navigation-ee649b70.js";import{c as Te}from"../../../chunks/singletons-d5f7646f.js";function ce(r,a,t){const l=r.slice();return l[9]=a[t],l}function ue(r){let a,t,l,f=r[1].warnings+"",o,p,_=r[1].warnings===1?"warning":"warnings",h,d,w,u,n=r[1].warningReason+"",I;return{c(){a=m("div"),t=m("b"),l=C("This UserID has "),o=C(f),p=C(" active "),h=C(_),d=C("!"),w=B(),u=m("blockquote"),I=C(n),this.h()},l(i){a=g(i,"DIV",{class:!0});var E=b(a);t=g(E,"B",{});var U=b(t);l=T(U,"This UserID has "),o=T(U,f),p=T(U," active "),h=T(U,_),d=T(U,"!"),U.forEach(c),w=P(E),u=g(E,"BLOCKQUOTE",{class:!0});var q=b(u);I=T(q,n),q.forEach(c),E.forEach(c),this.h()},h(){y(u,"class","svelte-m363ib"),y(a,"class","warning svelte-m363ib")},m(i,E){F(i,a,E),e(a,t),e(t,l),e(t,o),e(t,p),e(t,h),e(t,d),e(a,w),e(a,u),e(u,I)},p(i,E){E&2&&f!==(f=i[1].warnings+"")&&z(o,f),E&2&&_!==(_=i[1].warnings===1?"warning":"warnings")&&z(h,_),E&2&&n!==(n=i[1].warningReason+"")&&z(I,n)},d(i){i&&c(a)}}}function fe(r){var w;let a,t,l=r[9].title+"",f,o,p,_=((w=r[1][r[9].key])!=null?w:"")+"",h,d;return{c(){a=m("tr"),t=m("th"),f=C(l),o=B(),p=m("td"),h=C(_),d=B(),this.h()},l(u){a=g(u,"TR",{class:!0});var n=b(a);t=g(n,"TH",{class:!0});var I=b(t);f=T(I,l),I.forEach(c),o=P(n),p=g(n,"TD",{class:!0});var i=b(p);h=T(i,_),i.forEach(c),d=P(n),n.forEach(c),this.h()},h(){y(t,"class","svelte-m363ib"),y(p,"class","svelte-m363ib"),y(a,"class","svelte-m363ib")},m(u,n){F(u,a,n),e(a,t),e(t,f),e(a,o),e(a,p),e(p,h),e(a,d)},p(u,n){var I;n&2&&_!==(_=((I=u[1][u[9].key])!=null?I:"")+"")&&z(h,_)},d(u){u&&c(a)}}}function Re(r){var Z;let a,t,l,f,o,p,_,h,d,w,u,n,I,i,E,U,q,H,j,K,A,N,Q,L,W,Y,X,k=((Z=r[1])==null?void 0:Z.warnings)>0&&ue(r),G=r[3],D=[];for(let s=0;s<G.length;s+=1)D[s]=fe(ce(r,G,s));return L=new Ue({props:{status:r[2]}}),{c(){a=B(),t=m("main"),l=m("div"),f=m("fieldset"),o=m("legend"),p=C("User Info:"),_=B(),h=m("div"),d=m("div"),w=m("label"),u=C("Public UserID:"),n=m("br"),I=B(),i=m("input"),E=B(),U=m("button"),q=C("View"),H=B(),k&&k.c(),j=B(),K=m("div"),A=m("table"),N=m("tbody");for(let s=0;s<D.length;s+=1)D[s].c();Q=B(),me(L.$$.fragment),this.h()},l(s){ge('[data-svelte="svelte-ir5jg7"]',document.head).forEach(c),a=P(s),t=g(s,"MAIN",{});var V=b(t);l=g(V,"DIV",{class:!0});var S=b(l);f=g(S,"FIELDSET",{});var v=b(f);o=g(v,"LEGEND",{});var M=b(o);p=T(M,"User Info:"),M.forEach(c),_=P(v),h=g(v,"DIV",{class:!0});var x=b(h);d=g(x,"DIV",{});var O=b(d);w=g(O,"LABEL",{for:!0});var ee=b(w);u=T(ee,"Public UserID:"),ee.forEach(c),n=g(O,"BR",{}),I=P(O),i=g(O,"INPUT",{id:!0,type:!0,size:!0,placeholder:!0}),E=P(O),U=g(O,"BUTTON",{});var te=b(U);q=T(te,"View"),te.forEach(c),O.forEach(c),x.forEach(c),v.forEach(c),H=P(S),k&&k.l(S),j=P(S),K=g(S,"DIV",{});var se=b(K);A=g(se,"TABLE",{class:!0});var ae=b(A);N=g(ae,"TBODY",{class:!0});var ne=b(N);for(let J=0;J<D.length;J+=1)D[J].l(ne);ne.forEach(c),ae.forEach(c),se.forEach(c),Q=P(S),pe(L.$$.fragment,S),S.forEach(c),V.forEach(c),this.h()},h(){document.title="UserInfo | SponsorBlockControl",y(w,"for","userid"),y(i,"id","userid"),y(i,"type","search"),y(i,"size","64"),y(i,"placeholder","Public UserID..."),y(h,"class","form svelte-m363ib"),le(h,"working",r[2]===$.WORKING),y(N,"class","svelte-m363ib"),y(A,"class","svelte-m363ib"),y(l,"class","container")},m(s,R){F(s,a,R),F(s,t,R),e(t,l),e(l,f),e(f,o),e(o,p),e(f,_),e(f,h),e(h,d),e(d,w),e(w,u),e(d,n),e(d,I),e(d,i),re(i,r[0]),e(d,E),e(d,U),e(U,q),e(l,H),k&&k.m(l,null),e(l,j),e(l,K),e(K,A),e(A,N);for(let V=0;V<D.length;V+=1)D[V].m(N,null);e(l,Q),ve(L,l,null),W=!0,Y||(X=[ie(i,"input",r[5]),ie(U,"click",r[4])],Y=!0)},p(s,[R]){var S;if(R&1&&re(i,s[0]),(!W||R&4)&&le(h,"working",s[2]===$.WORKING),((S=s[1])==null?void 0:S.warnings)>0?k?k.p(s,R):(k=ue(s),k.c(),k.m(l,j)):k&&(k.d(1),k=null),R&10){G=s[3];let v;for(v=0;v<G.length;v+=1){const M=ce(s,G,v);D[v]?D[v].p(M,R):(D[v]=fe(M),D[v].c(),D[v].m(N,null))}for(;v<D.length;v+=1)D[v].d(1);D.length=G.length}const V={};R&4&&(V.status=s[2]),L.$set(V)},i(s){W||(be(L.$$.fragment,s),W=!0)},o(s){we(L.$$.fragment,s),W=!1},d(s){s&&c(a),s&&c(t),k&&k.d(),Ie(D,s),ke(L),Y=!1,De(X)}}}function Be(r,a,t){let l,f;oe(r,ye,n=>t(6,l=n)),oe(r,Se,n=>t(7,f=n));let o="",p={warnings:0,warningReason:""},_=$.IDLE;const h=[{title:"Public User ID",key:"userID"},{title:"Username",key:"userName"},{title:"Minutes saved",key:"minutesSaved"},{title:"Segment count",key:"segmentCount"},{title:"ignoredSegmentCount",key:"ignoredSegmentCount"},{title:"viewCount",key:"viewCount"},{title:"ignoredViewCount",key:"ignoredViewCount"},{title:"warnings",key:"warnings"},{title:"warningReason",key:"warningReason"},{title:"reputation",key:"reputation"},{title:"vip",key:"vip"},{title:"lastSegmentID",key:"lastSegmentID"}];Ee(async()=>{const n=new URLSearchParams(window.location.search);n.has("publicUserID")&&(t(0,o=n.get("publicUserID")),await w())});async function d(){f.url.searchParams.set("publicUserID",o),Ce(`${Te}/userinfo/?publicUserID=${o}`,{replaceState:!0}),await w()}async function w(){t(2,_=$.WORKING);const n=await fetch(`${l.sponsorBlockApi}/api/userInfo?publicUserID=${o}`,{method:"get"}).then(async function(I){return await I.json()});t(2,_=$.SUCCESS),t(1,p=n)}function u(){o=this.value,t(0,o)}return[o,p,_,h,d,u]}class Ae extends he{constructor(a){super(),de(this,a,Be,Re,_e,{})}}export{Ae as default};
