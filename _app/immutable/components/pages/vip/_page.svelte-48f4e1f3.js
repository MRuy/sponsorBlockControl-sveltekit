import{S as re,i as le,s as ie,a as O,k as i,q as L,v as de,W as ue,h as o,c as V,l as d,m as _,r as q,w as ce,n as h,H as ae,b as ne,D as e,Z as oe,x as fe,I as X,f as _e,t as me,y as pe,R as ve,G as he}from"../../../chunks/index-57ef3195.js";import{C as Ie}from"../../../chunks/config-90b35c59.js";import{a as Ue}from"../../../chunks/utils-f53755c6.js";import{S as Ee}from"../../../chunks/Status-26ff45ac.js";import{S as I}from"../../../chunks/BaseStatus-314ac73e.js";function be(r){let D,s,a,u,A,c,p,g,N,T,n,l,m,y,H,z,f,Z,U,E,F,w,M,b,j,B,J,R,S,Q,Y;return R=new Ee({props:{status:r[2]}}),{c(){D=O(),s=i("main"),a=i("div"),u=i("p"),A=L("Only admins can do this!"),c=O(),p=i("fieldset"),g=i("legend"),N=L("Add/Remove VIP"),T=O(),n=i("div"),l=i("div"),m=i("label"),y=L("User UUID:"),H=i("br"),z=O(),f=i("input"),Z=O(),U=i("div"),E=i("button"),F=L("Remove"),M=O(),b=i("button"),j=L("Add"),J=O(),de(R.$$.fragment),this.h()},l(t){ue('[data-svelte="svelte-g4qqnd"]',document.head).forEach(o),D=V(t),s=d(t,"MAIN",{});var k=_(s);a=d(k,"DIV",{class:!0});var P=_(a);u=d(P,"P",{class:!0});var $=_(u);A=q($,"Only admins can do this!"),$.forEach(o),c=V(P),p=d(P,"FIELDSET",{});var G=_(p);g=d(G,"LEGEND",{});var x=_(g);N=q(x,"Add/Remove VIP"),x.forEach(o),T=V(G),n=d(G,"DIV",{class:!0});var W=_(n);l=d(W,"DIV",{});var C=_(l);m=d(C,"LABEL",{for:!0});var ee=_(m);y=q(ee,"User UUID:"),ee.forEach(o),H=d(C,"BR",{}),z=V(C),f=d(C,"INPUT",{id:!0,type:!0,size:!0,placeholder:!0}),C.forEach(o),Z=V(W),U=d(W,"DIV",{class:!0});var K=_(U);E=d(K,"BUTTON",{});var te=_(E);F=q(te,"Remove"),te.forEach(o),M=V(K),b=d(K,"BUTTON",{});var se=_(b);j=q(se,"Add"),se.forEach(o),K.forEach(o),W.forEach(o),G.forEach(o),J=V(P),ce(R.$$.fragment,P),P.forEach(o),k.forEach(o),this.h()},h(){document.title="VIP | SponsorBlockControl",h(u,"class","viprequired"),h(m,"for","uuid"),h(f,"id","uuid"),h(f,"type","text"),h(f,"size","64"),h(f,"placeholder","Users UUID..."),E.disabled=w=!r[1],b.disabled=B=!r[1],h(U,"class","actions"),h(n,"class","form svelte-fndrlu"),ae(n,"working",r[2]===I.WORKING),h(a,"class","container")},m(t,v){ne(t,D,v),ne(t,s,v),e(s,a),e(a,u),e(u,A),e(a,c),e(a,p),e(p,g),e(g,N),e(p,T),e(p,n),e(n,l),e(l,m),e(m,y),e(l,H),e(l,z),e(l,f),oe(f,r[0]),e(n,Z),e(n,U),e(U,E),e(E,F),e(U,M),e(U,b),e(b,j),e(a,J),fe(R,a,null),S=!0,Q||(Y=[X(f,"input",r[5]),X(E,"click",r[4]),X(b,"click",r[3])],Q=!0)},p(t,[v]){v&1&&f.value!==t[0]&&oe(f,t[0]),(!S||v&2&&w!==(w=!t[1]))&&(E.disabled=w),(!S||v&2&&B!==(B=!t[1]))&&(b.disabled=B),(!S||v&4)&&ae(n,"working",t[2]===I.WORKING);const k={};v&4&&(k.status=t[2]),R.$set(k)},i(t){S||(_e(R.$$.fragment,t),S=!0)},o(t){me(R.$$.fragment,t),S=!1},d(t){t&&o(D),t&&o(s),pe(R),Q=!1,ve(Y)}}}function Re(r,D,s){let a;he(r,Ie,n=>s(6,a=n));let u="",A=!1,c=I.IDLE;function p(){N("add")}function g(){N("remove")}async function N(n="add"){s(2,c=I.WORKING);const l=new URLSearchParams;l.set("adminUserID",a.privateUUID),l.set("userID",u),l.set("enabled",(n==="add").toString());const m=await fetch(`${a.sponsorBlockApi}/api/addUserAsVIP?${l}`,{method:"post"}).then(function(y){return y.status});m===200&&s(2,c=I.SUCCESS),m===400&&s(2,c=I.ERROR_INVALID),m===403&&s(2,c=I.ERROR_UNAUTHORIZED),c===I.WORKING&&s(2,c=I.ERROR_OTHER)}function T(){u=this.value,s(0,u)}return r.$$.update=()=>{r.$$.dirty&1&&s(1,A=Ue(u))},[u,A,c,p,g,T]}class Ae extends re{constructor(D){super(),le(this,D,Re,be,ie,{})}}export{Ae as default};
