import{S as le,i as re,s as ie,a as S,k as i,q as L,v as de,W as ue,h as o,c as V,l as d,m as f,r as q,w as ce,n as h,H as ae,b as ne,D as e,a8 as oe,x as fe,I as Q,f as _e,t as me,y as pe,R as ve,G as he}from"../../../chunks/index-a74698fd.js";import{C as Ie}from"../../../chunks/config-1a541b95.js";import{a as Ue}from"../../../chunks/utils-00bd27bd.js";import{a as be,S as A}from"../../../chunks/Status-b63e8986.js";function Ee(l){let D,s,a,u,N,m,p,g,O,y,n,r,_,T,z,H,c,$,I,U,F,w,M,b,Z,B,j,E,R,J,X;return E=new be({props:{status:l[2]}}),{c(){D=S(),s=i("main"),a=i("div"),u=i("p"),N=L("Only admins can do this!"),m=S(),p=i("fieldset"),g=i("legend"),O=L("Add/Remove VIP"),y=S(),n=i("div"),r=i("div"),_=i("label"),T=L("User UUID:"),z=i("br"),H=S(),c=i("input"),$=S(),I=i("div"),U=i("button"),F=L("Remove"),M=S(),b=i("button"),Z=L("Add"),j=S(),de(E.$$.fragment),this.h()},l(t){ue('[data-svelte="svelte-g4qqnd"]',document.head).forEach(o),D=V(t),s=d(t,"MAIN",{});var k=f(s);a=d(k,"DIV",{class:!0});var P=f(a);u=d(P,"P",{class:!0});var Y=f(u);N=q(Y,"Only admins can do this!"),Y.forEach(o),m=V(P),p=d(P,"FIELDSET",{});var G=f(p);g=d(G,"LEGEND",{});var x=f(g);O=q(x,"Add/Remove VIP"),x.forEach(o),y=V(G),n=d(G,"DIV",{class:!0});var W=f(n);r=d(W,"DIV",{});var C=f(r);_=d(C,"LABEL",{for:!0});var ee=f(_);T=q(ee,"User UUID:"),ee.forEach(o),z=d(C,"BR",{}),H=V(C),c=d(C,"INPUT",{id:!0,type:!0,size:!0,placeholder:!0}),C.forEach(o),$=V(W),I=d(W,"DIV",{class:!0});var K=f(I);U=d(K,"BUTTON",{});var te=f(U);F=q(te,"Remove"),te.forEach(o),M=V(K),b=d(K,"BUTTON",{});var se=f(b);Z=q(se,"Add"),se.forEach(o),K.forEach(o),W.forEach(o),G.forEach(o),j=V(P),ce(E.$$.fragment,P),P.forEach(o),k.forEach(o),this.h()},h(){document.title="VIP | SponsorBlockControl",h(u,"class","viprequired"),h(_,"for","uuid"),h(c,"id","uuid"),h(c,"type","text"),h(c,"size","64"),h(c,"placeholder","Users UUID..."),U.disabled=w=!l[1],b.disabled=B=!l[1],h(I,"class","actions"),h(n,"class","form svelte-fndrlu"),ae(n,"working",l[2]===A.WORKING),h(a,"class","container")},m(t,v){ne(t,D,v),ne(t,s,v),e(s,a),e(a,u),e(u,N),e(a,m),e(a,p),e(p,g),e(g,O),e(p,y),e(p,n),e(n,r),e(r,_),e(_,T),e(r,z),e(r,H),e(r,c),oe(c,l[0]),e(n,$),e(n,I),e(I,U),e(U,F),e(I,M),e(I,b),e(b,Z),e(a,j),fe(E,a,null),R=!0,J||(X=[Q(c,"input",l[5]),Q(U,"click",l[4]),Q(b,"click",l[3])],J=!0)},p(t,[v]){v&1&&c.value!==t[0]&&oe(c,t[0]),(!R||v&2&&w!==(w=!t[1]))&&(U.disabled=w),(!R||v&2&&B!==(B=!t[1]))&&(b.disabled=B),(!R||v&4)&&ae(n,"working",t[2]===A.WORKING);const k={};v&4&&(k.status=t[2]),E.$set(k)},i(t){R||(_e(E.$$.fragment,t),R=!0)},o(t){me(E.$$.fragment,t),R=!1},d(t){t&&o(D),t&&o(s),pe(E),J=!1,ve(X)}}}function De(l,D,s){let a;he(l,Ie,n=>s(6,a=n));let u="",N=!1,m=A.IDLE;function p(){O("add")}function g(){O("remove")}async function O(n="add"){s(2,m=A.WORKING);const r=new URLSearchParams;r.set("adminUserID",a.privateUUID),r.set("userID",u),r.set("enabled",(n==="add").toString());const _=await fetch(`${a.sponsorBlockApi}/api/addUserAsVIP?${r}`,{method:"post"}).then(function(T){return T.status});_===200&&s(2,m=A.SUCCESS),_===400&&s(2,m=A.ERROR_INVALID),_===403&&s(2,m=A.ERROR_UNAUTHORIZED)}function y(){u=this.value,s(0,u)}return l.$$.update=()=>{l.$$.dirty&1&&s(1,N=Ue(u))},[u,N,m,p,g,y]}class Ae extends le{constructor(D){super(),re(this,D,De,Ee,ie,{})}}export{Ae as default};
