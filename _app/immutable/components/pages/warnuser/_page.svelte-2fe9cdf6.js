import{S as Re,i as ye,s as ke,a as k,k as u,q as G,v as Ne,W as Oe,h as n,c as N,l as c,m as h,r as j,w as Se,n as d,a2 as We,H as ge,b as _e,D as t,a8 as ee,a3 as Ee,x as Ae,I as z,f as Le,t as Ce,F as Be,y as Ve,R as Pe,G as Ie,o as Ge,E as je,a6 as qe}from"../../../chunks/index-a74698fd.js";import{C as ze}from"../../../chunks/config-1a541b95.js";import{a as Ue}from"../../../chunks/utils-e0c09108.js";import{a as Ke,S as B}from"../../../chunks/Status-b63e8986.js";import{p as Fe}from"../../../chunks/stores-a04223f1.js";import{w as De,g as He}from"../../../chunks/config-5b5db750.js";function Te(s,r,a){const l=s.slice();return l[14]=r[a],l[16]=a,l}function we(s){let r,a=He[s[16]]+"",l;return{c(){r=u("option"),l=G(a),this.h()},l(_){r=c(_,"OPTION",{});var o=h(r);l=j(o,a),o.forEach(n),this.h()},h(){r.__value=s[14],r.value=r.__value},m(_,o){_e(_,r,o),t(r,l)},p:je,d(_){_&&n(r)}}}function Me(s){let r,a,l,_,o,O,D,i,m,U,K,F,H,b,Q,T,v,M,S,J,I,te,g,W,ae,se,A,w,le,Y,ne,R,re,x,oe,L,V,ie,fe,q=De,p=[];for(let e=0;e<q.length;e+=1)p[e]=we(Te(s,q,e));return L=new Ke({props:{status:s[4]}}),{c(){r=k(),a=u("main"),l=u("div"),_=u("fieldset"),o=u("legend"),O=G("Warn user:"),D=k(),i=u("div"),m=u("div"),U=u("label"),K=G("User UUID:"),F=u("br"),H=k(),b=u("input"),Q=k(),T=u("div"),v=u("label"),M=G("Warn Reason:"),S=u("br"),J=k(),I=u("textarea"),te=k(),g=u("select"),W=u("option"),ae=G("--- Where it applies ---");for(let e=0;e<p.length;e+=1)p[e].c();se=k(),A=u("div"),w=u("button"),le=G("Unwarn"),ne=k(),R=u("button"),re=G("Warn"),oe=k(),Ne(L.$$.fragment),this.h()},l(e){Oe('[data-svelte="svelte-1exmmzl"]',document.head).forEach(n),r=N(e),a=c(e,"MAIN",{});var y=h(a);l=c(y,"DIV",{class:!0});var f=h(l);_=c(f,"FIELDSET",{});var P=h(_);o=c(P,"LEGEND",{});var de=h(o);O=j(de,"Warn user:"),de.forEach(n),D=N(P),i=c(P,"DIV",{class:!0});var C=h(i);m=c(C,"DIV",{});var X=h(m);U=c(X,"LABEL",{for:!0});var pe=h(U);K=j(pe,"User UUID:"),pe.forEach(n),F=c(X,"BR",{}),H=N(X),b=c(X,"INPUT",{id:!0,type:!0,size:!0,placeholder:!0}),X.forEach(n),Q=N(C),T=c(C,"DIV",{});var Z=h(T);v=c(Z,"LABEL",{for:!0});var he=h(v);M=j(he,"Warn Reason:"),he.forEach(n),S=c(Z,"BR",{}),J=N(Z),I=c(Z,"TEXTAREA",{id:!0,cols:!0,rows:!0,placeholder:!0}),h(I).forEach(n),Z.forEach(n),te=N(C),g=c(C,"SELECT",{id:!0,class:!0});var ue=h(g);W=c(ue,"OPTION",{});var me=h(W);ae=j(me,"--- Where it applies ---"),me.forEach(n);for(let ce=0;ce<p.length;ce+=1)p[ce].l(ue);ue.forEach(n),se=N(C),A=c(C,"DIV",{class:!0});var $=h(A);w=c($,"BUTTON",{type:!0});var ve=h(w);le=j(ve,"Unwarn"),ve.forEach(n),ne=N($),R=c($,"BUTTON",{type:!0});var be=h(R);re=j(be,"Warn"),be.forEach(n),$.forEach(n),C.forEach(n),P.forEach(n),oe=N(f),Se(L.$$.fragment,f),f.forEach(n),y.forEach(n),this.h()},h(){document.title="Warn user | SponsorBlockControl",d(U,"for","uuid"),d(b,"id","uuid"),d(b,"type","text"),d(b,"size","64"),d(b,"placeholder","User UUID..."),d(v,"for","reason"),d(I,"id","reason"),d(I,"cols","80"),d(I,"rows","3"),d(I,"placeholder","Reason..."),W.__value="",W.value=W.__value,d(g,"id","warning-type"),d(g,"class","svelte-1njy5ud"),s[3]===void 0&&We(()=>s[9].call(g)),d(w,"type","button"),w.disabled=Y=!s[1],d(R,"type","button"),R.disabled=x=!s[1],d(A,"class","actions"),d(i,"class","form svelte-1njy5ud"),ge(i,"working",s[4]===B.WORKING),d(l,"class","container")},m(e,E){_e(e,r,E),_e(e,a,E),t(a,l),t(l,_),t(_,o),t(o,O),t(_,D),t(_,i),t(i,m),t(m,U),t(U,K),t(m,F),t(m,H),t(m,b),ee(b,s[0]),t(i,Q),t(i,T),t(T,v),t(v,M),t(T,S),t(T,J),t(T,I),ee(I,s[2]),t(i,te),t(i,g),t(g,W),t(W,ae);for(let y=0;y<p.length;y+=1)p[y].m(g,null);Ee(g,s[3]),t(i,se),t(i,A),t(A,w),t(w,le),t(A,ne),t(A,R),t(R,re),t(l,oe),Ae(L,l,null),V=!0,ie||(fe=[z(b,"input",s[6]),z(b,"input",s[7]),z(I,"input",s[8]),z(g,"change",s[9]),z(w,"click",s[10]),z(R,"click",s[11])],ie=!0)},p(e,[E]){if(E&1&&b.value!==e[0]&&ee(b,e[0]),E&4&&ee(I,e[2]),E&0){q=De;let f;for(f=0;f<q.length;f+=1){const P=Te(e,q,f);p[f]?p[f].p(P,E):(p[f]=we(P),p[f].c(),p[f].m(g,null))}for(;f<p.length;f+=1)p[f].d(1);p.length=q.length}E&8&&Ee(g,e[3]),(!V||E&2&&Y!==(Y=!e[1]))&&(w.disabled=Y),(!V||E&2&&x!==(x=!e[1]))&&(R.disabled=x),(!V||E&16)&&ge(i,"working",e[4]===B.WORKING);const y={};E&16&&(y.status=e[4]),L.$set(y)},i(e){V||(Le(L.$$.fragment,e),V=!0)},o(e){Ce(L.$$.fragment,e),V=!1},d(e){e&&n(r),e&&n(a),Be(p,e),Ve(L),ie=!1,Pe(fe)}}}function Je(s,r,a){let l,_;Ie(s,ze,v=>a(12,l=v)),Ie(s,Fe,v=>a(13,_=v));let o="",O=!1,D="",i=0,m=B.IDLE;Ge(()=>{a(0,o=_.url.searchParams.has("userID")?_.url.searchParams.get("userID"):""),a(1,O=Ue(o))});async function U(v="warn"){a(4,m=B.WORKING);const M={issuerUserID:l.privateUUID,userID:o,reason:D,type:i,enabled:v==="warn"},S=await fetch(`${l.sponsorBlockApi}/api/warnUser`,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)}).then(function(J){return J.status});S===200&&(a(4,m=B.SUCCESS),a(0,o=""),a(1,O=!1),a(2,D="")),S===400&&a(4,m=B.ERROR_INVALID),S===403&&a(4,m=B.ERROR_UNAUTHORIZED),S===409&&a(4,m=B.DUPLICATE)}function K(){o=this.value,a(0,o)}const F=v=>{a(1,O=Ue(o))};function H(){D=this.value,a(2,D)}function b(){i=qe(this),a(3,i)}return[o,O,D,i,m,U,K,F,H,b,v=>{U("unwarn")},v=>{U("warn")}]}class et extends Re{constructor(r){super(),ye(this,r,Je,Me,ke,{})}}export{et as default};
