import{S as we,i as ye,s as Oe,a as k,k as u,q as G,v as ke,W as Ne,h as n,c as N,l as c,m,r as K,w as Se,n as p,X as We,H as be,b as _e,D as t,Z as ee,Y as ge,x as Ae,I as q,f as Le,t as Ce,F as Be,y as Ve,R as Pe,G as Ie,o as Ge,E as Ke,_ as je}from"../../../chunks/index-57ef3195.js";import{C as qe}from"../../../chunks/config-90b35c59.js";import{a as Ue}from"../../../chunks/utils-f53755c6.js";import{S as ze}from"../../../chunks/Status-26ff45ac.js";import{p as He}from"../../../chunks/stores-91f6b27f.js";import{w as De,a as Fe}from"../../../chunks/config-6bf174ce.js";import{S as D}from"../../../chunks/BaseStatus-314ac73e.js";function Re(a,r,s){const l=a.slice();return l[14]=r[s],l[16]=s,l}function Te(a){let r,s=Fe[a[16]]+"",l;return{c(){r=u("option"),l=G(s),this.h()},l(_){r=c(_,"OPTION",{});var o=m(r);l=K(o,s),o.forEach(n),this.h()},h(){r.__value=a[14],r.value=r.__value},m(_,o){_e(_,r,o),t(r,l)},p:Ke,d(_){_&&n(r)}}}function Me(a){let r,s,l,_,o,S,R,i,f,U,z,H,F,E,Y,T,v,M,W,X,I,te,b,A,se,ae,L,w,le,Q,ne,y,re,x,oe,C,V,ie,fe,j=De,h=[];for(let e=0;e<j.length;e+=1)h[e]=Te(Re(a,j,e));return C=new ze({props:{status:a[4]}}),{c(){r=k(),s=u("main"),l=u("div"),_=u("fieldset"),o=u("legend"),S=G("Warn user:"),R=k(),i=u("div"),f=u("div"),U=u("label"),z=G("User UUID:"),H=u("br"),F=k(),E=u("input"),Y=k(),T=u("div"),v=u("label"),M=G("Warn Reason:"),W=u("br"),X=k(),I=u("textarea"),te=k(),b=u("select"),A=u("option"),se=G("--- Where it applies ---");for(let e=0;e<h.length;e+=1)h[e].c();ae=k(),L=u("div"),w=u("button"),le=G("Unwarn"),ne=k(),y=u("button"),re=G("Warn"),oe=k(),ke(C.$$.fragment),this.h()},l(e){Ne('[data-svelte="svelte-1exmmzl"]',document.head).forEach(n),r=N(e),s=c(e,"MAIN",{});var O=m(s);l=c(O,"DIV",{class:!0});var d=m(l);_=c(d,"FIELDSET",{});var P=m(_);o=c(P,"LEGEND",{});var de=m(o);S=K(de,"Warn user:"),de.forEach(n),R=N(P),i=c(P,"DIV",{class:!0});var B=m(i);f=c(B,"DIV",{});var Z=m(f);U=c(Z,"LABEL",{for:!0});var pe=m(U);z=K(pe,"User UUID:"),pe.forEach(n),H=c(Z,"BR",{}),F=N(Z),E=c(Z,"INPUT",{id:!0,type:!0,size:!0,placeholder:!0}),Z.forEach(n),Y=N(B),T=c(B,"DIV",{});var J=m(T);v=c(J,"LABEL",{for:!0});var he=m(v);M=K(he,"Warn Reason:"),he.forEach(n),W=c(J,"BR",{}),X=N(J),I=c(J,"TEXTAREA",{id:!0,cols:!0,rows:!0,placeholder:!0}),m(I).forEach(n),J.forEach(n),te=N(B),b=c(B,"SELECT",{id:!0,class:!0});var ue=m(b);A=c(ue,"OPTION",{});var me=m(A);se=K(me,"--- Where it applies ---"),me.forEach(n);for(let ce=0;ce<h.length;ce+=1)h[ce].l(ue);ue.forEach(n),ae=N(B),L=c(B,"DIV",{class:!0});var $=m(L);w=c($,"BUTTON",{type:!0});var ve=m(w);le=K(ve,"Unwarn"),ve.forEach(n),ne=N($),y=c($,"BUTTON",{type:!0});var Ee=m(y);re=K(Ee,"Warn"),Ee.forEach(n),$.forEach(n),B.forEach(n),P.forEach(n),oe=N(d),Se(C.$$.fragment,d),d.forEach(n),O.forEach(n),this.h()},h(){document.title="Warn user | SponsorBlockControl",p(U,"for","uuid"),p(E,"id","uuid"),p(E,"type","text"),p(E,"size","64"),p(E,"placeholder","User UUID..."),p(v,"for","reason"),p(I,"id","reason"),p(I,"cols","80"),p(I,"rows","3"),p(I,"placeholder","Reason..."),A.__value="",A.value=A.__value,p(b,"id","warning-type"),p(b,"class","svelte-1njy5ud"),a[3]===void 0&&We(()=>a[9].call(b)),p(w,"type","button"),w.disabled=Q=!a[1],p(y,"type","button"),y.disabled=x=!a[1],p(L,"class","actions"),p(i,"class","form svelte-1njy5ud"),be(i,"working",a[4]===D.WORKING),p(l,"class","container")},m(e,g){_e(e,r,g),_e(e,s,g),t(s,l),t(l,_),t(_,o),t(o,S),t(_,R),t(_,i),t(i,f),t(f,U),t(U,z),t(f,H),t(f,F),t(f,E),ee(E,a[0]),t(i,Y),t(i,T),t(T,v),t(v,M),t(T,W),t(T,X),t(T,I),ee(I,a[2]),t(i,te),t(i,b),t(b,A),t(A,se);for(let O=0;O<h.length;O+=1)h[O].m(b,null);ge(b,a[3]),t(i,ae),t(i,L),t(L,w),t(w,le),t(L,ne),t(L,y),t(y,re),t(l,oe),Ae(C,l,null),V=!0,ie||(fe=[q(E,"input",a[6]),q(E,"input",a[7]),q(I,"input",a[8]),q(b,"change",a[9]),q(w,"click",a[10]),q(y,"click",a[11])],ie=!0)},p(e,[g]){if(g&1&&E.value!==e[0]&&ee(E,e[0]),g&4&&ee(I,e[2]),g&0){j=De;let d;for(d=0;d<j.length;d+=1){const P=Re(e,j,d);h[d]?h[d].p(P,g):(h[d]=Te(P),h[d].c(),h[d].m(b,null))}for(;d<h.length;d+=1)h[d].d(1);h.length=j.length}g&8&&ge(b,e[3]),(!V||g&2&&Q!==(Q=!e[1]))&&(w.disabled=Q),(!V||g&2&&x!==(x=!e[1]))&&(y.disabled=x),(!V||g&16)&&be(i,"working",e[4]===D.WORKING);const O={};g&16&&(O.status=e[4]),C.$set(O)},i(e){V||(Le(C.$$.fragment,e),V=!0)},o(e){Ce(C.$$.fragment,e),V=!1},d(e){e&&n(r),e&&n(s),Be(h,e),Ve(C),ie=!1,Pe(fe)}}}function Xe(a,r,s){let l,_;Ie(a,qe,v=>s(12,l=v)),Ie(a,He,v=>s(13,_=v));let o="",S=!1,R="",i=0,f=D.IDLE;Ge(()=>{s(0,o=_.url.searchParams.has("userID")?_.url.searchParams.get("userID"):""),s(1,S=Ue(o))});async function U(v="warn"){s(4,f=D.WORKING);const M={issuerUserID:l.privateUUID,userID:o,reason:R,type:i,enabled:v==="warn"},W=await fetch(`${l.sponsorBlockApi}/api/warnUser`,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)}).then(function(X){return X.status});W===200&&(s(4,f=D.SUCCESS),s(0,o=""),s(1,S=!1),s(2,R="")),W===400&&s(4,f=D.ERROR_INVALID),W===403&&s(4,f=D.ERROR_UNAUTHORIZED),W===409&&s(4,f=D.DUPLICATE),f===D.WORKING&&s(4,f=D.ERROR_OTHER)}function z(){o=this.value,s(0,o)}const H=v=>{s(1,S=Ue(o))};function F(){R=this.value,s(2,R)}function E(){i=je(this),s(3,i)}return[o,S,R,i,f,U,z,H,F,E,v=>{U("unwarn")},v=>{U("warn")}]}class tt extends we{constructor(r){super(),ye(this,r,Xe,Me,Oe,{})}}export{tt as default};
