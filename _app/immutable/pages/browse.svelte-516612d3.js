import{S as rt,i as ot,s as it,e as f,t as $,c as d,a as m,h as S,d as u,b as h,I as xe,g as G,H as l,j as be,E as Qe,J as Oe,P as Zt,_ as Vt,T as xt,U as es,V as ts,q as j,o as Q,C as Ht,$ as Pt,a0 as ss,w as me,k as T,x as _e,m as k,y as ge,a1 as We,n as Kt,p as Wt,B as pe,W as Jt,L as Qt,f as ls,l as vt,K as Xt,a2 as as,a3 as ns,a4 as rs,R as os,a5 as is,a6 as Mt,a7 as us,a8 as cs,v as fs,a9 as ds}from"../chunks/index-dfbae117.js";import{C as hs}from"../chunks/config-fe9b9627.js";import{S as ms,a as ht}from"../chunks/Status-73b605ec.js";/* empty css                                                          */import{w as _s}from"../chunks/index-9cf52d15.js";import{g as gs}from"../chunks/navigation-0e6511d1.js";import{V as ps}from"../chunks/VideoInput-ffca314c.js";import"../chunks/singletons-d1fb5791.js";function vs(s){let e,t,a,n,i,r=s[1].toString().padStart(2,"0")+"",c,o,g,w=s[2].toString().padStart(2,"0")+"",H,re,N,E;return{c(){e=f("span"),t=f("span"),a=$(s[0]),n=$(":"),i=f("span"),c=$(r),o=$(":"),g=f("span"),H=$(w),re=$("."),N=f("span"),E=$(s[3]),this.h()},l(I){e=d(I,"SPAN",{class:!0});var D=m(e);t=d(D,"SPAN",{class:!0});var M=m(t);a=S(M,s[0]),n=S(M,":"),M.forEach(u),i=d(D,"SPAN",{class:!0});var A=m(i);c=S(A,r),o=S(A,":"),A.forEach(u),g=d(D,"SPAN",{class:!0});var L=m(g);H=S(L,w),re=S(L,"."),L.forEach(u),N=d(D,"SPAN",{class:!0});var U=m(N);E=S(U,s[3]),U.forEach(u),D.forEach(u),this.h()},h(){h(t,"class","svelte-58feot"),xe(t,"inactive",s[0]===0),h(i,"class","svelte-58feot"),xe(i,"inactive",s[1]===0),h(g,"class",""),h(N,"class","milliseconds svelte-58feot"),h(e,"class","time svelte-58feot")},m(I,D){G(I,e,D),l(e,t),l(t,a),l(t,n),l(e,i),l(i,c),l(i,o),l(e,g),l(g,H),l(g,re),l(e,N),l(N,E)},p(I,[D]){D&1&&be(a,I[0]),D&1&&xe(t,"inactive",I[0]===0),D&2&&r!==(r=I[1].toString().padStart(2,"0")+"")&&be(c,r),D&2&&xe(i,"inactive",I[1]===0),D&4&&w!==(w=I[2].toString().padStart(2,"0")+"")&&be(H,w),D&8&&be(E,I[3])},i:Qe,o:Qe,d(I){I&&u(e)}}}let kt=3;function bs(s,e,t){let{value:a=0}=e,n=0,i=0,r=0,c="0";return s.$$set=o=>{"value"in o&&t(4,a=o.value)},s.$$.update=()=>{if(s.$$.dirty&16){let o=Number(a),g=o.toString();t(3,c="0".repeat(kt)),g.includes(".")&&t(3,c=g.split(".")[1].padEnd(kt,"0").slice(0,kt)),o=Math.floor(a),t(0,n=Math.floor(o/3600)),t(1,i=Math.floor(o/60%60)),t(2,r=Math.floor(o%60))}},[n,i,r,c,a]}class Dt extends rt{constructor(e){super(),ot(this,e,bs,vs,it,{value:4})}}function Rt(s){let e,t;return{c(){e=f("div"),t=$("Copied!"),this.h()},l(a){e=d(a,"DIV",{class:!0});var n=m(e);t=S(n,"Copied!"),n.forEach(u),this.h()},h(){h(e,"class","success svelte-1f7dggz")},m(a,n){G(a,e,n),l(e,t)},d(a){a&&u(e)}}}function $s(s){let e,t,a,n,i=s[1]&&Rt();return{c(){e=f("button"),i&&i.c(),t=$(`
  \u2702`),this.h()},l(r){e=d(r,"BUTTON",{title:!0,class:!0});var c=m(e);i&&i.l(c),t=S(c,`
  \u2702`),c.forEach(u),this.h()},h(){h(e,"title",s[0]),h(e,"class","svelte-1f7dggz")},m(r,c){G(r,e,c),i&&i.m(e,null),l(e,t),a||(n=Oe(e,"click",s[4]),a=!0)},p(r,[c]){r[1]?i||(i=Rt(),i.c(),i.m(e,t)):i&&(i.d(1),i=null),c&1&&h(e,"title",r[0])},i:Qe,o:Qe,d(r){r&&u(e),i&&i.d(),a=!1,n()}}}function Ss(s,e,t){let{value:a=""}=e,{title:n="Copy to clipboard"}=e,i=!1;function r(){navigator.clipboard.writeText(a).then(()=>{console.log("Copied to clipboard"),t(1,i=!0),setTimeout(o=>{t(1,i=!1)},2e3)},o=>{console.log("Failed to copy into clipboard",o)})}const c=o=>r();return s.$$set=o=>{"value"in o&&t(3,a=o.value),"title"in o&&t(0,n=o.title)},[n,i,r,a,c]}class Ot extends rt{constructor(e){super(),ot(this,e,Ss,$s,it,{value:3,title:0})}}function Es(s){let e,t,a,n,i,r;const c=s[5].default,o=Zt(c,s,s[4],null);return{c(){e=f("span"),o&&o.c(),this.h()},l(g){e=d(g,"SPAN",{class:!0,title:!0});var w=m(e);o&&o.l(w),w.forEach(u),this.h()},h(){h(e,"class",t=Vt(`header ${s[3].class}`)+" svelte-1s8upei"),h(e,"title",a=`Sort by ${s[0]}`),xe(e,"active",s[2]===s[0]),xe(e,"sort--asc",s[1]==="ASC")},m(g,w){G(g,e,w),o&&o.m(e,null),n=!0,i||(r=Oe(e,"click",s[6]),i=!0)},p(g,[w]){o&&o.p&&(!n||w&16)&&xt(o,c,g,g[4],n?ts(c,g[4],w,null):es(g[4]),null),(!n||w&8&&t!==(t=Vt(`header ${g[3].class}`)+" svelte-1s8upei"))&&h(e,"class",t),(!n||w&1&&a!==(a=`Sort by ${g[0]}`))&&h(e,"title",a),w&13&&xe(e,"active",g[2]===g[0]),w&10&&xe(e,"sort--asc",g[1]==="ASC")},i(g){n||(j(o,g),n=!0)},o(g){Q(o,g),n=!1},d(g){g&&u(e),o&&o.d(g),i=!1,r()}}}function Ts(s,e,t){let{$$slots:a={},$$scope:n}=e,{name:i}=e,{sorting:r="DESC"}=e,{current:c=""}=e;function o(g){ss.call(this,s,g)}return s.$$set=g=>{t(3,e=Ht(Ht({},e),Pt(g))),"name"in g&&t(0,i=g.name),"sorting"in g&&t(1,r=g.sorting),"current"in g&&t(2,c=g.current),"$$scope"in g&&t(4,n=g.$$scope)},e=Pt(e),[i,r,c,e,n,a,o]}class Je extends rt{constructor(e){super(),ot(this,e,Ts,Es,it,{name:0,sorting:1,current:2})}}const ks=_s([{id:"sponsor",color:"#00d400"},{id:"intro",color:"#00ffff"},{id:"outro",color:"#0202ed"},{id:"interaction",color:"#cc00ff"},{id:"selfpromo",color:"#ffff00"},{id:"music_offtopic",color:"#ff9900"},{id:"preview",color:"#0b9d65"},{id:"poi_highlight",color:"#ff1684"},{id:"filler",color:"#7300ff"}]);function qt(s,e,t){const a=s.slice();return a[11]=e[t],a}function Ds(s){let e;return{c(){e=$("Submitted")},l(t){e=S(t,"Submitted")},m(t,a){G(t,e,a)},d(t){t&&u(e)}}}function ws(s){let e;return{c(){e=$("Start/End")},l(t){e=S(t,"Start/End")},m(t,a){G(t,e,a)},d(t){t&&u(e)}}}function Is(s){let e;return{c(){e=$("Votes")},l(t){e=S(t,"Votes")},m(t,a){G(t,e,a)},d(t){t&&u(e)}}}function ys(s){let e;return{c(){e=$("Views")},l(t){e=S(t,"Views")},m(t,a){G(t,e,a)},d(t){t&&u(e)}}}function Cs(s){let e;return{c(){e=$("Category")},l(t){e=S(t,"Category")},m(t,a){G(t,e,a)},d(t){t&&u(e)}}}function As(s){let e;return{c(){e=$("Hidden")},l(t){e=S(t,"Hidden")},m(t,a){G(t,e,a)},d(t){t&&u(e)}}}function Bs(s){let e;return{c(){e=$("Actiontype")},l(t){e=S(t,"Actiontype")},m(t,a){G(t,e,a)},d(t){t&&u(e)}}}function Ls(s){let e;return{c(){e=$("ShadowHidden")},l(t){e=S(t,"ShadowHidden")},m(t,a){G(t,e,a)},d(t){t&&u(e)}}}function Us(s){let e;return{c(){e=$("Locked")},l(t){e=S(t,"Locked")},m(t,a){G(t,e,a)},d(t){t&&u(e)}}}function Ns(s){let e,t,a=s[2],n=[];for(let r=0;r<a.length;r+=1)n[r]=Ft(qt(s,a,r));const i=r=>Q(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=vt()},l(r){for(let c=0;c<n.length;c+=1)n[c].l(r);e=vt()},m(r,c){for(let o=0;o<n.length;o+=1)n[o].m(r,c);G(r,e,c),t=!0},p(r,c){if(c&116){a=r[2];let o;for(o=0;o<a.length;o+=1){const g=qt(r,a,o);n[o]?(n[o].p(g,c),j(n[o],1)):(n[o]=Ft(g),n[o].c(),j(n[o],1),n[o].m(e.parentNode,e))}for(Kt(),o=a.length;o<n.length;o+=1)i(o);Wt()}},i(r){if(!t){for(let c=0;c<a.length;c+=1)j(n[c]);t=!0}},o(r){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)Q(n[c]);t=!1},d(r){Xt(n,r),r&&u(e)}}}function Vs(s){let e,t,a,n;return{c(){e=f("tr"),t=f("td"),a=f("div"),n=$("Loading data..."),this.h()},l(i){e=d(i,"TR",{});var r=m(e);t=d(r,"TD",{colspan:!0,class:!0});var c=m(t);a=d(c,"DIV",{class:!0});var o=m(a);n=S(o,"Loading data..."),o.forEach(u),c.forEach(u),r.forEach(u),this.h()},h(){h(a,"class","loading svelte-19x84r4"),h(t,"colspan","12"),h(t,"class","svelte-19x84r4")},m(i,r){G(i,e,r),l(e,t),l(t,a),l(a,n)},p:Qe,i:Qe,o:Qe,d(i){i&&u(e)}}}function zt(s){let e,t;return{c(){e=f("span"),t=$("\u274C"),this.h()},l(a){e=d(a,"SPAN",{class:!0,title:!0});var n=m(e);t=S(n,"\u274C"),n.forEach(u),this.h()},h(){h(e,"class","removed svelte-19x84r4"),h(e,"title","Segment removed")},m(a,n){G(a,e,n),l(e,t)},d(a){a&&u(e)}}}function Hs(s){let e;return{c(){e=$("\u2014")},l(t){e=S(t,"\u2014")},m(t,a){G(t,e,a)},d(t){t&&u(e)}}}function Ps(s){let e,t;return{c(){e=f("span"),t=$("\u{1F512}"),this.h()},l(a){e=d(a,"SPAN",{class:!0,title:!0});var n=m(e);t=S(n,"\u{1F512}"),n.forEach(u),this.h()},h(){h(e,"class","locked svelte-19x84r4"),h(e,"title","Locked by VIP/Moderator")},m(a,n){G(a,e,n),l(e,t)},d(a){a&&u(e)}}}function Ft(s){let e,t,a=Yt(s[11].timeSubmitted)+"",n,i,r,c,o,g,w,H,re,N,E,I,D,M,A=s[11].votes+"",L,U,$e,le=s[11].views+"",F,ye,te,K,X=s[11].category+"",Z,Y,Ce,V,B=(s[11].hidden||"\u2014")+"",oe,ie,ce,R,se=(s[11].actionType in s[4]?s[4][s[11].actionType]:s[11].actionType)+"",Ne,Ve,fe,W,x=(s[11].shadowHidden||"\u2014")+"",de,He,De,ae,O,Ae,_=s[11].UUID+"",v,Ee,y,ne,q,J,ue,ve=s[11].userID+"",he,Se,we,Te,qe,P;o=new Dt({props:{value:s[11].startTime}}),w=new Dt({props:{value:s[11].endTime}}),E=new Dt({props:{value:s[11].endTime-s[11].startTime}});let ee=s[11].votes<-1&&zt();function Ye(p,b){return p[11].locked?Ps:Hs}let Ie=Ye(s),Be=Ie(s);return ne=new Ot({props:{value:s[11].UUID}}),Te=new Ot({props:{value:s[11].userID}}),{c(){e=f("tr"),t=f("td"),n=$(a),i=T(),r=f("td"),c=f("a"),me(o.$$.fragment),g=f("br"),me(w.$$.fragment),re=T(),N=f("td"),me(E.$$.fragment),I=T(),D=f("td"),ee&&ee.c(),M=T(),L=$(A),U=T(),$e=f("td"),F=$(le),ye=T(),te=f("td"),K=f("span"),Z=$(X),Ce=T(),V=f("td"),oe=$(B),ie=T(),ce=f("td"),R=f("span"),Ne=$(se),fe=T(),W=f("td"),de=$(x),He=T(),De=f("td"),Be.c(),ae=T(),O=f("td"),Ae=f("span"),v=$(_),Ee=f("br"),y=T(),me(ne.$$.fragment),q=T(),J=f("td"),ue=f("span"),he=$(ve),Se=f("br"),we=T(),me(Te.$$.fragment),qe=T(),this.h()},l(p){e=d(p,"TR",{});var b=m(e);t=d(b,"TD",{class:!0});var je=m(t);n=S(je,a),je.forEach(u),i=k(b),r=d(b,"TD",{class:!0});var Pe=m(r);c=d(Pe,"A",{href:!0,class:!0});var ke=m(c);_e(o.$$.fragment,ke),g=d(ke,"BR",{}),_e(w.$$.fragment,ke),ke.forEach(u),Pe.forEach(u),re=k(b),N=d(b,"TD",{class:!0});var Ge=m(N);_e(E.$$.fragment,Ge),Ge.forEach(u),I=k(b),D=d(b,"TD",{class:!0});var Le=m(D);ee&&ee.l(Le),M=k(Le),L=S(Le,A),Le.forEach(u),U=k(b),$e=d(b,"TD",{class:!0});var et=m($e);F=S(et,le),et.forEach(u),ye=k(b),te=d(b,"TD",{class:!0});var tt=m(te);K=d(tt,"SPAN",{class:!0,style:!0});var st=m(K);Z=S(st,X),st.forEach(u),tt.forEach(u),Ce=k(b),V=d(b,"TD",{class:!0});var Me=m(V);oe=S(Me,B),Me.forEach(u),ie=k(b),ce=d(b,"TD",{class:!0});var Ue=m(ce);R=d(Ue,"SPAN",{style:!0,title:!0});var lt=m(R);Ne=S(lt,se),lt.forEach(u),Ue.forEach(u),fe=k(b),W=d(b,"TD",{class:!0});var ut=m(W);de=S(ut,x),ut.forEach(u),He=k(b),De=d(b,"TD",{class:!0});var mt=m(De);Be.l(mt),mt.forEach(u),ae=k(b),O=d(b,"TD",{class:!0});var Xe=m(O);Ae=d(Xe,"SPAN",{class:!0});var C=m(Ae);v=S(C,_),C.forEach(u),Ee=d(Xe,"BR",{}),y=k(Xe),_e(ne.$$.fragment,Xe),Xe.forEach(u),q=k(b),J=d(b,"TD",{class:!0});var z=m(J);ue=d(z,"SPAN",{class:!0});var Ze=m(ue);he=S(Ze,ve),Ze.forEach(u),Se=d(z,"BR",{}),we=k(z),_e(Te.$$.fragment,z),z.forEach(u),qe=k(b),b.forEach(u),this.h()},h(){h(t,"class","cell-text svelte-19x84r4"),h(c,"href",H=`https://www.youtube.com/watch?v=${s[11].videoID}${s[11].startTime>2?`&t=${Math.floor(Math.max(0,s[11].startTime-2))}s`:""}#requiredSegment=${s[11].UUID}`),h(c,"class","svelte-19x84r4"),h(r,"class","cell-number svelte-19x84r4"),h(N,"class","cell-number svelte-19x84r4"),h(D,"class","cell-number nowrap svelte-19x84r4"),h($e,"class","cell-number svelte-19x84r4"),h(K,"class","category svelte-19x84r4"),h(K,"style",Y=`background-color:${s[6](s[11].category)}`),h(te,"class","cell-text svelte-19x84r4"),h(V,"class","cell-text svelte-19x84r4"),ls(R,"cursor","help"),h(R,"title",Ve=s[11].actionType in s[5]?s[5][s[11].actionType]:s[11].actionType),h(ce,"class","cell-text svelte-19x84r4"),h(W,"class","cell-text svelte-19x84r4"),h(De,"class","cell-text svelte-19x84r4"),h(Ae,"class","wordbreak wordbreak--uuid svelte-19x84r4"),h(O,"class","cell-text svelte-19x84r4"),h(ue,"class","wordbreak wordbreak--uuid svelte-19x84r4"),h(J,"class","cell-text svelte-19x84r4")},m(p,b){G(p,e,b),l(e,t),l(t,n),l(e,i),l(e,r),l(r,c),ge(o,c,null),l(c,g),ge(w,c,null),l(e,re),l(e,N),ge(E,N,null),l(e,I),l(e,D),ee&&ee.m(D,null),l(D,M),l(D,L),l(e,U),l(e,$e),l($e,F),l(e,ye),l(e,te),l(te,K),l(K,Z),l(e,Ce),l(e,V),l(V,oe),l(e,ie),l(e,ce),l(ce,R),l(R,Ne),l(e,fe),l(e,W),l(W,de),l(e,He),l(e,De),Be.m(De,null),l(e,ae),l(e,O),l(O,Ae),l(Ae,v),l(O,Ee),l(O,y),ge(ne,O,null),l(e,q),l(e,J),l(J,ue),l(ue,he),l(J,Se),l(J,we),ge(Te,J,null),l(e,qe),P=!0},p(p,b){(!P||b&4)&&a!==(a=Yt(p[11].timeSubmitted)+"")&&be(n,a);const je={};b&4&&(je.value=p[11].startTime),o.$set(je);const Pe={};b&4&&(Pe.value=p[11].endTime),w.$set(Pe),(!P||b&4&&H!==(H=`https://www.youtube.com/watch?v=${p[11].videoID}${p[11].startTime>2?`&t=${Math.floor(Math.max(0,p[11].startTime-2))}s`:""}#requiredSegment=${p[11].UUID}`))&&h(c,"href",H);const ke={};b&4&&(ke.value=p[11].endTime-p[11].startTime),E.$set(ke),p[11].votes<-1?ee||(ee=zt(),ee.c(),ee.m(D,M)):ee&&(ee.d(1),ee=null),(!P||b&4)&&A!==(A=p[11].votes+"")&&be(L,A),(!P||b&4)&&le!==(le=p[11].views+"")&&be(F,le),(!P||b&4)&&X!==(X=p[11].category+"")&&be(Z,X),(!P||b&4&&Y!==(Y=`background-color:${p[6](p[11].category)}`))&&h(K,"style",Y),(!P||b&4)&&B!==(B=(p[11].hidden||"\u2014")+"")&&be(oe,B),(!P||b&4)&&se!==(se=(p[11].actionType in p[4]?p[4][p[11].actionType]:p[11].actionType)+"")&&be(Ne,se),(!P||b&4&&Ve!==(Ve=p[11].actionType in p[5]?p[5][p[11].actionType]:p[11].actionType))&&h(R,"title",Ve),(!P||b&4)&&x!==(x=(p[11].shadowHidden||"\u2014")+"")&&be(de,x),Ie!==(Ie=Ye(p))&&(Be.d(1),Be=Ie(p),Be&&(Be.c(),Be.m(De,null))),(!P||b&4)&&_!==(_=p[11].UUID+"")&&be(v,_);const Ge={};b&4&&(Ge.value=p[11].UUID),ne.$set(Ge),(!P||b&4)&&ve!==(ve=p[11].userID+"")&&be(he,ve);const Le={};b&4&&(Le.value=p[11].userID),Te.$set(Le)},i(p){P||(j(o.$$.fragment,p),j(w.$$.fragment,p),j(E.$$.fragment,p),j(ne.$$.fragment,p),j(Te.$$.fragment,p),P=!0)},o(p){Q(o.$$.fragment,p),Q(w.$$.fragment,p),Q(E.$$.fragment,p),Q(ne.$$.fragment,p),Q(Te.$$.fragment,p),P=!1},d(p){p&&u(e),pe(o),pe(w),pe(E),ee&&ee.d(),Be.d(),pe(ne),pe(Te)}}}function Ms(s){let e,t,a,n,i,r,c,o,g,w,H,re,N,E,I,D,M,A,L,U,$e,le,F,ye,te,K,X,Z,Y,Ce,V,B,oe,ie,ce,R,se,Ne,Ve,fe,W,x,de,He,De;i=new Je({props:{sortBy:"timeSubmitted",name:"timeSubmitted",sorting:s[0],current:s[3],$$slots:{default:[Ds]},$$scope:{ctx:s}}}),o=new Je({props:{name:"startTime",sorting:s[0],current:s[3],$$slots:{default:[ws]},$$scope:{ctx:s}}}),E=new Je({props:{name:"votes",sorting:s[0],current:s[3],$$slots:{default:[Is]},$$scope:{ctx:s}}}),M=new Je({props:{name:"views",sorting:s[0],current:s[3],$$slots:{default:[ys]},$$scope:{ctx:s}}}),U=new Je({props:{name:"category",sorting:s[0],current:s[3],$$slots:{default:[Cs]},$$scope:{ctx:s}}}),F=new Je({props:{name:"hidden",sorting:s[0],current:s[3],$$slots:{default:[As]},$$scope:{ctx:s}}}),K=new Je({props:{name:"hidden",sorting:s[0],current:s[3],$$slots:{default:[Bs]},$$scope:{ctx:s}}}),Y=new Je({props:{name:"shadowHidden",sorting:s[0],current:s[3],$$slots:{default:[Ls]},$$scope:{ctx:s}}}),B=new Je({props:{name:"locked",sorting:s[0],current:s[3],$$slots:{default:[Us]},$$scope:{ctx:s}}});const ae=[Vs,Ns],O=[];function Ae(_,v){return _[1]?0:1}return W=Ae(s),x=O[W]=ae[W](s),{c(){e=f("table"),t=f("thead"),a=f("tr"),n=f("th"),me(i.$$.fragment),r=T(),c=f("th"),me(o.$$.fragment),g=T(),w=f("th"),H=$("Length"),re=T(),N=f("th"),me(E.$$.fragment),I=T(),D=f("th"),me(M.$$.fragment),A=T(),L=f("th"),me(U.$$.fragment),$e=T(),le=f("th"),me(F.$$.fragment),ye=T(),te=f("th"),me(K.$$.fragment),X=T(),Z=f("th"),me(Y.$$.fragment),Ce=T(),V=f("th"),me(B.$$.fragment),oe=T(),ie=f("th"),ce=$("UUID"),R=T(),se=f("th"),Ne=$("Submitter UUID"),Ve=T(),fe=f("tbody"),x.c(),this.h()},l(_){e=d(_,"TABLE",{class:!0});var v=m(e);t=d(v,"THEAD",{class:!0});var Ee=m(t);a=d(Ee,"TR",{});var y=m(a);n=d(y,"TH",{class:!0,"data-sortby":!0});var ne=m(n);_e(i.$$.fragment,ne),ne.forEach(u),r=k(y),c=d(y,"TH",{class:!0,"data-sortby":!0});var q=m(c);_e(o.$$.fragment,q),q.forEach(u),g=k(y),w=d(y,"TH",{class:!0});var J=m(w);H=S(J,"Length"),J.forEach(u),re=k(y),N=d(y,"TH",{class:!0,"data-sortby":!0});var ue=m(N);_e(E.$$.fragment,ue),ue.forEach(u),I=k(y),D=d(y,"TH",{class:!0,"data-sortby":!0});var ve=m(D);_e(M.$$.fragment,ve),ve.forEach(u),A=k(y),L=d(y,"TH",{class:!0,"data-sortby":!0});var he=m(L);_e(U.$$.fragment,he),he.forEach(u),$e=k(y),le=d(y,"TH",{class:!0,"data-sortby":!0});var Se=m(le);_e(F.$$.fragment,Se),Se.forEach(u),ye=k(y),te=d(y,"TH",{class:!0,"data-sortby":!0});var we=m(te);_e(K.$$.fragment,we),we.forEach(u),X=k(y),Z=d(y,"TH",{class:!0,"data-sortby":!0});var Te=m(Z);_e(Y.$$.fragment,Te),Te.forEach(u),Ce=k(y),V=d(y,"TH",{class:!0,"data-sortby":!0});var qe=m(V);_e(B.$$.fragment,qe),qe.forEach(u),oe=k(y),ie=d(y,"TH",{class:!0});var P=m(ie);ce=S(P,"UUID"),P.forEach(u),R=k(y),se=d(y,"TH",{class:!0});var ee=m(se);Ne=S(ee,"Submitter UUID"),ee.forEach(u),y.forEach(u),Ee.forEach(u),Ve=k(v),fe=d(v,"TBODY",{});var Ye=m(fe);x.l(Ye),Ye.forEach(u),v.forEach(u),this.h()},h(){h(n,"class","cell-text svelte-19x84r4"),h(n,"data-sortby","timeSubmitted"),h(c,"class","cell-number svelte-19x84r4"),h(c,"data-sortby","startTime"),h(w,"class","cell-number svelte-19x84r4"),h(N,"class","cell-number svelte-19x84r4"),h(N,"data-sortby","votes"),h(D,"class","cell-number svelte-19x84r4"),h(D,"data-sortby","views"),h(L,"class","cell-text svelte-19x84r4"),h(L,"data-sortby","category"),h(le,"class","cell-number svelte-19x84r4"),h(le,"data-sortby","hidden"),h(te,"class","cell-text svelte-19x84r4"),h(te,"data-sortby","actiontype"),h(Z,"class","cell-number svelte-19x84r4"),h(Z,"data-sortby","shadowHidden"),h(V,"class","cell-number svelte-19x84r4"),h(V,"data-sortby","locked"),h(ie,"class","cell-text svelte-19x84r4"),h(se,"class","cell-text svelte-19x84r4"),h(t,"class","svelte-19x84r4"),h(e,"class","svelte-19x84r4")},m(_,v){G(_,e,v),l(e,t),l(t,a),l(a,n),ge(i,n,null),l(a,r),l(a,c),ge(o,c,null),l(a,g),l(a,w),l(w,H),l(a,re),l(a,N),ge(E,N,null),l(a,I),l(a,D),ge(M,D,null),l(a,A),l(a,L),ge(U,L,null),l(a,$e),l(a,le),ge(F,le,null),l(a,ye),l(a,te),ge(K,te,null),l(a,X),l(a,Z),ge(Y,Z,null),l(a,Ce),l(a,V),ge(B,V,null),l(a,oe),l(a,ie),l(ie,ce),l(a,R),l(a,se),l(se,Ne),l(e,Ve),l(e,fe),O[W].m(fe,null),de=!0,He||(De=[We(s[7].call(null,n)),We(s[7].call(null,c)),We(s[7].call(null,N)),We(s[7].call(null,D)),We(s[7].call(null,L)),We(s[7].call(null,le)),We(s[7].call(null,te)),We(s[7].call(null,Z)),We(s[7].call(null,V))],He=!0)},p(_,[v]){const Ee={};v&1&&(Ee.sorting=_[0]),v&8&&(Ee.current=_[3]),v&16384&&(Ee.$$scope={dirty:v,ctx:_}),i.$set(Ee);const y={};v&1&&(y.sorting=_[0]),v&8&&(y.current=_[3]),v&16384&&(y.$$scope={dirty:v,ctx:_}),o.$set(y);const ne={};v&1&&(ne.sorting=_[0]),v&8&&(ne.current=_[3]),v&16384&&(ne.$$scope={dirty:v,ctx:_}),E.$set(ne);const q={};v&1&&(q.sorting=_[0]),v&8&&(q.current=_[3]),v&16384&&(q.$$scope={dirty:v,ctx:_}),M.$set(q);const J={};v&1&&(J.sorting=_[0]),v&8&&(J.current=_[3]),v&16384&&(J.$$scope={dirty:v,ctx:_}),U.$set(J);const ue={};v&1&&(ue.sorting=_[0]),v&8&&(ue.current=_[3]),v&16384&&(ue.$$scope={dirty:v,ctx:_}),F.$set(ue);const ve={};v&1&&(ve.sorting=_[0]),v&8&&(ve.current=_[3]),v&16384&&(ve.$$scope={dirty:v,ctx:_}),K.$set(ve);const he={};v&1&&(he.sorting=_[0]),v&8&&(he.current=_[3]),v&16384&&(he.$$scope={dirty:v,ctx:_}),Y.$set(he);const Se={};v&1&&(Se.sorting=_[0]),v&8&&(Se.current=_[3]),v&16384&&(Se.$$scope={dirty:v,ctx:_}),B.$set(Se);let we=W;W=Ae(_),W===we?O[W].p(_,v):(Kt(),Q(O[we],1,1,()=>{O[we]=null}),Wt(),x=O[W],x?x.p(_,v):(x=O[W]=ae[W](_),x.c()),j(x,1),x.m(fe,null))},i(_){de||(j(i.$$.fragment,_),j(o.$$.fragment,_),j(E.$$.fragment,_),j(M.$$.fragment,_),j(U.$$.fragment,_),j(F.$$.fragment,_),j(K.$$.fragment,_),j(Y.$$.fragment,_),j(B.$$.fragment,_),j(x),de=!0)},o(_){Q(i.$$.fragment,_),Q(o.$$.fragment,_),Q(E.$$.fragment,_),Q(M.$$.fragment,_),Q(U.$$.fragment,_),Q(F.$$.fragment,_),Q(K.$$.fragment,_),Q(Y.$$.fragment,_),Q(B.$$.fragment,_),Q(x),de=!1},d(_){_&&u(e),pe(i),pe(o),pe(E),pe(M),pe(U),pe(F),pe(K),pe(Y),pe(B),O[W].d(),He=!1,Jt(De)}}}const wt="ASC",pt="DESC";function Yt(s){const e=new Date(s);return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")} ${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}`}function Rs(s,e,t){let a;Qt(s,ks,E=>t(10,a=E));let{segments:n=[]}=e,{isLoading:i=!1}=e,{sortDirection:r="DESC"}=e,{sortBy:c="timeSubmitted"}=e,o;const g={skip:"\u23ED\uFE0F",mute:"\u{1F507}",full:"\u{1F3F7}\uFE0F",poi:"\u{1F4CC}"},w={skip:"Skip",mute:"Muted",full:"Full",poi:"Highlight"};let H=c;r=r==="DESC"?pt:wt;function re(E){var I;return((I=a.find(D=>D.id===E))===null||I===void 0?void 0:I.color)||"transparent"}function N(E){const I=E.getAttribute("sortBy");E.addEventListener("click",D=>{H===I?t(0,r=r===pt?wt:pt):(t(0,r=pt),t(3,H=I)),t(2,o=[...n].sort((M,A)=>M[I]===A[I]?0:M[I]>A[I]?-1:1)),r===wt&&t(2,o=[...o].reverse())})}return s.$$set=E=>{"segments"in E&&t(8,n=E.segments),"isLoading"in E&&t(1,i=E.isLoading),"sortDirection"in E&&t(0,r=E.sortDirection),"sortBy"in E&&t(9,c=E.sortBy)},s.$$.update=()=>{s.$$.dirty&256&&t(2,o=[...n])},[r,i,o,H,g,w,re,N,n,c]}class Os extends rt{constructor(e){super(),ot(this,e,Rs,Ms,it,{segments:8,isLoading:1,sortDirection:0,sortBy:9})}}function jt(s,e,t){const a=s.slice();return a[7]=e[t],a[9]=t,a}function Gt(s){let e,t=s[9]+1+"",a,n,i,r;function c(){return s[3](s[9])}return{c(){e=f("button"),a=$(t),this.h()},l(o){e=d(o,"BUTTON",{});var g=m(e);a=S(g,t),g.forEach(u),this.h()},h(){e.disabled=n=s[0]===s[9]+1},m(o,g){G(o,e,g),l(e,a),i||(r=Oe(e,"click",c),i=!0)},p(o,g){s=o,g&1&&n!==(n=s[0]===s[9]+1)&&(e.disabled=n)},d(o){o&&u(e),i=!1,r()}}}function qs(s){let e,t=Array(s[1]),a=[];for(let n=0;n<t.length;n+=1)a[n]=Gt(jt(s,t,n));return{c(){for(let n=0;n<a.length;n+=1)a[n].c();e=vt()},l(n){for(let i=0;i<a.length;i+=1)a[i].l(n);e=vt()},m(n,i){for(let r=0;r<a.length;r+=1)a[r].m(n,i);G(n,e,i)},p(n,[i]){if(i&7){t=Array(n[1]);let r;for(r=0;r<t.length;r+=1){const c=jt(n,t,r);a[r]?a[r].p(c,i):(a[r]=Gt(c),a[r].c(),a[r].m(e.parentNode,e))}for(;r<a.length;r+=1)a[r].d(1);a.length=t.length}},i:Qe,o:Qe,d(n){Xt(a,n),n&&u(e)}}}function zs(s,e,t){let{current:a=1}=e,{last:n=1}=e;const i=as();function r(o){i("click",{page:o})}const c=o=>r(o+1);return s.$$set=o=>{"current"in o&&t(0,a=o.current),"last"in o&&t(1,n=o.last)},s.$$.update=()=>{s.$$.dirty&3,s.$$.dirty&1},[a,n,r,c]}class Fs extends rt{constructor(e){super(),ot(this,e,zs,qs,it,{current:0,last:1})}}function Ys(s){let e,t,a,n,i,r,c,o,g,w,H,re,N,E,I,D,M,A,L,U,$e,le,F,ye,te,K,X,Z,Y,Ce,V,B,oe,ie,ce,R,se,Ne,Ve,fe,W,x,de,He,De,ae,O,Ae,_=s[2].segmentCount+"",v,Ee,y,ne,q,J=s[0]+1+"",ue,ve,he=Math.ceil(s[2].segmentCount/bt)+"",Se,we,Te,qe,P,ee,Ye,Ie,Be,p,b,je,Pe,ke,Ge,Le=Math.round(s[10])+"",et,tt,st,Me,Ue,lt,ut;function mt(C){s[16](C)}let Xe={type:"text",id:"videoid",placeholder:"VideoID"};return s[4]!==void 0&&(Xe.value=s[4]),H=new ps({props:Xe}),ns.push(()=>rs(H,"value",mt)),y=new Os({props:{segments:s[12],isLoading:!1,sortDirection:"ASC"}}),b=new Fs({props:{current:s[0]+1,last:s[1]+1}}),b.$on("click",s[15]),Me=new ms({props:{status:s[11]}}),{c(){e=T(),t=f("main"),a=f("div"),n=f("form"),i=f("div"),r=f("div"),c=f("label"),o=$("VideoID:"),g=f("br"),w=T(),me(H.$$.fragment),N=T(),E=f("div"),I=f("label"),D=$("Service:"),M=f("br"),A=T(),L=f("select"),U=f("option"),$e=$("YouTube"),le=T(),F=f("div"),ye=$("Include:"),te=f("br"),K=T(),X=f("div"),Z=f("label"),Y=f("input"),Ce=$(`
              Locked`),V=T(),B=f("label"),oe=f("input"),ie=$(`
              hidden`),ce=T(),R=f("label"),se=f("input"),Ne=$(`
              ignored`),Ve=T(),fe=f("div"),W=f("br"),x=T(),de=f("button"),He=$("Search"),De=T(),ae=f("div"),O=f("h2"),Ae=$("SegmentCount: "),v=$(_),Ee=T(),me(y.$$.fragment),ne=T(),q=f("div"),ue=$(J),ve=$(" of "),Se=$(he),we=T(),Te=f("br"),qe=T(),P=f("button"),ee=$("prev page"),Ye=T(),Ie=f("button"),Be=$("next page"),p=T(),me(b.$$.fragment),je=T(),Pe=f("div"),ke=f("sub"),Ge=$("(Loadtime: "),et=$(Le),tt=$("ms)"),st=T(),me(Me.$$.fragment),this.h()},l(C){os('[data-svelte="svelte-40ey8a"]',document.head).forEach(u),e=k(C),t=d(C,"MAIN",{});var Ze=m(t);a=d(Ze,"DIV",{class:!0});var Ke=m(a);n=d(Ke,"FORM",{});var at=m(n);i=d(at,"DIV",{class:!0});var Re=m(i);r=d(Re,"DIV",{});var ct=m(r);c=d(ct,"LABEL",{for:!0});var It=m(c);o=S(It,"VideoID:"),It.forEach(u),g=d(ct,"BR",{}),w=k(ct),_e(H.$$.fragment,ct),ct.forEach(u),N=k(Re),E=d(Re,"DIV",{});var ft=m(E);I=d(ft,"LABEL",{for:!0});var yt=m(I);D=S(yt,"Service:"),yt.forEach(u),M=d(ft,"BR",{}),A=k(ft),L=d(ft,"SELECT",{id:!0,name:!0});var Ct=m(L);U=d(Ct,"OPTION",{});var At=m(U);$e=S(At,"YouTube"),At.forEach(u),Ct.forEach(u),ft.forEach(u),le=k(Re),F=d(Re,"DIV",{});var dt=m(F);ye=S(dt,"Include:"),te=d(dt,"BR",{}),K=k(dt),X=d(dt,"DIV",{class:!0});var nt=m(X);Z=d(nt,"LABEL",{});var $t=m(Z);Y=d($t,"INPUT",{type:!0,name:!0}),Ce=S($t,`
              Locked`),$t.forEach(u),V=k(nt),B=d(nt,"LABEL",{});var St=m(B);oe=d(St,"INPUT",{type:!0,name:!0}),ie=S(St,`
              hidden`),St.forEach(u),ce=k(nt),R=d(nt,"LABEL",{});var Et=m(R);se=d(Et,"INPUT",{type:!0,name:!0}),Ne=S(Et,`
              ignored`),Et.forEach(u),nt.forEach(u),dt.forEach(u),Ve=k(Re),fe=d(Re,"DIV",{});var _t=m(fe);W=d(_t,"BR",{}),x=k(_t),de=d(_t,"BUTTON",{type:!0,class:!0});var Bt=m(de);He=S(Bt,"Search"),Bt.forEach(u),_t.forEach(u),Re.forEach(u),at.forEach(u),De=k(Ke),ae=d(Ke,"DIV",{});var ze=m(ae);O=d(ze,"H2",{});var Tt=m(O);Ae=S(Tt,"SegmentCount: "),v=S(Tt,_),Tt.forEach(u),Ee=k(ze),_e(y.$$.fragment,ze),ne=k(ze),q=d(ze,"DIV",{});var Fe=m(q);ue=S(Fe,J),ve=S(Fe," of "),Se=S(Fe,he),we=k(Fe),Te=d(Fe,"BR",{}),qe=k(Fe),P=d(Fe,"BUTTON",{class:!0});var Lt=m(P);ee=S(Lt,"prev page"),Lt.forEach(u),Ye=k(Fe),Ie=d(Fe,"BUTTON",{class:!0});var Ut=m(Ie);Be=S(Ut,"next page"),Ut.forEach(u),Fe.forEach(u),p=k(ze),_e(b.$$.fragment,ze),je=k(ze),Pe=d(ze,"DIV",{});var Nt=m(Pe);ke=d(Nt,"SUB",{});var gt=m(ke);Ge=S(gt,"(Loadtime: "),et=S(gt,Le),tt=S(gt,"ms)"),gt.forEach(u),Nt.forEach(u),ze.forEach(u),st=k(Ke),_e(Me.$$.fragment,Ke),Ke.forEach(u),Ze.forEach(u),this.h()},h(){document.title="Browse | SponsorBlockControl",h(c,"for","videoid"),h(I,"for","service"),U.__value="youtube",U.value=U.__value,h(L,"id","service"),h(L,"name","service"),s[3]===void 0&&is(()=>s[17].call(L)),h(Y,"type","checkbox"),h(Y,"name","locked"),h(oe,"type","checkbox"),h(oe,"name","hidden"),h(se,"type","checkbox"),h(se,"name","ignored"),h(X,"class","filters svelte-1z0tix8"),h(de,"type","submit"),h(de,"class","svelte-1z0tix8"),h(i,"class","filters svelte-1z0tix8"),P.disabled=s[6],h(P,"class","svelte-1z0tix8"),Ie.disabled=s[5],h(Ie,"class","svelte-1z0tix8"),h(a,"class","container")},m(C,z){G(C,e,z),G(C,t,z),l(t,a),l(a,n),l(n,i),l(i,r),l(r,c),l(c,o),l(r,g),l(r,w),ge(H,r,null),l(i,N),l(i,E),l(E,I),l(I,D),l(E,M),l(E,A),l(E,L),l(L,U),l(U,$e),Mt(L,s[3]),l(i,le),l(i,F),l(F,ye),l(F,te),l(F,K),l(F,X),l(X,Z),l(Z,Y),Y.checked=s[7],l(Z,Ce),l(X,V),l(X,B),l(B,oe),oe.checked=s[8],l(B,ie),l(X,ce),l(X,R),l(R,se),se.checked=s[9],l(R,Ne),l(i,Ve),l(i,fe),l(fe,W),l(fe,x),l(fe,de),l(de,He),l(a,De),l(a,ae),l(ae,O),l(O,Ae),l(O,v),l(ae,Ee),ge(y,ae,null),l(ae,ne),l(ae,q),l(q,ue),l(q,ve),l(q,Se),l(q,we),l(q,Te),l(q,qe),l(q,P),l(P,ee),l(q,Ye),l(q,Ie),l(Ie,Be),l(ae,p),ge(b,ae,null),l(ae,je),l(ae,Pe),l(Pe,ke),l(ke,Ge),l(ke,et),l(ke,tt),l(a,st),ge(Me,a,null),Ue=!0,lt||(ut=[Oe(L,"change",s[17]),Oe(Y,"change",s[18]),Oe(oe,"change",s[19]),Oe(se,"change",s[20]),Oe(de,"click",s[21]),Oe(n,"submit",us(s[14])),Oe(P,"click",s[22]),Oe(Ie,"click",s[23])],lt=!0)},p(C,[z]){const Ze={};!re&&z&16&&(re=!0,Ze.value=C[4],cs(()=>re=!1)),H.$set(Ze),z&8&&Mt(L,C[3]),z&128&&(Y.checked=C[7]),z&256&&(oe.checked=C[8]),z&512&&(se.checked=C[9]),(!Ue||z&4)&&_!==(_=C[2].segmentCount+"")&&be(v,_);const Ke={};z&4096&&(Ke.segments=C[12]),y.$set(Ke),(!Ue||z&1)&&J!==(J=C[0]+1+"")&&be(ue,J),(!Ue||z&4)&&he!==(he=Math.ceil(C[2].segmentCount/bt)+"")&&be(Se,he),(!Ue||z&64)&&(P.disabled=C[6]),(!Ue||z&32)&&(Ie.disabled=C[5]);const at={};z&1&&(at.current=C[0]+1),z&2&&(at.last=C[1]+1),b.$set(at),(!Ue||z&1024)&&Le!==(Le=Math.round(C[10])+"")&&be(et,Le);const Re={};z&2048&&(Re.status=C[11]),Me.$set(Re)},i(C){Ue||(j(H.$$.fragment,C),j(y.$$.fragment,C),j(b.$$.fragment,C),j(Me.$$.fragment,C),Ue=!0)},o(C){Q(H.$$.fragment,C),Q(y.$$.fragment,C),Q(b.$$.fragment,C),Q(Me.$$.fragment,C),Ue=!1},d(C){C&&u(e),C&&u(t),pe(H),pe(y),pe(b),pe(Me),lt=!1,Jt(ut)}}}let js=0;const bt=10;function Gs(s,e,t){let a,n;Qt(s,hs,V=>t(24,n=V));let i="youtube",r="",c=0,o=!1,g=!0,w=0,H=-2,re=1/0,N=1/0,E=!0,I=!0,D=!0,M=0,A={segmentCount:0,page:0,segments:[]},L=ht.IDLE;fs(async()=>{const V=new URLSearchParams(window.location.search);V.has("videoID")&&(t(4,r=V.get("videoID")),await U())});async function U(V=0){console.log("Sending fetch request"),t(11,L=ht.WORKING);const B=new URLSearchParams;B.append("videoID",r),B.append("service",i),B.append("page",V.toString()),B.append("minVotes",H.toString()),B.append("maxVotes",re.toString()),B.append("minViews",js.toString()),B.append("maxViews",N.toString()),B.append("locked",E.toString()),B.append("hidden",I.toString()),B.append("ignored",D.toString());const oe=performance.now(),ie=await fetch(`${n.sponsorBlockApi}/api/searchSegments?${B}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(t(10,M=performance.now()-oe),ie.status===200){t(11,L=ht.SUCCESS);const ce=await ie.json();t(2,A.segmentCount=ce.segmentCount,A),t(2,A.page=ce.page,A),t(2,A.segments=[...ce.segments].map(R=>(R.duration=R.endTime-R.startTime,R.videoID=r,R)),A)}else t(2,A.segmentCount=0,A),t(2,A.page=0,A),t(2,A.segments=[],A),ie.status===400&&t(11,L=ht.ERROR_INVALID),ie.status===404&&t(11,L=ht.NOT_FOUND)}async function $e(){gs(`./browse/?videoID=${r}`)}async function le(V){const B=V.detail.page-1;console.log("paginationHandler",B),await U(B),t(0,c=B)}function F(V){r=V,t(4,r)}function ye(){i=ds(this),t(3,i)}function te(){E=this.checked,t(7,E)}function K(){I=this.checked,t(8,I)}function X(){D=this.checked,t(9,D)}const Z=async()=>await U(0),Y=()=>U(t(0,c=Math.max(0,c-1))),Ce=()=>U(t(0,c=Math.min(Math.floor(A.segmentCount/bt),c+1)));return s.$$.update=()=>{s.$$.dirty&4&&t(1,w=Math.floor(A.segmentCount/bt)),s.$$.dirty&3&&t(5,o=c===w),s.$$.dirty&1&&t(6,g=c===0),s.$$.dirty&4&&t(12,a=[...A.segments])},[c,w,A,i,r,o,g,E,I,D,M,L,a,U,$e,le,F,ye,te,K,X,Z,Y,Ce]}class tl extends rt{constructor(e){super(),ot(this,e,Gs,Ys,it,{})}}export{tl as default};
