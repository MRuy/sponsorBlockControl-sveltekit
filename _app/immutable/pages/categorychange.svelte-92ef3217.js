import{S as pe,i as ge,s as me,e as d,t as W,c as f,a as p,h as A,d as u,g as ae,H as t,E as ve,k as L,w as be,R as Ie,m as T,x as Ee,b as E,a5 as ye,ab as ue,a6 as _e,y as Se,J as te,q as Ce,o as Ue,K as De,B as Oe,W as Ne,L as Re,a9 as Le}from"../chunks/index-dfbae117.js";import{C as Te}from"../chunks/config-fe9b9627.js";import{i as ke}from"../chunks/utils-fa7e4892.js";import{c as de,a as Be}from"../chunks/config-89b2e777.js";import{S as Ge,a as y}from"../chunks/Status-73b605ec.js";import"../chunks/index-9cf52d15.js";import"../chunks/userInfo-8e2fd6d8.js";function fe(a,o,l){const s=a.slice();return s[9]=o[l],s[11]=l,s}function he(a){let o,l=Be[a[11]]+"",s,n;return{c(){o=d("option"),s=W(l),this.h()},l(r){o=f(r,"OPTION",{});var g=p(o);s=A(g,l),g.forEach(u),this.h()},h(){o.__value=n=a[9],o.value=o.__value},m(r,g){ae(r,o,g),t(o,s)},p:ve,d(r){r&&u(o)}}}function Ke(a){let o,l,s,n,r,g,S,m,U,P,w,v,i,k,F,D,B,H,J,M,h,O,Q,X,G,N,Y,j,Z,R,K,$,le,V=de,_=[];for(let e=0;e<V.length;e+=1)_[e]=he(fe(a,V,e));return R=new Ge({props:{status:a[1]}}),{c(){o=L(),l=d("main"),s=d("div"),n=d("fieldset"),r=d("legend"),g=W("Change segment category"),S=L(),m=d("div"),U=d("label"),P=W("Segment UUID:"),w=d("br"),v=L(),i=d("input"),F=L(),D=d("div"),B=d("label"),H=W("Category:"),J=d("br"),M=L(),h=d("select"),O=d("option"),Q=W("--- Select category ---");for(let e=0;e<_.length;e+=1)_[e].c();X=L(),G=d("div"),N=d("button"),Y=W(`Change
          category`),Z=L(),be(R.$$.fragment),this.h()},l(e){Ie('[data-svelte="svelte-1gjpzbo"]',document.head).forEach(u),o=T(e),l=f(e,"MAIN",{});var C=p(l);s=f(C,"DIV",{class:!0});var c=p(s);n=f(c,"FIELDSET",{});var I=p(n);r=f(I,"LEGEND",{});var se=p(r);g=A(se,"Change segment category"),se.forEach(u),S=T(I),m=f(I,"DIV",{});var q=p(m);U=f(q,"LABEL",{for:!0});var oe=p(U);P=A(oe,"Segment UUID:"),oe.forEach(u),w=f(q,"BR",{}),v=T(q),i=f(q,"INPUT",{id:!0,type:!0,size:!0,pattern:!0,placeholder:!0}),q.forEach(u),F=T(I),D=f(I,"DIV",{});var z=p(D);B=f(z,"LABEL",{for:!0});var ne=p(B);H=A(ne,"Category:"),ne.forEach(u),J=f(z,"BR",{}),M=T(z),h=f(z,"SELECT",{id:!0,class:!0});var x=p(h);O=f(x,"OPTION",{});var re=p(O);Q=A(re,"--- Select category ---"),re.forEach(u);for(let ee=0;ee<_.length;ee+=1)_[ee].l(x);x.forEach(u),z.forEach(u),X=T(I),G=f(I,"DIV",{class:!0});var ie=p(G);N=f(ie,"BUTTON",{});var ce=p(N);Y=A(ce,`Change
          category`),ce.forEach(u),ie.forEach(u),I.forEach(u),Z=T(c),Ee(R.$$.fragment,c),c.forEach(u),C.forEach(u),this.h()},h(){document.title="Category change | SponsorBlockControl",E(U,"for","uuid"),E(i,"id","uuid"),E(i,"type","text"),E(i,"size","64"),E(i,"pattern","[a-f0-9]{64}"),E(i,"placeholder","Segment UUID ..."),i.disabled=k=a[1]===y.WORKING,E(B,"for","category"),O.__value="",O.value=O.__value,E(h,"id","category"),E(h,"class","svelte-1slb73m"),a[3]===void 0&&ye(()=>a[6].call(h)),N.disabled=j=a[1]===y.WORKING||!a[2]||a[1]===y.WORKING,E(G,"class","actions"),E(s,"class","container")},m(e,b){ae(e,o,b),ae(e,l,b),t(l,s),t(s,n),t(n,r),t(r,g),t(n,S),t(n,m),t(m,U),t(U,P),t(m,w),t(m,v),t(m,i),ue(i,a[0]),t(n,F),t(n,D),t(D,B),t(B,H),t(D,J),t(D,M),t(D,h),t(h,O),t(O,Q);for(let C=0;C<_.length;C+=1)_[C].m(h,null);_e(h,a[3]),t(n,X),t(n,G),t(G,N),t(N,Y),t(s,Z),Se(R,s,null),K=!0,$||(le=[te(i,"input",a[5]),te(h,"change",a[6]),te(N,"click",a[7])],$=!0)},p(e,[b]){if((!K||b&2&&k!==(k=e[1]===y.WORKING))&&(i.disabled=k),b&1&&i.value!==e[0]&&ue(i,e[0]),b&0){V=de;let c;for(c=0;c<V.length;c+=1){const I=fe(e,V,c);_[c]?_[c].p(I,b):(_[c]=he(I),_[c].c(),_[c].m(h,null))}for(;c<_.length;c+=1)_[c].d(1);_.length=V.length}b&8&&_e(h,e[3]),(!K||b&6&&j!==(j=e[1]===y.WORKING||!e[2]||e[1]===y.WORKING))&&(N.disabled=j);const C={};b&2&&(C.status=e[1]),R.$set(C)},i(e){K||(Ce(R.$$.fragment,e),K=!0)},o(e){Ue(R.$$.fragment,e),K=!1},d(e){e&&u(o),e&&u(l),De(_,e),Oe(R),$=!1,Ne(le)}}}function Ve(a,o,l){let s;Re(a,Te,v=>l(8,s=v));let n=y.IDLE,r="",g=!1,S="";async function m(){l(1,n=y.WORKING);const v=new URLSearchParams;v.set("UUID",r),v.set("userID",s.privateUUID),v.set("category",S);const i=await fetch(`${s.sponsorBlockApi}/api/voteOnSponsorTime?${v}`,{method:"POST"}).then(k=>k.status);i===200&&(l(1,n=y.SUCCESS),l(0,r=""),l(3,S="")),i===400&&l(1,n=y.ERROR_INVALID),i===405&&l(1,n=y.DUPLICATE)}function U(){r=this.value,l(0,r)}function P(){S=Le(this),l(3,S)}const w=v=>{m()};return a.$$.update=()=>{a.$$.dirty&1&&l(2,g=ke(r))},[r,n,g,S,m,U,P,w]}class Fe extends pe{constructor(o){super(),ge(this,o,Ve,Ke,me,{})}}export{Fe as default};
