import{S as pe,i as ge,s as me,e as d,t as A,c as f,a as p,h as W,d as u,g as ae,H as t,E as ve,k as R,w as be,a4 as Ie,m as T,x as Ee,b as E,a5 as ye,ab as ue,a6 as _e,y as Se,J as te,q as Ce,o as Ue,K as De,B as Oe,V as Ne,L as Le,a9 as Re}from"../chunks/index-6cd0ee1a.js";import{C as Te}from"../chunks/config-68cbb0a0.js";import{i as Ve}from"../chunks/utils-83ecb504.js";import{c as de,a as ke}from"../chunks/config-89b2e777.js";import{S as Be,a as y}from"../chunks/Status-3ba30f11.js";import"../chunks/index-b67d38aa.js";import"../chunks/userInfo-b3c97a05.js";function fe(a,o,l){const s=a.slice();return s[9]=o[l],s[11]=l,s}function he(a){let o,l=ke[a[11]]+"",s,n;return{c(){o=d("option"),s=A(l),this.h()},l(r){o=f(r,"OPTION",{});var g=p(o);s=W(g,l),g.forEach(u),this.h()},h(){o.__value=n=a[9],o.value=o.__value},m(r,g){ae(r,o,g),t(o,s)},p:ve,d(r){r&&u(o)}}}function Ge(a){let o,l,s,n,r,g,S,m,U,P,w,v,i,V,F,D,k,H,J,M,h,O,Q,X,B,N,Y,j,Z,L,G,$,le,K=de,_=[];for(let e=0;e<K.length;e+=1)_[e]=he(fe(a,K,e));return L=new Be({props:{status:a[1]}}),{c(){o=R(),l=d("main"),s=d("div"),n=d("fieldset"),r=d("legend"),g=A("Change segment category"),S=R(),m=d("div"),U=d("label"),P=A("Segment UUID:"),w=d("br"),v=R(),i=d("input"),F=R(),D=d("div"),k=d("label"),H=A("Category:"),J=d("br"),M=R(),h=d("select"),O=d("option"),Q=A("--- Select category ---");for(let e=0;e<_.length;e+=1)_[e].c();X=R(),B=d("div"),N=d("button"),Y=A(`Change
          category`),Z=R(),be(L.$$.fragment),this.h()},l(e){Ie('[data-svelte="svelte-1gjpzbo"]',document.head).forEach(u),o=T(e),l=f(e,"MAIN",{});var C=p(l);s=f(C,"DIV",{class:!0});var c=p(s);n=f(c,"FIELDSET",{});var I=p(n);r=f(I,"LEGEND",{});var se=p(r);g=W(se,"Change segment category"),se.forEach(u),S=T(I),m=f(I,"DIV",{});var q=p(m);U=f(q,"LABEL",{for:!0});var oe=p(U);P=W(oe,"Segment UUID:"),oe.forEach(u),w=f(q,"BR",{}),v=T(q),i=f(q,"INPUT",{id:!0,type:!0,size:!0,pattern:!0,placeholder:!0}),q.forEach(u),F=T(I),D=f(I,"DIV",{});var z=p(D);k=f(z,"LABEL",{for:!0});var ne=p(k);H=W(ne,"Category:"),ne.forEach(u),J=f(z,"BR",{}),M=T(z),h=f(z,"SELECT",{id:!0,class:!0});var x=p(h);O=f(x,"OPTION",{});var re=p(O);Q=W(re,"--- Select category ---"),re.forEach(u);for(let ee=0;ee<_.length;ee+=1)_[ee].l(x);x.forEach(u),z.forEach(u),X=T(I),B=f(I,"DIV",{class:!0});var ie=p(B);N=f(ie,"BUTTON",{});var ce=p(N);Y=W(ce,`Change
          category`),ce.forEach(u),ie.forEach(u),I.forEach(u),Z=T(c),Ee(L.$$.fragment,c),c.forEach(u),C.forEach(u),this.h()},h(){document.title="Category change | SponsorBlockControl",E(U,"for","uuid"),E(i,"id","uuid"),E(i,"type","text"),E(i,"size","64"),E(i,"pattern","[a-f0-9]{64}"),E(i,"placeholder","Segment UUID ..."),i.disabled=V=a[1]===y.WORKING,E(k,"for","category"),O.__value="",O.value=O.__value,E(h,"id","category"),E(h,"class","svelte-1slb73m"),a[3]===void 0&&ye(()=>a[6].call(h)),N.disabled=j=a[1]===y.WORKING||!a[2]||a[1]===y.WORKING,E(B,"class","actions"),E(s,"class","container")},m(e,b){ae(e,o,b),ae(e,l,b),t(l,s),t(s,n),t(n,r),t(r,g),t(n,S),t(n,m),t(m,U),t(U,P),t(m,w),t(m,v),t(m,i),ue(i,a[0]),t(n,F),t(n,D),t(D,k),t(k,H),t(D,J),t(D,M),t(D,h),t(h,O),t(O,Q);for(let C=0;C<_.length;C+=1)_[C].m(h,null);_e(h,a[3]),t(n,X),t(n,B),t(B,N),t(N,Y),t(s,Z),Se(L,s,null),G=!0,$||(le=[te(i,"input",a[5]),te(h,"change",a[6]),te(N,"click",a[7])],$=!0)},p(e,[b]){if((!G||b&2&&V!==(V=e[1]===y.WORKING))&&(i.disabled=V),b&1&&i.value!==e[0]&&ue(i,e[0]),b&0){K=de;let c;for(c=0;c<K.length;c+=1){const I=fe(e,K,c);_[c]?_[c].p(I,b):(_[c]=he(I),_[c].c(),_[c].m(h,null))}for(;c<_.length;c+=1)_[c].d(1);_.length=K.length}b&8&&_e(h,e[3]),(!G||b&6&&j!==(j=e[1]===y.WORKING||!e[2]||e[1]===y.WORKING))&&(N.disabled=j);const C={};b&2&&(C.status=e[1]),L.$set(C)},i(e){G||(Ce(L.$$.fragment,e),G=!0)},o(e){Ue(L.$$.fragment,e),G=!1},d(e){e&&u(o),e&&u(l),De(_,e),Oe(L),$=!1,Ne(le)}}}function Ke(a,o,l){let s;Le(a,Te,v=>l(8,s=v));let n=y.IDLE,r="",g=!1,S="";async function m(){l(1,n=y.WORKING);const v=new URLSearchParams;v.set("UUID",r),v.set("userID",s.privateUUID),v.set("category",S);const i=await fetch(`${s.sponsorBlockApi}/api/voteOnSponsorTime?${v}`,{method:"POST"}).then(V=>V.status);i===200&&(l(1,n=y.SUCCESS),l(0,r=""),l(3,S="")),i===400&&l(1,n=y.ERROR_INVALID),i===405&&l(1,n=y.DUPLICATE)}function U(){r=this.value,l(0,r)}function P(){S=Re(this),l(3,S)}const w=v=>{m()};return a.$$.update=()=>{a.$$.dirty&1&&l(2,g=Ve(r))},[r,n,g,S,m,U,P,w]}class Fe extends pe{constructor(o){super(),ge(this,o,Ke,Ge,me,{})}}export{Fe as default};
