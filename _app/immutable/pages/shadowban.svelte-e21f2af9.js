import{S as Se,i as ke,s as ye,e as i,k as S,t as P,c as r,a as f,m as k,h as z,d as u,b as c,g as ce,H as e,J as Z,w as Oe,a4 as Re,x as Le,I as Ue,ab as Ie,y as Ne,q as we,o as Be,K as Te,B as Ve,V as Ae,L as Ce,ac as qe}from"../chunks/index-6cd0ee1a.js";import{c as _e,a as He}from"../chunks/config-89b2e777.js";import{C as Ge}from"../chunks/config-68cbb0a0.js";import{a as Ke}from"../chunks/utils-83ecb504.js";import{S as Pe,a as W}from"../chunks/Status-3ba30f11.js";import"../chunks/index-b67d38aa.js";import"../chunks/userInfo-b3c97a05.js";function Ee(a,o,t){const d=a.slice();return d[13]=o[t],d[15]=t,d}function De(a){let o,t,d,p,m,v,O=He[a[15]]+"",l,g,U,R,B;return{c(){o=i("div"),t=i("input"),m=S(),v=i("label"),l=P(O),U=S(),this.h()},l(I){o=r(I,"DIV",{class:!0});var n=f(o);t=r(n,"INPUT",{id:!0,type:!0}),m=k(n),v=r(n,"LABEL",{for:!0});var T=f(v);l=z(T,O),T.forEach(u),U=k(n),n.forEach(u),this.h()},h(){c(t,"id",d="category_"+a[13]),c(t,"type","checkbox"),t.__value=p=a[13],t.value=t.__value,a[9][0].push(t),c(v,"for",g="category_"+a[13]),c(o,"class","category-option svelte-135auq9")},m(I,n){ce(I,o,n),e(o,t),t.checked=~a[2].indexOf(t.__value),e(o,m),e(o,v),e(v,l),e(o,U),R||(B=Z(t,"change",a[8]),R=!0)},p(I,n){n&4&&(t.checked=~I[2].indexOf(t.__value))},d(I){I&&u(o),a[9][0].splice(a[9][0].indexOf(t),1),R=!1,B()}}}function ze(a){let o,t,d,p,m,v,O,l,g,U,R,B,I,n,T,E,b,H,V,ee,te,y,F,se,ae,j,le,A,L,ne,Q,oe,N,ie,X,re,C,G,ue,he,J=_e,h=[];for(let s=0;s<J.length;s+=1)h[s]=De(Ee(a,J,s));return C=new Pe({props:{status:a[4]}}),{c(){o=S(),t=i("main"),d=i("div"),p=i("fieldset"),m=i("legend"),v=P("Shadow ban user:"),O=S(),l=i("div"),g=i("div"),U=i("label"),R=P("User UUID:"),B=i("br"),I=S(),n=i("input"),T=S(),E=i("div"),b=i("input"),H=S(),V=i("label"),ee=P("Hide/Restore old submissions"),te=S(),y=i("div"),F=i("div"),se=P("Categories to hide:"),ae=S();for(let s=0;s<h.length;s+=1)h[s].c();le=S(),A=i("div"),L=i("button"),ne=P("Unban"),oe=S(),N=i("button"),ie=P("Ban"),re=S(),Oe(C.$$.fragment),this.h()},l(s){Re('[data-svelte="svelte-16ud56z"]',document.head).forEach(u),o=k(s),t=r(s,"MAIN",{});var w=f(t);d=r(w,"DIV",{class:!0});var _=f(d);p=r(_,"FIELDSET",{});var K=f(p);m=r(K,"LEGEND",{});var fe=f(m);v=z(fe,"Shadow ban user:"),fe.forEach(u),O=k(K),l=r(K,"DIV",{class:!0});var q=f(l);g=r(q,"DIV",{});var M=f(g);U=r(M,"LABEL",{for:!0});var pe=f(U);R=z(pe,"User UUID:"),pe.forEach(u),B=r(M,"BR",{}),I=k(M),n=r(M,"INPUT",{id:!0,type:!0,size:!0,placeholder:!0}),M.forEach(u),T=k(q),E=r(q,"DIV",{});var Y=f(E);b=r(Y,"INPUT",{id:!0,type:!0}),H=k(Y),V=r(Y,"LABEL",{for:!0});var ve=f(V);ee=z(ve,"Hide/Restore old submissions"),ve.forEach(u),Y.forEach(u),te=k(q),y=r(q,"DIV",{class:!0});var $=f(y);F=r($,"DIV",{});var be=f(F);se=z(be,"Categories to hide:"),be.forEach(u),ae=k($);for(let de=0;de<h.length;de+=1)h[de].l($);$.forEach(u),le=k(q),A=r(q,"DIV",{class:!0});var x=f(A);L=r(x,"BUTTON",{type:!0});var me=f(L);ne=z(me,"Unban"),me.forEach(u),oe=k(x),N=r(x,"BUTTON",{type:!0});var ge=f(N);ie=z(ge,"Ban"),ge.forEach(u),x.forEach(u),q.forEach(u),K.forEach(u),re=k(_),Le(C.$$.fragment,_),_.forEach(u),w.forEach(u),this.h()},h(){document.title="Shadowban | SponsorBlockControl",c(U,"for","uuid"),c(n,"id","uuid"),c(n,"type","text"),c(n,"size","64"),c(n,"placeholder","Users UUID..."),c(b,"id","hideoldsubmissions"),c(b,"type","checkbox"),c(V,"for","hideoldsubmissions"),c(y,"class","categories-to-hide svelte-135auq9"),y.hidden=j=!a[1],c(L,"type","button"),L.disabled=Q=!a[3],c(N,"type","button"),N.disabled=X=!a[3],c(A,"class","actions"),c(l,"class","form svelte-135auq9"),Ue(l,"working",a[4]===W.WORKING),c(d,"class","container")},m(s,D){ce(s,o,D),ce(s,t,D),e(t,d),e(d,p),e(p,m),e(m,v),e(p,O),e(p,l),e(l,g),e(g,U),e(U,R),e(g,B),e(g,I),e(g,n),Ie(n,a[0]),e(l,T),e(l,E),e(E,b),b.checked=a[1],e(E,H),e(E,V),e(V,ee),e(l,te),e(l,y),e(y,F),e(F,se),e(y,ae);for(let w=0;w<h.length;w+=1)h[w].m(y,null);e(l,le),e(l,A),e(A,L),e(L,ne),e(A,oe),e(A,N),e(N,ie),e(d,re),Ne(C,d,null),G=!0,ue||(he=[Z(n,"input",a[6]),Z(b,"change",a[7]),Z(L,"click",a[10]),Z(N,"click",a[11])],ue=!0)},p(s,[D]){if(D&1&&n.value!==s[0]&&Ie(n,s[0]),D&2&&(b.checked=s[1]),D&4){J=_e;let _;for(_=0;_<J.length;_+=1){const K=Ee(s,J,_);h[_]?h[_].p(K,D):(h[_]=De(K),h[_].c(),h[_].m(y,null))}for(;_<h.length;_+=1)h[_].d(1);h.length=J.length}(!G||D&2&&j!==(j=!s[1]))&&(y.hidden=j),(!G||D&8&&Q!==(Q=!s[3]))&&(L.disabled=Q),(!G||D&8&&X!==(X=!s[3]))&&(N.disabled=X),D&16&&Ue(l,"working",s[4]===W.WORKING);const w={};D&16&&(w.status=s[4]),C.$set(w)},i(s){G||(we(C.$$.fragment,s),G=!0)},o(s){Be(C.$$.fragment,s),G=!1},d(s){s&&u(o),s&&u(t),Te(h,s),Ve(C),ue=!1,Ae(he)}}}function We(a,o,t){let d;Ce(a,Ge,E=>t(12,d=E));let p="",m=!0,v=[..._e],O=!1,l=W.IDLE;async function g(E="ban"){t(4,l=W.WORKING);const b=new URLSearchParams;b.set("adminUserID",d.privateUUID),b.set("userID",p),b.set("enabled",(E==="ban").toString()),b.set("unHideOldSubmissions",m.toString()),b.set("categories",JSON.stringify(v));const H=await fetch(`${d.sponsorBlockApi}/api/shadowBanUser?${b}`,{method:"post"}).then(function(V){return V.status});H===200&&t(4,l=W.SUCCESS),H===400&&t(4,l=W.ERROR_INVALID),H===403&&t(4,l=W.ERROR_UNAUTHORIZED)}const U=[[]];function R(){p=this.value,t(0,p)}function B(){m=this.checked,t(1,m)}function I(){v=qe(U[0],this.__value,this.checked),t(2,v)}const n=E=>{g("unban")},T=E=>{g("ban")};return a.$$.update=()=>{a.$$.dirty&1&&t(3,O=Ke(p))},[p,m,v,O,l,g,R,B,I,U,n,T]}class Ye extends Se{constructor(o){super(),ke(this,o,We,ze,ye,{})}}export{Ye as default};
