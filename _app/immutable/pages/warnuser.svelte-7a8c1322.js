import{S as ce,i as _e,s as fe,k as T,e as n,t as V,w as pe,R as he,d as o,m as y,c as l,a as _,h as G,x as me,b as i,I as ue,g as de,H as e,ab as M,y as be,J as q,q as ve,o as Ue,B as Ee,W as Ie,L as De}from"../chunks/index-dfbae117.js";import{C as Re}from"../chunks/config-fe9b9627.js";import{a as ge}from"../chunks/utils-fa7e4892.js";import{S as we,a as S}from"../chunks/Status-73b605ec.js";import"../chunks/index-9cf52d15.js";import"../chunks/userInfo-8e2fd6d8.js";function Te(u){let W,s,f,d,v,U,h,r,m,D,N,z,K,a,L,c,R,X,Z,Q,p,Y,g,E,x,H,$,I,ee,J,te,w,k,se,ae;return w=new we({props:{status:u[3]}}),{c(){W=T(),s=n("main"),f=n("div"),d=n("fieldset"),v=n("legend"),U=V("Warn user:"),h=T(),r=n("div"),m=n("div"),D=n("label"),N=V("User UUID:"),z=n("br"),K=T(),a=n("input"),L=T(),c=n("div"),R=n("label"),X=V("Warn Reason:"),Z=n("br"),Q=T(),p=n("textarea"),Y=T(),g=n("div"),E=n("button"),x=V("Unwarn"),$=T(),I=n("button"),ee=V("Warn"),te=T(),pe(w.$$.fragment),this.h()},l(t){he('[data-svelte="svelte-1exmmzl"]',document.head).forEach(o),W=y(t),s=l(t,"MAIN",{});var B=_(s);f=l(B,"DIV",{class:!0});var P=_(f);d=l(P,"FIELDSET",{});var j=_(d);v=l(j,"LEGEND",{});var re=_(v);U=G(re,"Warn user:"),re.forEach(o),h=y(j),r=l(j,"DIV",{class:!0});var A=_(r);m=l(A,"DIV",{});var C=_(m);D=l(C,"LABEL",{for:!0});var ne=_(D);N=G(ne,"User UUID:"),ne.forEach(o),z=l(C,"BR",{}),K=y(C),a=l(C,"INPUT",{id:!0,type:!0,size:!0,placeholder:!0}),C.forEach(o),L=y(A),c=l(A,"DIV",{});var O=_(c);R=l(O,"LABEL",{for:!0});var oe=_(R);X=G(oe,"Warn Reason:"),oe.forEach(o),Z=l(O,"BR",{}),Q=y(O),p=l(O,"TEXTAREA",{id:!0,cols:!0,rows:!0,placeholder:!0}),_(p).forEach(o),O.forEach(o),Y=y(A),g=l(A,"DIV",{class:!0});var F=_(g);E=l(F,"BUTTON",{type:!0});var le=_(E);x=G(le,"Unwarn"),le.forEach(o),$=y(F),I=l(F,"BUTTON",{type:!0});var ie=_(I);ee=G(ie,"Warn"),ie.forEach(o),F.forEach(o),A.forEach(o),j.forEach(o),te=y(P),me(w.$$.fragment,P),P.forEach(o),B.forEach(o),this.h()},h(){document.title="Warn user | SponsorBlockControl",i(D,"for","uuid"),i(a,"id","uuid"),i(a,"type","text"),i(a,"size","64"),i(a,"placeholder","User UUID..."),i(R,"for","reason"),i(p,"id","reason"),i(p,"cols","80"),i(p,"rows","3"),i(p,"placeholder","Reason..."),i(E,"type","button"),E.disabled=H=!u[1],i(I,"type","button"),I.disabled=J=!u[1],i(g,"class","actions"),i(r,"class","form svelte-fndrlu"),ue(r,"working",u[3]===S.WORKING),i(f,"class","container")},m(t,b){de(t,W,b),de(t,s,b),e(s,f),e(f,d),e(d,v),e(v,U),e(d,h),e(d,r),e(r,m),e(m,D),e(D,N),e(m,z),e(m,K),e(m,a),M(a,u[0]),e(r,L),e(r,c),e(c,R),e(R,X),e(c,Z),e(c,Q),e(c,p),M(p,u[2]),e(r,Y),e(r,g),e(g,E),e(E,x),e(g,$),e(g,I),e(I,ee),e(f,te),be(w,f,null),k=!0,se||(ae=[q(a,"input",u[5]),q(a,"input",u[6]),q(p,"input",u[7]),q(E,"click",u[8]),q(I,"click",u[9])],se=!0)},p(t,[b]){b&1&&a.value!==t[0]&&M(a,t[0]),b&4&&M(p,t[2]),(!k||b&2&&H!==(H=!t[1]))&&(E.disabled=H),(!k||b&2&&J!==(J=!t[1]))&&(I.disabled=J),b&8&&ue(r,"working",t[3]===S.WORKING);const B={};b&8&&(B.status=t[3]),w.$set(B)},i(t){k||(ve(w.$$.fragment,t),k=!0)},o(t){Ue(w.$$.fragment,t),k=!1},d(t){t&&o(W),t&&o(s),Ee(w),se=!1,Ie(ae)}}}function ye(u,W,s){let f;De(u,Re,a=>s(10,f=a));let d="",v=!1,U="",h=S.IDLE;async function r(a="warn"){s(3,h=S.WORKING);const L={issuerUserID:f.privateUUID,userID:d,reason:U,enabled:a==="warn"},c=await fetch(`${f.sponsorBlockApi}/api/warnUser`,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)}).then(function(R){return R.status});c===200&&(s(3,h=S.SUCCESS),s(0,d=""),s(1,v=!1),s(2,U="")),c===400&&s(3,h=S.ERROR_INVALID),c===403&&s(3,h=S.ERROR_UNAUTHORIZED),c===409&&s(3,h=S.DUPLICATE)}function m(){d=this.value,s(0,d)}const D=a=>{s(1,v=ge(d))};function N(){U=this.value,s(2,U)}return[d,v,U,h,r,m,D,N,a=>{r("unwarn")},a=>{r("warn")}]}class Be extends ce{constructor(W){super(),_e(this,W,ye,Te,fe,{})}}export{Be as default};
