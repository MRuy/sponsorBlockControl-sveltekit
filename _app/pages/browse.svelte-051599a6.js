import{S as rt,i as ot,s as it,e as f,t as S,c as d,a as _,h as $,d as u,b as h,I as xe,g as Y,G as l,j as be,H as We,J as Oe,P as Zt,ab as Vt,T as xt,U as es,V as ts,q as G,o as Q,C as Ht,aa as Pt,ac as ss,D as ls,w as _e,k as E,x as me,m as k,y as ge,ad as Je,n as Mt,p as Rt,B as pe,W as Ot,L as jt,f as as,l as pt,K as qt,ae as ns,a4 as rs,a5 as os,R as is,a0 as us,a2 as zt,a9 as cs,a6 as fs,v as ds,a3 as hs}from"../chunks/vendor-029251f6.js";import{C as _s}from"../chunks/config-b3d4a71f.js";import{a as ms,S as ht}from"../chunks/Status-95729226.js";/* empty css                                                          */import{g as gs}from"../chunks/navigation-b10cf5bf.js";import{V as ps}from"../chunks/VideoInput-269e9c3d.js";import"../chunks/singletons-4a680913.js";function vs(s){let e,t,a,n,i,r=s[1].toString().padStart(2,"0")+"",c,o,g,w=s[2].toString().padStart(2,"0")+"",H,re,N,T;return{c(){e=f("span"),t=f("span"),a=S(s[0]),n=S(":"),i=f("span"),c=S(r),o=S(":"),g=f("span"),H=S(w),re=S("."),N=f("span"),T=S(s[3]),this.h()},l(I){e=d(I,"SPAN",{class:!0});var D=_(e);t=d(D,"SPAN",{class:!0});var M=_(t);a=$(M,s[0]),n=$(M,":"),M.forEach(u),i=d(D,"SPAN",{class:!0});var A=_(i);c=$(A,r),o=$(A,":"),A.forEach(u),g=d(D,"SPAN",{class:!0});var L=_(g);H=$(L,w),re=$(L,"."),L.forEach(u),N=d(D,"SPAN",{class:!0});var U=_(N);T=$(U,s[3]),U.forEach(u),D.forEach(u),this.h()},h(){h(t,"class","svelte-58feot"),xe(t,"inactive",s[0]===0),h(i,"class","svelte-58feot"),xe(i,"inactive",s[1]===0),h(g,"class",""),h(N,"class","milliseconds svelte-58feot"),h(e,"class","time svelte-58feot")},m(I,D){Y(I,e,D),l(e,t),l(t,a),l(t,n),l(e,i),l(i,c),l(i,o),l(e,g),l(g,H),l(g,re),l(e,N),l(N,T)},p(I,[D]){D&1&&be(a,I[0]),D&1&&xe(t,"inactive",I[0]===0),D&2&&r!==(r=I[1].toString().padStart(2,"0")+"")&&be(c,r),D&2&&xe(i,"inactive",I[1]===0),D&4&&w!==(w=I[2].toString().padStart(2,"0")+"")&&be(H,w),D&8&&be(T,I[3])},i:We,o:We,d(I){I&&u(e)}}}let kt=3;function bs(s,e,t){let{value:a=0}=e,n=0,i=0,r=0,c="0";return s.$$set=o=>{"value"in o&&t(4,a=o.value)},s.$$.update=()=>{if(s.$$.dirty&16){let o=Number(a),g=o.toString();t(3,c="0".repeat(kt)),g.includes(".")&&t(3,c=g.split(".")[1].padEnd(kt,"0").slice(0,kt)),o=Math.floor(a),t(0,n=Math.floor(o/3600)),t(1,i=Math.floor(o/60%60)),t(2,r=Math.floor(o%60))}},[n,i,r,c,a]}class Dt extends rt{constructor(e){super();ot(this,e,bs,vs,it,{value:4})}}function Ft(s){let e,t;return{c(){e=f("div"),t=S("Copied!"),this.h()},l(a){e=d(a,"DIV",{class:!0});var n=_(e);t=$(n,"Copied!"),n.forEach(u),this.h()},h(){h(e,"class","success svelte-1f7dggz")},m(a,n){Y(a,e,n),l(e,t)},d(a){a&&u(e)}}}function Ss(s){let e,t,a,n,i=s[1]&&Ft();return{c(){e=f("button"),i&&i.c(),t=S(`
  \u2702`),this.h()},l(r){e=d(r,"BUTTON",{title:!0,class:!0});var c=_(e);i&&i.l(c),t=$(c,`
  \u2702`),c.forEach(u),this.h()},h(){h(e,"title",s[0]),h(e,"class","svelte-1f7dggz")},m(r,c){Y(r,e,c),i&&i.m(e,null),l(e,t),a||(n=Oe(e,"click",s[4]),a=!0)},p(r,[c]){r[1]?i||(i=Ft(),i.c(),i.m(e,t)):i&&(i.d(1),i=null),c&1&&h(e,"title",r[0])},i:We,o:We,d(r){r&&u(e),i&&i.d(),a=!1,n()}}}function $s(s,e,t){let{value:a=""}=e,{title:n="Copy to clipboard"}=e,i=!1;function r(){navigator.clipboard.writeText(a).then(()=>{console.log("Copied to clipboard"),t(1,i=!0),setTimeout(o=>{t(1,i=!1)},2e3)},o=>{console.log("Failed to copy into clipboard",o)})}const c=o=>r();return s.$$set=o=>{"value"in o&&t(3,a=o.value),"title"in o&&t(0,n=o.title)},[n,i,r,a,c]}class Yt extends rt{constructor(e){super();ot(this,e,$s,Ss,it,{value:3,title:0})}}function Ts(s){let e,t,a,n,i,r;const c=s[5].default,o=Zt(c,s,s[4],null);return{c(){e=f("span"),o&&o.c(),this.h()},l(g){e=d(g,"SPAN",{class:!0,title:!0});var w=_(e);o&&o.l(w),w.forEach(u),this.h()},h(){h(e,"class",t=""+(Vt(`header ${s[3].class}`)+" svelte-1s8upei")),h(e,"title",a=`Sort by ${s[0]}`),xe(e,"active",s[2]===s[0]),xe(e,"sort--asc",s[1]==="ASC")},m(g,w){Y(g,e,w),o&&o.m(e,null),n=!0,i||(r=Oe(e,"click",s[6]),i=!0)},p(g,[w]){o&&o.p&&(!n||w&16)&&xt(o,c,g,g[4],n?ts(c,g[4],w,null):es(g[4]),null),(!n||w&8&&t!==(t=""+(Vt(`header ${g[3].class}`)+" svelte-1s8upei")))&&h(e,"class",t),(!n||w&1&&a!==(a=`Sort by ${g[0]}`))&&h(e,"title",a),w&13&&xe(e,"active",g[2]===g[0]),w&10&&xe(e,"sort--asc",g[1]==="ASC")},i(g){n||(G(o,g),n=!0)},o(g){Q(o,g),n=!1},d(g){g&&u(e),o&&o.d(g),i=!1,r()}}}function Es(s,e,t){let{$$slots:a={},$$scope:n}=e,{name:i}=e,{sorting:r="DESC"}=e,{current:c=""}=e;function o(g){ss.call(this,s,g)}return s.$$set=g=>{t(3,e=Ht(Ht({},e),Pt(g))),"name"in g&&t(0,i=g.name),"sorting"in g&&t(1,r=g.sorting),"current"in g&&t(2,c=g.current),"$$scope"in g&&t(4,n=g.$$scope)},e=Pt(e),[i,r,c,e,n,a,o]}class Qe extends rt{constructor(e){super();ot(this,e,Es,Ts,it,{name:0,sorting:1,current:2})}}const ks=ls([{id:"sponsor",color:"#00d400"},{id:"intro",color:"#00ffff"},{id:"outro",color:"#0202ed"},{id:"interaction",color:"#cc00ff"},{id:"selfpromo",color:"#ffff00"},{id:"music_offtopic",color:"#ff9900"},{id:"preview",color:"#0b9d65"},{id:"poi_highlight",color:"#ff1684"},{id:"filler",color:"#7300ff"}]);function Gt(s,e,t){const a=s.slice();return a[11]=e[t],a}function Ds(s){let e;return{c(){e=S("Submitted")},l(t){e=$(t,"Submitted")},m(t,a){Y(t,e,a)},d(t){t&&u(e)}}}function ws(s){let e;return{c(){e=S("Start/End")},l(t){e=$(t,"Start/End")},m(t,a){Y(t,e,a)},d(t){t&&u(e)}}}function Is(s){let e;return{c(){e=S("Votes")},l(t){e=$(t,"Votes")},m(t,a){Y(t,e,a)},d(t){t&&u(e)}}}function ys(s){let e;return{c(){e=S("Views")},l(t){e=$(t,"Views")},m(t,a){Y(t,e,a)},d(t){t&&u(e)}}}function Cs(s){let e;return{c(){e=S("Category")},l(t){e=$(t,"Category")},m(t,a){Y(t,e,a)},d(t){t&&u(e)}}}function As(s){let e;return{c(){e=S("Hidden")},l(t){e=$(t,"Hidden")},m(t,a){Y(t,e,a)},d(t){t&&u(e)}}}function Bs(s){let e;return{c(){e=S("Actiontype")},l(t){e=$(t,"Actiontype")},m(t,a){Y(t,e,a)},d(t){t&&u(e)}}}function Ls(s){let e;return{c(){e=S("ShadowHidden")},l(t){e=$(t,"ShadowHidden")},m(t,a){Y(t,e,a)},d(t){t&&u(e)}}}function Us(s){let e;return{c(){e=S("Locked")},l(t){e=$(t,"Locked")},m(t,a){Y(t,e,a)},d(t){t&&u(e)}}}function Ns(s){let e,t,a=s[2],n=[];for(let r=0;r<a.length;r+=1)n[r]=Wt(Gt(s,a,r));const i=r=>Q(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=pt()},l(r){for(let c=0;c<n.length;c+=1)n[c].l(r);e=pt()},m(r,c){for(let o=0;o<n.length;o+=1)n[o].m(r,c);Y(r,e,c),t=!0},p(r,c){if(c&116){a=r[2];let o;for(o=0;o<a.length;o+=1){const g=Gt(r,a,o);n[o]?(n[o].p(g,c),G(n[o],1)):(n[o]=Wt(g),n[o].c(),G(n[o],1),n[o].m(e.parentNode,e))}for(Mt(),o=a.length;o<n.length;o+=1)i(o);Rt()}},i(r){if(!t){for(let c=0;c<a.length;c+=1)G(n[c]);t=!0}},o(r){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)Q(n[c]);t=!1},d(r){qt(n,r),r&&u(e)}}}function Vs(s){let e,t,a,n;return{c(){e=f("tr"),t=f("td"),a=f("div"),n=S("Loading data..."),this.h()},l(i){e=d(i,"TR",{});var r=_(e);t=d(r,"TD",{colspan:!0,class:!0});var c=_(t);a=d(c,"DIV",{class:!0});var o=_(a);n=$(o,"Loading data..."),o.forEach(u),c.forEach(u),r.forEach(u),this.h()},h(){h(a,"class","loading svelte-19x84r4"),h(t,"colspan","12"),h(t,"class","svelte-19x84r4")},m(i,r){Y(i,e,r),l(e,t),l(t,a),l(a,n)},p:We,i:We,o:We,d(i){i&&u(e)}}}function Kt(s){let e,t;return{c(){e=f("span"),t=S("\u274C"),this.h()},l(a){e=d(a,"SPAN",{class:!0,title:!0});var n=_(e);t=$(n,"\u274C"),n.forEach(u),this.h()},h(){h(e,"class","removed svelte-19x84r4"),h(e,"title","Segment removed")},m(a,n){Y(a,e,n),l(e,t)},d(a){a&&u(e)}}}function Hs(s){let e;return{c(){e=S("\u2014")},l(t){e=$(t,"\u2014")},m(t,a){Y(t,e,a)},d(t){t&&u(e)}}}function Ps(s){let e,t;return{c(){e=f("span"),t=S("\u{1F512}"),this.h()},l(a){e=d(a,"SPAN",{class:!0,title:!0});var n=_(e);t=$(n,"\u{1F512}"),n.forEach(u),this.h()},h(){h(e,"class","locked svelte-19x84r4"),h(e,"title","Locked by VIP/Moderator")},m(a,n){Y(a,e,n),l(e,t)},d(a){a&&u(e)}}}function Wt(s){let e,t,a=Jt(s[11].timeSubmitted)+"",n,i,r,c,o,g,w,H,re,N,T,I,D,M,A=s[11].votes+"",L,U,Se,le=s[11].views+"",z,ye,te,K,X=s[11].category+"",Z,F,Ce,V,B=(s[11].hidden||"\u2014")+"",oe,ie,ce,R,se=(s[11].actionType in s[4]?s[4][s[11].actionType]:s[11].actionType)+"",Ne,Ve,fe,W,x=(s[11].shadowHidden||"\u2014")+"",de,He,De,ae,O,Ae,m=s[11].UUID+"",v,Te,y,ne,j,J,ue,ve=s[11].userID+"",he,$e,we,Ee,je,P;o=new Dt({props:{value:s[11].startTime}}),w=new Dt({props:{value:s[11].endTime}}),T=new Dt({props:{value:s[11].endTime-s[11].startTime}});let ee=s[11].votes<-1&&Kt();function Fe(p,b){return p[11].locked?Ps:Hs}let Ie=Fe(s),Be=Ie(s);return ne=new Yt({props:{value:s[11].UUID}}),Ee=new Yt({props:{value:s[11].userID}}),{c(){e=f("tr"),t=f("td"),n=S(a),i=E(),r=f("td"),c=f("a"),_e(o.$$.fragment),g=f("br"),_e(w.$$.fragment),re=E(),N=f("td"),_e(T.$$.fragment),I=E(),D=f("td"),ee&&ee.c(),M=E(),L=S(A),U=E(),Se=f("td"),z=S(le),ye=E(),te=f("td"),K=f("span"),Z=S(X),Ce=E(),V=f("td"),oe=S(B),ie=E(),ce=f("td"),R=f("span"),Ne=S(se),fe=E(),W=f("td"),de=S(x),He=E(),De=f("td"),Be.c(),ae=E(),O=f("td"),Ae=f("span"),v=S(m),Te=f("br"),y=E(),_e(ne.$$.fragment),j=E(),J=f("td"),ue=f("span"),he=S(ve),$e=f("br"),we=E(),_e(Ee.$$.fragment),je=E(),this.h()},l(p){e=d(p,"TR",{});var b=_(e);t=d(b,"TD",{class:!0});var Ye=_(t);n=$(Ye,a),Ye.forEach(u),i=k(b),r=d(b,"TD",{class:!0});var Pe=_(r);c=d(Pe,"A",{href:!0,class:!0});var ke=_(c);me(o.$$.fragment,ke),g=d(ke,"BR",{}),me(w.$$.fragment,ke),ke.forEach(u),Pe.forEach(u),re=k(b),N=d(b,"TD",{class:!0});var Ge=_(N);me(T.$$.fragment,Ge),Ge.forEach(u),I=k(b),D=d(b,"TD",{class:!0});var Le=_(D);ee&&ee.l(Le),M=k(Le),L=$(Le,A),Le.forEach(u),U=k(b),Se=d(b,"TD",{class:!0});var et=_(Se);z=$(et,le),et.forEach(u),ye=k(b),te=d(b,"TD",{class:!0});var tt=_(te);K=d(tt,"SPAN",{class:!0,style:!0});var st=_(K);Z=$(st,X),st.forEach(u),tt.forEach(u),Ce=k(b),V=d(b,"TD",{class:!0});var Me=_(V);oe=$(Me,B),Me.forEach(u),ie=k(b),ce=d(b,"TD",{class:!0});var Ue=_(ce);R=d(Ue,"SPAN",{style:!0,title:!0});var lt=_(R);Ne=$(lt,se),lt.forEach(u),Ue.forEach(u),fe=k(b),W=d(b,"TD",{class:!0});var ut=_(W);de=$(ut,x),ut.forEach(u),He=k(b),De=d(b,"TD",{class:!0});var _t=_(De);Be.l(_t),_t.forEach(u),ae=k(b),O=d(b,"TD",{class:!0});var Xe=_(O);Ae=d(Xe,"SPAN",{class:!0});var C=_(Ae);v=$(C,m),C.forEach(u),Te=d(Xe,"BR",{}),y=k(Xe),me(ne.$$.fragment,Xe),Xe.forEach(u),j=k(b),J=d(b,"TD",{class:!0});var q=_(J);ue=d(q,"SPAN",{class:!0});var Ze=_(ue);he=$(Ze,ve),Ze.forEach(u),$e=d(q,"BR",{}),we=k(q),me(Ee.$$.fragment,q),q.forEach(u),je=k(b),b.forEach(u),this.h()},h(){h(t,"class","cell-text svelte-19x84r4"),h(c,"href",H=`https://www.youtube.com/watch?v=${s[11].videoID}${s[11].startTime>2?`&t=${Math.floor(Math.max(0,s[11].startTime-2))}s`:""}#requiredSegment=${s[11].UUID}`),h(c,"class","svelte-19x84r4"),h(r,"class","cell-number svelte-19x84r4"),h(N,"class","cell-number svelte-19x84r4"),h(D,"class","cell-number nowrap svelte-19x84r4"),h(Se,"class","cell-number svelte-19x84r4"),h(K,"class","category svelte-19x84r4"),h(K,"style",F=`background-color:${s[6](s[11].category)}`),h(te,"class","cell-text svelte-19x84r4"),h(V,"class","cell-text svelte-19x84r4"),as(R,"cursor","help"),h(R,"title",Ve=s[11].actionType in s[5]?s[5][s[11].actionType]:s[11].actionType),h(ce,"class","cell-text svelte-19x84r4"),h(W,"class","cell-text svelte-19x84r4"),h(De,"class","cell-text svelte-19x84r4"),h(Ae,"class","wordbreak wordbreak--uuid svelte-19x84r4"),h(O,"class","cell-text svelte-19x84r4"),h(ue,"class","wordbreak wordbreak--uuid svelte-19x84r4"),h(J,"class","cell-text svelte-19x84r4")},m(p,b){Y(p,e,b),l(e,t),l(t,n),l(e,i),l(e,r),l(r,c),ge(o,c,null),l(c,g),ge(w,c,null),l(e,re),l(e,N),ge(T,N,null),l(e,I),l(e,D),ee&&ee.m(D,null),l(D,M),l(D,L),l(e,U),l(e,Se),l(Se,z),l(e,ye),l(e,te),l(te,K),l(K,Z),l(e,Ce),l(e,V),l(V,oe),l(e,ie),l(e,ce),l(ce,R),l(R,Ne),l(e,fe),l(e,W),l(W,de),l(e,He),l(e,De),Be.m(De,null),l(e,ae),l(e,O),l(O,Ae),l(Ae,v),l(O,Te),l(O,y),ge(ne,O,null),l(e,j),l(e,J),l(J,ue),l(ue,he),l(J,$e),l(J,we),ge(Ee,J,null),l(e,je),P=!0},p(p,b){(!P||b&4)&&a!==(a=Jt(p[11].timeSubmitted)+"")&&be(n,a);const Ye={};b&4&&(Ye.value=p[11].startTime),o.$set(Ye);const Pe={};b&4&&(Pe.value=p[11].endTime),w.$set(Pe),(!P||b&4&&H!==(H=`https://www.youtube.com/watch?v=${p[11].videoID}${p[11].startTime>2?`&t=${Math.floor(Math.max(0,p[11].startTime-2))}s`:""}#requiredSegment=${p[11].UUID}`))&&h(c,"href",H);const ke={};b&4&&(ke.value=p[11].endTime-p[11].startTime),T.$set(ke),p[11].votes<-1?ee||(ee=Kt(),ee.c(),ee.m(D,M)):ee&&(ee.d(1),ee=null),(!P||b&4)&&A!==(A=p[11].votes+"")&&be(L,A),(!P||b&4)&&le!==(le=p[11].views+"")&&be(z,le),(!P||b&4)&&X!==(X=p[11].category+"")&&be(Z,X),(!P||b&4&&F!==(F=`background-color:${p[6](p[11].category)}`))&&h(K,"style",F),(!P||b&4)&&B!==(B=(p[11].hidden||"\u2014")+"")&&be(oe,B),(!P||b&4)&&se!==(se=(p[11].actionType in p[4]?p[4][p[11].actionType]:p[11].actionType)+"")&&be(Ne,se),(!P||b&4&&Ve!==(Ve=p[11].actionType in p[5]?p[5][p[11].actionType]:p[11].actionType))&&h(R,"title",Ve),(!P||b&4)&&x!==(x=(p[11].shadowHidden||"\u2014")+"")&&be(de,x),Ie!==(Ie=Fe(p))&&(Be.d(1),Be=Ie(p),Be&&(Be.c(),Be.m(De,null))),(!P||b&4)&&m!==(m=p[11].UUID+"")&&be(v,m);const Ge={};b&4&&(Ge.value=p[11].UUID),ne.$set(Ge),(!P||b&4)&&ve!==(ve=p[11].userID+"")&&be(he,ve);const Le={};b&4&&(Le.value=p[11].userID),Ee.$set(Le)},i(p){P||(G(o.$$.fragment,p),G(w.$$.fragment,p),G(T.$$.fragment,p),G(ne.$$.fragment,p),G(Ee.$$.fragment,p),P=!0)},o(p){Q(o.$$.fragment,p),Q(w.$$.fragment,p),Q(T.$$.fragment,p),Q(ne.$$.fragment,p),Q(Ee.$$.fragment,p),P=!1},d(p){p&&u(e),pe(o),pe(w),pe(T),ee&&ee.d(),Be.d(),pe(ne),pe(Ee)}}}function Ms(s){let e,t,a,n,i,r,c,o,g,w,H,re,N,T,I,D,M,A,L,U,Se,le,z,ye,te,K,X,Z,F,Ce,V,B,oe,ie,ce,R,se,Ne,Ve,fe,W,x,de,He,De;i=new Qe({props:{sortBy:"timeSubmitted",name:"timeSubmitted",sorting:s[0],current:s[3],$$slots:{default:[Ds]},$$scope:{ctx:s}}}),o=new Qe({props:{name:"startTime",sorting:s[0],current:s[3],$$slots:{default:[ws]},$$scope:{ctx:s}}}),T=new Qe({props:{name:"votes",sorting:s[0],current:s[3],$$slots:{default:[Is]},$$scope:{ctx:s}}}),M=new Qe({props:{name:"views",sorting:s[0],current:s[3],$$slots:{default:[ys]},$$scope:{ctx:s}}}),U=new Qe({props:{name:"category",sorting:s[0],current:s[3],$$slots:{default:[Cs]},$$scope:{ctx:s}}}),z=new Qe({props:{name:"hidden",sorting:s[0],current:s[3],$$slots:{default:[As]},$$scope:{ctx:s}}}),K=new Qe({props:{name:"hidden",sorting:s[0],current:s[3],$$slots:{default:[Bs]},$$scope:{ctx:s}}}),F=new Qe({props:{name:"shadowHidden",sorting:s[0],current:s[3],$$slots:{default:[Ls]},$$scope:{ctx:s}}}),B=new Qe({props:{name:"locked",sorting:s[0],current:s[3],$$slots:{default:[Us]},$$scope:{ctx:s}}});const ae=[Vs,Ns],O=[];function Ae(m,v){return m[1]?0:1}return W=Ae(s),x=O[W]=ae[W](s),{c(){e=f("table"),t=f("thead"),a=f("tr"),n=f("th"),_e(i.$$.fragment),r=E(),c=f("th"),_e(o.$$.fragment),g=E(),w=f("th"),H=S("Length"),re=E(),N=f("th"),_e(T.$$.fragment),I=E(),D=f("th"),_e(M.$$.fragment),A=E(),L=f("th"),_e(U.$$.fragment),Se=E(),le=f("th"),_e(z.$$.fragment),ye=E(),te=f("th"),_e(K.$$.fragment),X=E(),Z=f("th"),_e(F.$$.fragment),Ce=E(),V=f("th"),_e(B.$$.fragment),oe=E(),ie=f("th"),ce=S("UUID"),R=E(),se=f("th"),Ne=S("Submitter UUID"),Ve=E(),fe=f("tbody"),x.c(),this.h()},l(m){e=d(m,"TABLE",{class:!0});var v=_(e);t=d(v,"THEAD",{class:!0});var Te=_(t);a=d(Te,"TR",{});var y=_(a);n=d(y,"TH",{class:!0,"data-sortby":!0});var ne=_(n);me(i.$$.fragment,ne),ne.forEach(u),r=k(y),c=d(y,"TH",{class:!0,"data-sortby":!0});var j=_(c);me(o.$$.fragment,j),j.forEach(u),g=k(y),w=d(y,"TH",{class:!0});var J=_(w);H=$(J,"Length"),J.forEach(u),re=k(y),N=d(y,"TH",{class:!0,"data-sortby":!0});var ue=_(N);me(T.$$.fragment,ue),ue.forEach(u),I=k(y),D=d(y,"TH",{class:!0,"data-sortby":!0});var ve=_(D);me(M.$$.fragment,ve),ve.forEach(u),A=k(y),L=d(y,"TH",{class:!0,"data-sortby":!0});var he=_(L);me(U.$$.fragment,he),he.forEach(u),Se=k(y),le=d(y,"TH",{class:!0,"data-sortby":!0});var $e=_(le);me(z.$$.fragment,$e),$e.forEach(u),ye=k(y),te=d(y,"TH",{class:!0,"data-sortby":!0});var we=_(te);me(K.$$.fragment,we),we.forEach(u),X=k(y),Z=d(y,"TH",{class:!0,"data-sortby":!0});var Ee=_(Z);me(F.$$.fragment,Ee),Ee.forEach(u),Ce=k(y),V=d(y,"TH",{class:!0,"data-sortby":!0});var je=_(V);me(B.$$.fragment,je),je.forEach(u),oe=k(y),ie=d(y,"TH",{class:!0});var P=_(ie);ce=$(P,"UUID"),P.forEach(u),R=k(y),se=d(y,"TH",{class:!0});var ee=_(se);Ne=$(ee,"Submitter UUID"),ee.forEach(u),y.forEach(u),Te.forEach(u),Ve=k(v),fe=d(v,"TBODY",{});var Fe=_(fe);x.l(Fe),Fe.forEach(u),v.forEach(u),this.h()},h(){h(n,"class","cell-text svelte-19x84r4"),h(n,"data-sortby","timeSubmitted"),h(c,"class","cell-number svelte-19x84r4"),h(c,"data-sortby","startTime"),h(w,"class","cell-number svelte-19x84r4"),h(N,"class","cell-number svelte-19x84r4"),h(N,"data-sortby","votes"),h(D,"class","cell-number svelte-19x84r4"),h(D,"data-sortby","views"),h(L,"class","cell-text svelte-19x84r4"),h(L,"data-sortby","category"),h(le,"class","cell-number svelte-19x84r4"),h(le,"data-sortby","hidden"),h(te,"class","cell-text svelte-19x84r4"),h(te,"data-sortby","actiontype"),h(Z,"class","cell-number svelte-19x84r4"),h(Z,"data-sortby","shadowHidden"),h(V,"class","cell-number svelte-19x84r4"),h(V,"data-sortby","locked"),h(ie,"class","cell-text svelte-19x84r4"),h(se,"class","cell-text svelte-19x84r4"),h(t,"class","svelte-19x84r4"),h(e,"class","svelte-19x84r4")},m(m,v){Y(m,e,v),l(e,t),l(t,a),l(a,n),ge(i,n,null),l(a,r),l(a,c),ge(o,c,null),l(a,g),l(a,w),l(w,H),l(a,re),l(a,N),ge(T,N,null),l(a,I),l(a,D),ge(M,D,null),l(a,A),l(a,L),ge(U,L,null),l(a,Se),l(a,le),ge(z,le,null),l(a,ye),l(a,te),ge(K,te,null),l(a,X),l(a,Z),ge(F,Z,null),l(a,Ce),l(a,V),ge(B,V,null),l(a,oe),l(a,ie),l(ie,ce),l(a,R),l(a,se),l(se,Ne),l(e,Ve),l(e,fe),O[W].m(fe,null),de=!0,He||(De=[Je(s[7].call(null,n)),Je(s[7].call(null,c)),Je(s[7].call(null,N)),Je(s[7].call(null,D)),Je(s[7].call(null,L)),Je(s[7].call(null,le)),Je(s[7].call(null,te)),Je(s[7].call(null,Z)),Je(s[7].call(null,V))],He=!0)},p(m,[v]){const Te={};v&1&&(Te.sorting=m[0]),v&8&&(Te.current=m[3]),v&16384&&(Te.$$scope={dirty:v,ctx:m}),i.$set(Te);const y={};v&1&&(y.sorting=m[0]),v&8&&(y.current=m[3]),v&16384&&(y.$$scope={dirty:v,ctx:m}),o.$set(y);const ne={};v&1&&(ne.sorting=m[0]),v&8&&(ne.current=m[3]),v&16384&&(ne.$$scope={dirty:v,ctx:m}),T.$set(ne);const j={};v&1&&(j.sorting=m[0]),v&8&&(j.current=m[3]),v&16384&&(j.$$scope={dirty:v,ctx:m}),M.$set(j);const J={};v&1&&(J.sorting=m[0]),v&8&&(J.current=m[3]),v&16384&&(J.$$scope={dirty:v,ctx:m}),U.$set(J);const ue={};v&1&&(ue.sorting=m[0]),v&8&&(ue.current=m[3]),v&16384&&(ue.$$scope={dirty:v,ctx:m}),z.$set(ue);const ve={};v&1&&(ve.sorting=m[0]),v&8&&(ve.current=m[3]),v&16384&&(ve.$$scope={dirty:v,ctx:m}),K.$set(ve);const he={};v&1&&(he.sorting=m[0]),v&8&&(he.current=m[3]),v&16384&&(he.$$scope={dirty:v,ctx:m}),F.$set(he);const $e={};v&1&&($e.sorting=m[0]),v&8&&($e.current=m[3]),v&16384&&($e.$$scope={dirty:v,ctx:m}),B.$set($e);let we=W;W=Ae(m),W===we?O[W].p(m,v):(Mt(),Q(O[we],1,1,()=>{O[we]=null}),Rt(),x=O[W],x?x.p(m,v):(x=O[W]=ae[W](m),x.c()),G(x,1),x.m(fe,null))},i(m){de||(G(i.$$.fragment,m),G(o.$$.fragment,m),G(T.$$.fragment,m),G(M.$$.fragment,m),G(U.$$.fragment,m),G(z.$$.fragment,m),G(K.$$.fragment,m),G(F.$$.fragment,m),G(B.$$.fragment,m),G(x),de=!0)},o(m){Q(i.$$.fragment,m),Q(o.$$.fragment,m),Q(T.$$.fragment,m),Q(M.$$.fragment,m),Q(U.$$.fragment,m),Q(z.$$.fragment,m),Q(K.$$.fragment,m),Q(F.$$.fragment,m),Q(B.$$.fragment,m),Q(x),de=!1},d(m){m&&u(e),pe(i),pe(o),pe(T),pe(M),pe(U),pe(z),pe(K),pe(F),pe(B),O[W].d(),He=!1,Ot(De)}}}const wt="ASC",vt="DESC";function Jt(s){const e=new Date(s);return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")} ${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}`}function Rs(s,e,t){let a;jt(s,ks,T=>t(10,a=T));let{segments:n=[]}=e,{isLoading:i=!1}=e,{sortDirection:r="DESC"}=e,{sortBy:c="timeSubmitted"}=e,o;const g={skip:"\u23ED\uFE0F",mute:"\u{1F507}",full:"\u{1F3F7}\uFE0F",poi:"\u{1F4CC}"},w={skip:"Skip",mute:"Muted",full:"Full",poi:"Highlight"};let H=c;r=r==="DESC"?vt:wt;function re(T){var I;return((I=a.find(D=>D.id===T))===null||I===void 0?void 0:I.color)||"transparent"}function N(T){const I=T.getAttribute("sortBy");T.addEventListener("click",D=>{H===I?t(0,r=r===vt?wt:vt):(t(0,r=vt),t(3,H=I)),t(2,o=[...n].sort((M,A)=>M[I]===A[I]?0:M[I]>A[I]?-1:1)),r===wt&&t(2,o=[...o].reverse())})}return s.$$set=T=>{"segments"in T&&t(8,n=T.segments),"isLoading"in T&&t(1,i=T.isLoading),"sortDirection"in T&&t(0,r=T.sortDirection),"sortBy"in T&&t(9,c=T.sortBy)},s.$$.update=()=>{s.$$.dirty&256&&t(2,o=[...n])},[r,i,o,H,g,w,re,N,n,c]}class Os extends rt{constructor(e){super();ot(this,e,Rs,Ms,it,{segments:8,isLoading:1,sortDirection:0,sortBy:9})}}function Qt(s,e,t){const a=s.slice();return a[7]=e[t],a[9]=t,a}function Xt(s){let e,t=s[9]+1+"",a,n,i,r;function c(){return s[3](s[9])}return{c(){e=f("button"),a=S(t),this.h()},l(o){e=d(o,"BUTTON",{});var g=_(e);a=$(g,t),g.forEach(u),this.h()},h(){e.disabled=n=s[0]===s[9]+1},m(o,g){Y(o,e,g),l(e,a),i||(r=Oe(e,"click",c),i=!0)},p(o,g){s=o,g&1&&n!==(n=s[0]===s[9]+1)&&(e.disabled=n)},d(o){o&&u(e),i=!1,r()}}}function js(s){let e,t=Array(s[1]),a=[];for(let n=0;n<t.length;n+=1)a[n]=Xt(Qt(s,t,n));return{c(){for(let n=0;n<a.length;n+=1)a[n].c();e=pt()},l(n){for(let i=0;i<a.length;i+=1)a[i].l(n);e=pt()},m(n,i){for(let r=0;r<a.length;r+=1)a[r].m(n,i);Y(n,e,i)},p(n,[i]){if(i&7){t=Array(n[1]);let r;for(r=0;r<t.length;r+=1){const c=Qt(n,t,r);a[r]?a[r].p(c,i):(a[r]=Xt(c),a[r].c(),a[r].m(e.parentNode,e))}for(;r<a.length;r+=1)a[r].d(1);a.length=t.length}},i:We,o:We,d(n){qt(a,n),n&&u(e)}}}function qs(s,e,t){let{current:a=1}=e,{last:n=1}=e;const i=ns();function r(o){i("click",{page:o})}const c=o=>r(o+1);return s.$$set=o=>{"current"in o&&t(0,a=o.current),"last"in o&&t(1,n=o.last)},s.$$.update=()=>{s.$$.dirty&3,s.$$.dirty&1},[a,n,r,c]}class zs extends rt{constructor(e){super();ot(this,e,qs,js,it,{current:0,last:1})}}function Fs(s){let e,t,a,n,i,r,c,o,g,w,H,re,N,T,I,D,M,A,L,U,Se,le,z,ye,te,K,X,Z,F,Ce,V,B,oe,ie,ce,R,se,Ne,Ve,fe,W,x,de,He,De,ae,O,Ae,m=s[2].segmentCount+"",v,Te,y,ne,j,J=s[0]+1+"",ue,ve,he=Math.ceil(s[2].segmentCount/bt)+"",$e,we,Ee,je,P,ee,Fe,Ie,Be,p,b,Ye,Pe,ke,Ge,Le=Math.round(s[10])+"",et,tt,st,Me,Ue,lt,ut;function _t(C){s[16](C)}let Xe={type:"text",id:"videoid",placeholder:"VideoID"};return s[4]!==void 0&&(Xe.value=s[4]),H=new ps({props:Xe}),rs.push(()=>os(H,"value",_t)),y=new Os({props:{segments:s[12],isLoading:!1,sortDirection:"ASC"}}),b=new zs({props:{current:s[0]+1,last:s[1]+1}}),b.$on("click",s[15]),Me=new ms({props:{status:s[11]}}),{c(){e=E(),t=f("main"),a=f("div"),n=f("form"),i=f("div"),r=f("div"),c=f("label"),o=S("VideoID:"),g=f("br"),w=E(),_e(H.$$.fragment),N=E(),T=f("div"),I=f("label"),D=S("Service:"),M=f("br"),A=E(),L=f("select"),U=f("option"),Se=S("YouTube"),le=E(),z=f("div"),ye=S("Include:"),te=f("br"),K=E(),X=f("div"),Z=f("label"),F=f("input"),Ce=S(`
              Locked`),V=E(),B=f("label"),oe=f("input"),ie=S(`
              hidden`),ce=E(),R=f("label"),se=f("input"),Ne=S(`
              ignored`),Ve=E(),fe=f("div"),W=f("br"),x=E(),de=f("button"),He=S("Search"),De=E(),ae=f("div"),O=f("h2"),Ae=S("SegmentCount: "),v=S(m),Te=E(),_e(y.$$.fragment),ne=E(),j=f("div"),ue=S(J),ve=S(" of "),$e=S(he),we=E(),Ee=f("br"),je=E(),P=f("button"),ee=S("prev page"),Fe=E(),Ie=f("button"),Be=S("next page"),p=E(),_e(b.$$.fragment),Ye=E(),Pe=f("div"),ke=f("sub"),Ge=S("(Loadtime: "),et=S(Le),tt=S("ms)"),st=E(),_e(Me.$$.fragment),this.h()},l(C){is('[data-svelte="svelte-40ey8a"]',document.head).forEach(u),e=k(C),t=d(C,"MAIN",{});var Ze=_(t);a=d(Ze,"DIV",{class:!0});var Ke=_(a);n=d(Ke,"FORM",{});var at=_(n);i=d(at,"DIV",{class:!0});var Re=_(i);r=d(Re,"DIV",{});var ct=_(r);c=d(ct,"LABEL",{for:!0});var It=_(c);o=$(It,"VideoID:"),It.forEach(u),g=d(ct,"BR",{}),w=k(ct),me(H.$$.fragment,ct),ct.forEach(u),N=k(Re),T=d(Re,"DIV",{});var ft=_(T);I=d(ft,"LABEL",{for:!0});var yt=_(I);D=$(yt,"Service:"),yt.forEach(u),M=d(ft,"BR",{}),A=k(ft),L=d(ft,"SELECT",{id:!0,name:!0});var Ct=_(L);U=d(Ct,"OPTION",{});var At=_(U);Se=$(At,"YouTube"),At.forEach(u),Ct.forEach(u),ft.forEach(u),le=k(Re),z=d(Re,"DIV",{});var dt=_(z);ye=$(dt,"Include:"),te=d(dt,"BR",{}),K=k(dt),X=d(dt,"DIV",{class:!0});var nt=_(X);Z=d(nt,"LABEL",{});var St=_(Z);F=d(St,"INPUT",{type:!0,name:!0}),Ce=$(St,`
              Locked`),St.forEach(u),V=k(nt),B=d(nt,"LABEL",{});var $t=_(B);oe=d($t,"INPUT",{type:!0,name:!0}),ie=$($t,`
              hidden`),$t.forEach(u),ce=k(nt),R=d(nt,"LABEL",{});var Tt=_(R);se=d(Tt,"INPUT",{type:!0,name:!0}),Ne=$(Tt,`
              ignored`),Tt.forEach(u),nt.forEach(u),dt.forEach(u),Ve=k(Re),fe=d(Re,"DIV",{});var mt=_(fe);W=d(mt,"BR",{}),x=k(mt),de=d(mt,"BUTTON",{type:!0,class:!0});var Bt=_(de);He=$(Bt,"Search"),Bt.forEach(u),mt.forEach(u),Re.forEach(u),at.forEach(u),De=k(Ke),ae=d(Ke,"DIV",{});var qe=_(ae);O=d(qe,"H2",{});var Et=_(O);Ae=$(Et,"SegmentCount: "),v=$(Et,m),Et.forEach(u),Te=k(qe),me(y.$$.fragment,qe),ne=k(qe),j=d(qe,"DIV",{});var ze=_(j);ue=$(ze,J),ve=$(ze," of "),$e=$(ze,he),we=k(ze),Ee=d(ze,"BR",{}),je=k(ze),P=d(ze,"BUTTON",{class:!0});var Lt=_(P);ee=$(Lt,"prev page"),Lt.forEach(u),Fe=k(ze),Ie=d(ze,"BUTTON",{class:!0});var Ut=_(Ie);Be=$(Ut,"next page"),Ut.forEach(u),ze.forEach(u),p=k(qe),me(b.$$.fragment,qe),Ye=k(qe),Pe=d(qe,"DIV",{});var Nt=_(Pe);ke=d(Nt,"SUB",{});var gt=_(ke);Ge=$(gt,"(Loadtime: "),et=$(gt,Le),tt=$(gt,"ms)"),gt.forEach(u),Nt.forEach(u),qe.forEach(u),st=k(Ke),me(Me.$$.fragment,Ke),Ke.forEach(u),Ze.forEach(u),this.h()},h(){document.title="Browse | SponsorBlockControl",h(c,"for","videoid"),h(I,"for","service"),U.__value="youtube",U.value=U.__value,h(L,"id","service"),h(L,"name","service"),s[3]===void 0&&us(()=>s[17].call(L)),h(F,"type","checkbox"),h(F,"name","locked"),h(oe,"type","checkbox"),h(oe,"name","hidden"),h(se,"type","checkbox"),h(se,"name","ignored"),h(X,"class","filters svelte-1z0tix8"),h(de,"type","submit"),h(de,"class","svelte-1z0tix8"),h(i,"class","filters svelte-1z0tix8"),P.disabled=s[6],h(P,"class","svelte-1z0tix8"),Ie.disabled=s[5],h(Ie,"class","svelte-1z0tix8"),h(a,"class","container")},m(C,q){Y(C,e,q),Y(C,t,q),l(t,a),l(a,n),l(n,i),l(i,r),l(r,c),l(c,o),l(r,g),l(r,w),ge(H,r,null),l(i,N),l(i,T),l(T,I),l(I,D),l(T,M),l(T,A),l(T,L),l(L,U),l(U,Se),zt(L,s[3]),l(i,le),l(i,z),l(z,ye),l(z,te),l(z,K),l(z,X),l(X,Z),l(Z,F),F.checked=s[7],l(Z,Ce),l(X,V),l(X,B),l(B,oe),oe.checked=s[8],l(B,ie),l(X,ce),l(X,R),l(R,se),se.checked=s[9],l(R,Ne),l(i,Ve),l(i,fe),l(fe,W),l(fe,x),l(fe,de),l(de,He),l(a,De),l(a,ae),l(ae,O),l(O,Ae),l(O,v),l(ae,Te),ge(y,ae,null),l(ae,ne),l(ae,j),l(j,ue),l(j,ve),l(j,$e),l(j,we),l(j,Ee),l(j,je),l(j,P),l(P,ee),l(j,Fe),l(j,Ie),l(Ie,Be),l(ae,p),ge(b,ae,null),l(ae,Ye),l(ae,Pe),l(Pe,ke),l(ke,Ge),l(ke,et),l(ke,tt),l(a,st),ge(Me,a,null),Ue=!0,lt||(ut=[Oe(L,"change",s[17]),Oe(F,"change",s[18]),Oe(oe,"change",s[19]),Oe(se,"change",s[20]),Oe(de,"click",s[21]),Oe(n,"submit",cs(s[14])),Oe(P,"click",s[22]),Oe(Ie,"click",s[23])],lt=!0)},p(C,[q]){const Ze={};!re&&q&16&&(re=!0,Ze.value=C[4],fs(()=>re=!1)),H.$set(Ze),q&8&&zt(L,C[3]),q&128&&(F.checked=C[7]),q&256&&(oe.checked=C[8]),q&512&&(se.checked=C[9]),(!Ue||q&4)&&m!==(m=C[2].segmentCount+"")&&be(v,m);const Ke={};q&4096&&(Ke.segments=C[12]),y.$set(Ke),(!Ue||q&1)&&J!==(J=C[0]+1+"")&&be(ue,J),(!Ue||q&4)&&he!==(he=Math.ceil(C[2].segmentCount/bt)+"")&&be($e,he),(!Ue||q&64)&&(P.disabled=C[6]),(!Ue||q&32)&&(Ie.disabled=C[5]);const at={};q&1&&(at.current=C[0]+1),q&2&&(at.last=C[1]+1),b.$set(at),(!Ue||q&1024)&&Le!==(Le=Math.round(C[10])+"")&&be(et,Le);const Re={};q&2048&&(Re.status=C[11]),Me.$set(Re)},i(C){Ue||(G(H.$$.fragment,C),G(y.$$.fragment,C),G(b.$$.fragment,C),G(Me.$$.fragment,C),Ue=!0)},o(C){Q(H.$$.fragment,C),Q(y.$$.fragment,C),Q(b.$$.fragment,C),Q(Me.$$.fragment,C),Ue=!1},d(C){C&&u(e),C&&u(t),pe(H),pe(y),pe(b),pe(Me),lt=!1,Ot(ut)}}}let Ys=0;const bt=10;function Gs(s,e,t){let a,n;jt(s,_s,V=>t(24,n=V));let i="youtube",r="",c=0,o=!1,g=!0,w=0,H=-2,re=1/0,N=1/0,T=!0,I=!0,D=!0,M=0,A={segmentCount:0,page:0,segments:[]},L=ht.IDLE;ds(async()=>{const V=new URLSearchParams(window.location.search);V.has("videoID")&&(t(4,r=V.get("videoID")),await U())});async function U(V=0){console.log("Sending fetch request"),t(11,L=ht.WORKING);const B=new URLSearchParams;B.append("videoID",r),B.append("service",i),B.append("page",V.toString()),B.append("minVotes",H.toString()),B.append("maxVotes",re.toString()),B.append("minViews",Ys.toString()),B.append("maxViews",N.toString()),B.append("locked",T.toString()),B.append("hidden",I.toString()),B.append("ignored",D.toString());const oe=performance.now(),ie=await fetch(`${n.sponsorBlockApi}/api/searchSegments?${B}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(t(10,M=performance.now()-oe),ie.status===200){t(11,L=ht.SUCCESS);const ce=await ie.json();t(2,A.segmentCount=ce.segmentCount,A),t(2,A.page=ce.page,A),t(2,A.segments=[...ce.segments].map(R=>(R.duration=R.endTime-R.startTime,R.videoID=r,R)),A)}else t(2,A.segmentCount=0,A),t(2,A.page=0,A),t(2,A.segments=[],A),ie.status===400&&t(11,L=ht.ERROR_INVALID),ie.status===404&&t(11,L=ht.NOT_FOUND)}async function Se(){gs(`./browse/?videoID=${r}`)}async function le(V){const B=V.detail.page-1;console.log("paginationHandler",B),await U(B),t(0,c=B)}function z(V){r=V,t(4,r)}function ye(){i=hs(this),t(3,i)}function te(){T=this.checked,t(7,T)}function K(){I=this.checked,t(8,I)}function X(){D=this.checked,t(9,D)}const Z=async()=>await U(0),F=()=>U(t(0,c=Math.max(0,c-1))),Ce=()=>U(t(0,c=Math.min(Math.floor(A.segmentCount/bt),c+1)));return s.$$.update=()=>{s.$$.dirty&4&&t(1,w=Math.floor(A.segmentCount/bt)),s.$$.dirty&3&&t(5,o=c===w),s.$$.dirty&1&&t(6,g=c===0),s.$$.dirty&4&&t(12,a=[...A.segments])},[c,w,A,i,r,o,g,T,I,D,M,L,a,U,Se,le,z,ye,te,K,X,Z,F,Ce]}class el extends rt{constructor(e){super();ot(this,e,Gs,Fs,it,{})}}export{el as default};
