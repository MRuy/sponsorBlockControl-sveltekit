import{S as nt,i as rt,s as ot,e as f,t as b,c as d,a as m,h as S,d as c,b as h,I as Xe,g as j,G as a,j as Se,H as Ke,J as je,P as Zt,ab as Nt,T as xt,U as es,V as ts,q,o as Y,C as Ht,aa as Pt,ac as ss,D as ls,w as me,k as T,x as _e,m as k,y as ge,ad as We,n as Mt,p as Rt,B as pe,W as Ot,L as jt,l as pt,K as qt,ae as as,a4 as ns,a5 as rs,R as os,a0 as is,a2 as zt,a9 as cs,a6 as us,v as fs,a3 as ds}from"../chunks/vendor-029251f6.js";import{C as hs}from"../chunks/config-b3d4a71f.js";import{a as ms,S as mt}from"../chunks/Status-95729226.js";/* empty css                                                          */import{g as _s}from"../chunks/navigation-b10cf5bf.js";import{V as gs}from"../chunks/VideoInput-269e9c3d.js";import"../chunks/singletons-4a680913.js";function ps(s){let e,t,l,n,i,r=s[1].toString().padStart(2,"0")+"",u,o,_,D=s[2].toString().padStart(2,"0")+"",P,ie,I,E;return{c(){e=f("span"),t=f("span"),l=b(s[0]),n=b(":"),i=f("span"),u=b(r),o=b(":"),_=f("span"),P=b(D),ie=b("."),I=f("span"),E=b(s[3]),this.h()},l(L){e=d(L,"SPAN",{class:!0});var w=m(e);t=d(w,"SPAN",{class:!0});var M=m(t);l=S(M,s[0]),n=S(M,":"),M.forEach(c),i=d(w,"SPAN",{class:!0});var A=m(i);u=S(A,r),o=S(A,":"),A.forEach(c),_=d(w,"SPAN",{class:!0});var U=m(_);P=S(U,D),ie=S(U,"."),U.forEach(c),I=d(w,"SPAN",{class:!0});var V=m(I);E=S(V,s[3]),V.forEach(c),w.forEach(c),this.h()},h(){h(t,"class","svelte-58feot"),Xe(t,"inactive",s[0]===0),h(i,"class","svelte-58feot"),Xe(i,"inactive",s[1]===0),h(_,"class",""),h(I,"class","milliseconds svelte-58feot"),h(e,"class","time svelte-58feot")},m(L,w){j(L,e,w),a(e,t),a(t,l),a(t,n),a(e,i),a(i,u),a(i,o),a(e,_),a(_,P),a(_,ie),a(e,I),a(I,E)},p(L,[w]){w&1&&Se(l,L[0]),w&1&&Xe(t,"inactive",L[0]===0),w&2&&r!==(r=L[1].toString().padStart(2,"0")+"")&&Se(u,r),w&2&&Xe(i,"inactive",L[1]===0),w&4&&D!==(D=L[2].toString().padStart(2,"0")+"")&&Se(P,D),w&8&&Se(E,L[3])},i:Ke,o:Ke,d(L){L&&c(e)}}}let kt=3;function vs(s,e,t){let{value:l=0}=e,n=0,i=0,r=0,u="0";return s.$$set=o=>{"value"in o&&t(4,l=o.value)},s.$$.update=()=>{if(s.$$.dirty&16){let o=Number(l),_=o.toString();t(3,u="0".repeat(kt)),_.includes(".")&&t(3,u=_.split(".")[1].padEnd(kt,"0").slice(0,kt)),o=Math.floor(l),t(0,n=Math.floor(o/3600)),t(1,i=Math.floor(o/60%60)),t(2,r=Math.floor(o%60))}},[n,i,r,u,l]}class Dt extends nt{constructor(e){super();rt(this,e,vs,ps,ot,{value:4})}}function Ft(s){let e,t;return{c(){e=f("div"),t=b("Copied!"),this.h()},l(l){e=d(l,"DIV",{class:!0});var n=m(e);t=S(n,"Copied!"),n.forEach(c),this.h()},h(){h(e,"class","success svelte-1f7dggz")},m(l,n){j(l,e,n),a(e,t)},d(l){l&&c(e)}}}function bs(s){let e,t,l,n,i=s[1]&&Ft();return{c(){e=f("button"),i&&i.c(),t=b(`
  \u2702`),this.h()},l(r){e=d(r,"BUTTON",{title:!0,class:!0});var u=m(e);i&&i.l(u),t=S(u,`
  \u2702`),u.forEach(c),this.h()},h(){h(e,"title",s[0]),h(e,"class","svelte-1f7dggz")},m(r,u){j(r,e,u),i&&i.m(e,null),a(e,t),l||(n=je(e,"click",s[4]),l=!0)},p(r,[u]){r[1]?i||(i=Ft(),i.c(),i.m(e,t)):i&&(i.d(1),i=null),u&1&&h(e,"title",r[0])},i:Ke,o:Ke,d(r){r&&c(e),i&&i.d(),l=!1,n()}}}function Ss(s,e,t){let{value:l=""}=e,{title:n="Copy to clipboard"}=e,i=!1;function r(){navigator.clipboard.writeText(l).then(()=>{console.log("Copied to clipboard"),t(1,i=!0),setTimeout(o=>{t(1,i=!1)},2e3)},o=>{console.log("Failed to copy into clipboard",o)})}const u=o=>r();return s.$$set=o=>{"value"in o&&t(3,l=o.value),"title"in o&&t(0,n=o.title)},[n,i,r,l,u]}class Yt extends nt{constructor(e){super();rt(this,e,Ss,bs,ot,{value:3,title:0})}}function $s(s){let e,t,l,n,i,r;const u=s[5].default,o=Zt(u,s,s[4],null);return{c(){e=f("span"),o&&o.c(),this.h()},l(_){e=d(_,"SPAN",{class:!0,title:!0});var D=m(e);o&&o.l(D),D.forEach(c),this.h()},h(){h(e,"class",t=""+(Nt(`header ${s[3].class}`)+" svelte-1s8upei")),h(e,"title",l=`Sort by ${s[0]}`),Xe(e,"active",s[2]===s[0]),Xe(e,"sort--asc",s[1]==="ASC")},m(_,D){j(_,e,D),o&&o.m(e,null),n=!0,i||(r=je(e,"click",s[6]),i=!0)},p(_,[D]){o&&o.p&&(!n||D&16)&&xt(o,u,_,_[4],n?ts(u,_[4],D,null):es(_[4]),null),(!n||D&8&&t!==(t=""+(Nt(`header ${_[3].class}`)+" svelte-1s8upei")))&&h(e,"class",t),(!n||D&1&&l!==(l=`Sort by ${_[0]}`))&&h(e,"title",l),D&13&&Xe(e,"active",_[2]===_[0]),D&10&&Xe(e,"sort--asc",_[1]==="ASC")},i(_){n||(q(o,_),n=!0)},o(_){Y(o,_),n=!1},d(_){_&&c(e),o&&o.d(_),i=!1,r()}}}function Es(s,e,t){let{$$slots:l={},$$scope:n}=e,{name:i}=e,{sorting:r="DESC"}=e,{current:u=""}=e;function o(_){ss.call(this,s,_)}return s.$$set=_=>{t(3,e=Ht(Ht({},e),Pt(_))),"name"in _&&t(0,i=_.name),"sorting"in _&&t(1,r=_.sorting),"current"in _&&t(2,u=_.current),"$$scope"in _&&t(4,n=_.$$scope)},e=Pt(e),[i,r,u,e,n,l,o]}class Je extends nt{constructor(e){super();rt(this,e,Es,$s,ot,{name:0,sorting:1,current:2})}}const Ts=ls([{id:"sponsor",color:"#00d400"},{id:"intro",color:"#00ffff"},{id:"outro",color:"#0202ed"},{id:"interaction",color:"#cc00ff"},{id:"selfpromo",color:"#ffff00"},{id:"music_offtopic",color:"#ff9900"},{id:"preview",color:"#0b9d65"},{id:"poi_highlight",color:"#ff1684"},{id:"filler",color:"#7300ff"}]);function Gt(s,e,t){const l=s.slice();return l[10]=e[t],l}function ks(s){let e;return{c(){e=b("Submitted")},l(t){e=S(t,"Submitted")},m(t,l){j(t,e,l)},d(t){t&&c(e)}}}function Ds(s){let e;return{c(){e=b("Start/End")},l(t){e=S(t,"Start/End")},m(t,l){j(t,e,l)},d(t){t&&c(e)}}}function ws(s){let e;return{c(){e=b("Votes")},l(t){e=S(t,"Votes")},m(t,l){j(t,e,l)},d(t){t&&c(e)}}}function Is(s){let e;return{c(){e=b("Views")},l(t){e=S(t,"Views")},m(t,l){j(t,e,l)},d(t){t&&c(e)}}}function Cs(s){let e;return{c(){e=b("Category")},l(t){e=S(t,"Category")},m(t,l){j(t,e,l)},d(t){t&&c(e)}}}function ys(s){let e;return{c(){e=b("Hidden")},l(t){e=S(t,"Hidden")},m(t,l){j(t,e,l)},d(t){t&&c(e)}}}function Bs(s){let e;return{c(){e=b("Actiontype")},l(t){e=S(t,"Actiontype")},m(t,l){j(t,e,l)},d(t){t&&c(e)}}}function Ls(s){let e;return{c(){e=b("ShadowHidden")},l(t){e=S(t,"ShadowHidden")},m(t,l){j(t,e,l)},d(t){t&&c(e)}}}function Us(s){let e;return{c(){e=b("Locked")},l(t){e=S(t,"Locked")},m(t,l){j(t,e,l)},d(t){t&&c(e)}}}function As(s){let e,t,l=s[2],n=[];for(let r=0;r<l.length;r+=1)n[r]=Wt(Gt(s,l,r));const i=r=>Y(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=pt()},l(r){for(let u=0;u<n.length;u+=1)n[u].l(r);e=pt()},m(r,u){for(let o=0;o<n.length;o+=1)n[o].m(r,u);j(r,e,u),t=!0},p(r,u){if(u&52){l=r[2];let o;for(o=0;o<l.length;o+=1){const _=Gt(r,l,o);n[o]?(n[o].p(_,u),q(n[o],1)):(n[o]=Wt(_),n[o].c(),q(n[o],1),n[o].m(e.parentNode,e))}for(Mt(),o=l.length;o<n.length;o+=1)i(o);Rt()}},i(r){if(!t){for(let u=0;u<l.length;u+=1)q(n[u]);t=!0}},o(r){n=n.filter(Boolean);for(let u=0;u<n.length;u+=1)Y(n[u]);t=!1},d(r){qt(n,r),r&&c(e)}}}function Vs(s){let e,t,l,n;return{c(){e=f("tr"),t=f("td"),l=f("div"),n=b("Loading data..."),this.h()},l(i){e=d(i,"TR",{});var r=m(e);t=d(r,"TD",{colspan:!0,class:!0});var u=m(t);l=d(u,"DIV",{class:!0});var o=m(l);n=S(o,"Loading data..."),o.forEach(c),u.forEach(c),r.forEach(c),this.h()},h(){h(l,"class","loading svelte-19x84r4"),h(t,"colspan","12"),h(t,"class","svelte-19x84r4")},m(i,r){j(i,e,r),a(e,t),a(t,l),a(l,n)},p:Ke,i:Ke,o:Ke,d(i){i&&c(e)}}}function Kt(s){let e,t;return{c(){e=f("span"),t=b("\u274C"),this.h()},l(l){e=d(l,"SPAN",{class:!0,title:!0});var n=m(e);t=S(n,"\u274C"),n.forEach(c),this.h()},h(){h(e,"class","removed svelte-19x84r4"),h(e,"title","Segment removed")},m(l,n){j(l,e,n),a(e,t)},d(l){l&&c(e)}}}function Ns(s){let e;return{c(){e=b("\u2014")},l(t){e=S(t,"\u2014")},m(t,l){j(t,e,l)},d(t){t&&c(e)}}}function Hs(s){let e,t;return{c(){e=f("span"),t=b("\u{1F512}"),this.h()},l(l){e=d(l,"SPAN",{class:!0,title:!0});var n=m(e);t=S(n,"\u{1F512}"),n.forEach(c),this.h()},h(){h(e,"class","locked svelte-19x84r4"),h(e,"title","Locked by VIP/Moderator")},m(l,n){j(l,e,n),a(e,t)},d(l){l&&c(e)}}}function Wt(s){let e,t,l=Jt(s[10].timeSubmitted)+"",n,i,r,u,o,_,D,P,ie,I,E,L,w,M,A=s[10].votes+"",U,V,$e,le=s[10].views+"",R,Be,X,z,G=s[10].category+"",K,O,Le,N,y=(s[10].hidden||"\u2014")+"",ce,ue,he,W=(s[10].actionType in s[4]?s[4][s[10].actionType]:s[10].actionType)+"",ae,Ae,Ce,ne=(s[10].shadowHidden||"\u2014")+"",Z,re,x,Ve,Ee,F,ee=s[10].UUID+"",Ne,g,v,oe,C,te,H,fe=s[10].userID+"",ve,ke,be,se,ye,J;o=new Dt({props:{value:s[10].startTime}}),D=new Dt({props:{value:s[10].endTime}}),E=new Dt({props:{value:s[10].endTime-s[10].startTime}});let Q=s[10].votes<-1&&Kt();function De(p,$){return p[10].locked?Hs:Ns}let He=De(s),Te=He(s);return oe=new Yt({props:{value:s[10].UUID}}),se=new Yt({props:{value:s[10].userID}}),{c(){e=f("tr"),t=f("td"),n=b(l),i=T(),r=f("td"),u=f("a"),me(o.$$.fragment),_=f("br"),me(D.$$.fragment),ie=T(),I=f("td"),me(E.$$.fragment),L=T(),w=f("td"),Q&&Q.c(),M=T(),U=b(A),V=T(),$e=f("td"),R=b(le),Be=T(),X=f("td"),z=f("span"),K=b(G),Le=T(),N=f("td"),ce=b(y),ue=T(),he=f("td"),ae=b(W),Ae=T(),Ce=f("td"),Z=b(ne),re=T(),x=f("td"),Te.c(),Ve=T(),Ee=f("td"),F=f("span"),Ne=b(ee),g=f("br"),v=T(),me(oe.$$.fragment),C=T(),te=f("td"),H=f("span"),ve=b(fe),ke=f("br"),be=T(),me(se.$$.fragment),ye=T(),this.h()},l(p){e=d(p,"TR",{});var $=m(e);t=d($,"TD",{class:!0});var Fe=m(t);n=S(Fe,l),Fe.forEach(c),i=k($),r=d($,"TD",{class:!0});var we=m(r);u=d(we,"A",{href:!0,class:!0});var Pe=m(u);_e(o.$$.fragment,Pe),_=d(Pe,"BR",{}),_e(D.$$.fragment,Pe),Pe.forEach(c),we.forEach(c),ie=k($),I=d($,"TD",{class:!0});var Me=m(I);_e(E.$$.fragment,Me),Me.forEach(c),L=k($),w=d($,"TD",{class:!0});var Ie=m(w);Q&&Q.l(Ie),M=k(Ie),U=S(Ie,A),Ie.forEach(c),V=k($),$e=d($,"TD",{class:!0});var et=m($e);R=S(et,le),et.forEach(c),Be=k($),X=d($,"TD",{class:!0});var Qe=m(X);z=d(Qe,"SPAN",{class:!0,style:!0});var Ze=m(z);K=S(Ze,G),Ze.forEach(c),Qe.forEach(c),Le=k($),N=d($,"TD",{class:!0});var tt=m(N);ce=S(tt,y),tt.forEach(c),ue=k($),he=d($,"TD",{class:!0});var st=m(he);ae=S(st,W),st.forEach(c),Ae=k($),Ce=d($,"TD",{class:!0});var Re=m(Ce);Z=S(Re,ne),Re.forEach(c),re=k($),x=d($,"TD",{class:!0});var Ue=m(x);Te.l(Ue),Ue.forEach(c),Ve=k($),Ee=d($,"TD",{class:!0});var Ye=m(Ee);F=d(Ye,"SPAN",{class:!0});var it=m(F);Ne=S(it,ee),it.forEach(c),g=d(Ye,"BR",{}),v=k(Ye),_e(oe.$$.fragment,Ye),Ye.forEach(c),C=k($),te=d($,"TD",{class:!0});var xe=m(te);H=d(xe,"SPAN",{class:!0});var ct=m(H);ve=S(ct,fe),ct.forEach(c),ke=d(xe,"BR",{}),be=k(xe),_e(se.$$.fragment,xe),xe.forEach(c),ye=k($),$.forEach(c),this.h()},h(){h(t,"class","cell-text svelte-19x84r4"),h(u,"href",P=`https://www.youtube.com/watch?v=${s[10].videoID}${s[10].startTime>2?`&t=${Math.floor(Math.max(0,s[10].startTime-2))}s`:""}#requiredSegment=${s[10].UUID}`),h(u,"class","svelte-19x84r4"),h(r,"class","cell-number svelte-19x84r4"),h(I,"class","cell-number svelte-19x84r4"),h(w,"class","cell-number nowrap svelte-19x84r4"),h($e,"class","cell-number svelte-19x84r4"),h(z,"class","category svelte-19x84r4"),h(z,"style",O=`background-color:${s[5](s[10].category)}`),h(X,"class","cell-text svelte-19x84r4"),h(N,"class","cell-text svelte-19x84r4"),h(he,"class","cell-text svelte-19x84r4"),h(Ce,"class","cell-text svelte-19x84r4"),h(x,"class","cell-text svelte-19x84r4"),h(F,"class","wordbreak wordbreak--uuid svelte-19x84r4"),h(Ee,"class","cell-text svelte-19x84r4"),h(H,"class","wordbreak wordbreak--uuid svelte-19x84r4"),h(te,"class","cell-text svelte-19x84r4")},m(p,$){j(p,e,$),a(e,t),a(t,n),a(e,i),a(e,r),a(r,u),ge(o,u,null),a(u,_),ge(D,u,null),a(e,ie),a(e,I),ge(E,I,null),a(e,L),a(e,w),Q&&Q.m(w,null),a(w,M),a(w,U),a(e,V),a(e,$e),a($e,R),a(e,Be),a(e,X),a(X,z),a(z,K),a(e,Le),a(e,N),a(N,ce),a(e,ue),a(e,he),a(he,ae),a(e,Ae),a(e,Ce),a(Ce,Z),a(e,re),a(e,x),Te.m(x,null),a(e,Ve),a(e,Ee),a(Ee,F),a(F,Ne),a(Ee,g),a(Ee,v),ge(oe,Ee,null),a(e,C),a(e,te),a(te,H),a(H,ve),a(te,ke),a(te,be),ge(se,te,null),a(e,ye),J=!0},p(p,$){(!J||$&4)&&l!==(l=Jt(p[10].timeSubmitted)+"")&&Se(n,l);const Fe={};$&4&&(Fe.value=p[10].startTime),o.$set(Fe);const we={};$&4&&(we.value=p[10].endTime),D.$set(we),(!J||$&4&&P!==(P=`https://www.youtube.com/watch?v=${p[10].videoID}${p[10].startTime>2?`&t=${Math.floor(Math.max(0,p[10].startTime-2))}s`:""}#requiredSegment=${p[10].UUID}`))&&h(u,"href",P);const Pe={};$&4&&(Pe.value=p[10].endTime-p[10].startTime),E.$set(Pe),p[10].votes<-1?Q||(Q=Kt(),Q.c(),Q.m(w,M)):Q&&(Q.d(1),Q=null),(!J||$&4)&&A!==(A=p[10].votes+"")&&Se(U,A),(!J||$&4)&&le!==(le=p[10].views+"")&&Se(R,le),(!J||$&4)&&G!==(G=p[10].category+"")&&Se(K,G),(!J||$&4&&O!==(O=`background-color:${p[5](p[10].category)}`))&&h(z,"style",O),(!J||$&4)&&y!==(y=(p[10].hidden||"\u2014")+"")&&Se(ce,y),(!J||$&4)&&W!==(W=(p[10].actionType in p[4]?p[4][p[10].actionType]:p[10].actionType)+"")&&Se(ae,W),(!J||$&4)&&ne!==(ne=(p[10].shadowHidden||"\u2014")+"")&&Se(Z,ne),He!==(He=De(p))&&(Te.d(1),Te=He(p),Te&&(Te.c(),Te.m(x,null))),(!J||$&4)&&ee!==(ee=p[10].UUID+"")&&Se(Ne,ee);const Me={};$&4&&(Me.value=p[10].UUID),oe.$set(Me),(!J||$&4)&&fe!==(fe=p[10].userID+"")&&Se(ve,fe);const Ie={};$&4&&(Ie.value=p[10].userID),se.$set(Ie)},i(p){J||(q(o.$$.fragment,p),q(D.$$.fragment,p),q(E.$$.fragment,p),q(oe.$$.fragment,p),q(se.$$.fragment,p),J=!0)},o(p){Y(o.$$.fragment,p),Y(D.$$.fragment,p),Y(E.$$.fragment,p),Y(oe.$$.fragment,p),Y(se.$$.fragment,p),J=!1},d(p){p&&c(e),pe(o),pe(D),pe(E),Q&&Q.d(),Te.d(),pe(oe),pe(se)}}}function Ps(s){let e,t,l,n,i,r,u,o,_,D,P,ie,I,E,L,w,M,A,U,V,$e,le,R,Be,X,z,G,K,O,Le,N,y,ce,ue,he,W,ae,Ae,Ce,ne,Z,re,x,Ve,Ee;i=new Je({props:{sortBy:"timeSubmitted",name:"timeSubmitted",sorting:s[0],current:s[3],$$slots:{default:[ks]},$$scope:{ctx:s}}}),o=new Je({props:{name:"startTime",sorting:s[0],current:s[3],$$slots:{default:[Ds]},$$scope:{ctx:s}}}),E=new Je({props:{name:"votes",sorting:s[0],current:s[3],$$slots:{default:[ws]},$$scope:{ctx:s}}}),M=new Je({props:{name:"views",sorting:s[0],current:s[3],$$slots:{default:[Is]},$$scope:{ctx:s}}}),V=new Je({props:{name:"category",sorting:s[0],current:s[3],$$slots:{default:[Cs]},$$scope:{ctx:s}}}),R=new Je({props:{name:"hidden",sorting:s[0],current:s[3],$$slots:{default:[ys]},$$scope:{ctx:s}}}),z=new Je({props:{name:"hidden",sorting:s[0],current:s[3],$$slots:{default:[Bs]},$$scope:{ctx:s}}}),O=new Je({props:{name:"shadowHidden",sorting:s[0],current:s[3],$$slots:{default:[Ls]},$$scope:{ctx:s}}}),y=new Je({props:{name:"locked",sorting:s[0],current:s[3],$$slots:{default:[Us]},$$scope:{ctx:s}}});const F=[Vs,As],ee=[];function Ne(g,v){return g[1]?0:1}return Z=Ne(s),re=ee[Z]=F[Z](s),{c(){e=f("table"),t=f("thead"),l=f("tr"),n=f("th"),me(i.$$.fragment),r=T(),u=f("th"),me(o.$$.fragment),_=T(),D=f("th"),P=b("Length"),ie=T(),I=f("th"),me(E.$$.fragment),L=T(),w=f("th"),me(M.$$.fragment),A=T(),U=f("th"),me(V.$$.fragment),$e=T(),le=f("th"),me(R.$$.fragment),Be=T(),X=f("th"),me(z.$$.fragment),G=T(),K=f("th"),me(O.$$.fragment),Le=T(),N=f("th"),me(y.$$.fragment),ce=T(),ue=f("th"),he=b("UUID"),W=T(),ae=f("th"),Ae=b("Submitter UUID"),Ce=T(),ne=f("tbody"),re.c(),this.h()},l(g){e=d(g,"TABLE",{class:!0});var v=m(e);t=d(v,"THEAD",{class:!0});var oe=m(t);l=d(oe,"TR",{});var C=m(l);n=d(C,"TH",{class:!0,"data-sortby":!0});var te=m(n);_e(i.$$.fragment,te),te.forEach(c),r=k(C),u=d(C,"TH",{class:!0,"data-sortby":!0});var H=m(u);_e(o.$$.fragment,H),H.forEach(c),_=k(C),D=d(C,"TH",{class:!0});var fe=m(D);P=S(fe,"Length"),fe.forEach(c),ie=k(C),I=d(C,"TH",{class:!0,"data-sortby":!0});var ve=m(I);_e(E.$$.fragment,ve),ve.forEach(c),L=k(C),w=d(C,"TH",{class:!0,"data-sortby":!0});var ke=m(w);_e(M.$$.fragment,ke),ke.forEach(c),A=k(C),U=d(C,"TH",{class:!0,"data-sortby":!0});var be=m(U);_e(V.$$.fragment,be),be.forEach(c),$e=k(C),le=d(C,"TH",{class:!0,"data-sortby":!0});var se=m(le);_e(R.$$.fragment,se),se.forEach(c),Be=k(C),X=d(C,"TH",{class:!0,"data-sortby":!0});var ye=m(X);_e(z.$$.fragment,ye),ye.forEach(c),G=k(C),K=d(C,"TH",{class:!0,"data-sortby":!0});var J=m(K);_e(O.$$.fragment,J),J.forEach(c),Le=k(C),N=d(C,"TH",{class:!0,"data-sortby":!0});var Q=m(N);_e(y.$$.fragment,Q),Q.forEach(c),ce=k(C),ue=d(C,"TH",{class:!0});var De=m(ue);he=S(De,"UUID"),De.forEach(c),W=k(C),ae=d(C,"TH",{class:!0});var He=m(ae);Ae=S(He,"Submitter UUID"),He.forEach(c),C.forEach(c),oe.forEach(c),Ce=k(v),ne=d(v,"TBODY",{});var Te=m(ne);re.l(Te),Te.forEach(c),v.forEach(c),this.h()},h(){h(n,"class","cell-text svelte-19x84r4"),h(n,"data-sortby","timeSubmitted"),h(u,"class","cell-number svelte-19x84r4"),h(u,"data-sortby","startTime"),h(D,"class","cell-number svelte-19x84r4"),h(I,"class","cell-number svelte-19x84r4"),h(I,"data-sortby","votes"),h(w,"class","cell-number svelte-19x84r4"),h(w,"data-sortby","views"),h(U,"class","cell-text svelte-19x84r4"),h(U,"data-sortby","category"),h(le,"class","cell-number svelte-19x84r4"),h(le,"data-sortby","hidden"),h(X,"class","cell-text svelte-19x84r4"),h(X,"data-sortby","actiontype"),h(K,"class","cell-number svelte-19x84r4"),h(K,"data-sortby","shadowHidden"),h(N,"class","cell-number svelte-19x84r4"),h(N,"data-sortby","locked"),h(ue,"class","cell-text svelte-19x84r4"),h(ae,"class","cell-text svelte-19x84r4"),h(t,"class","svelte-19x84r4"),h(e,"class","svelte-19x84r4")},m(g,v){j(g,e,v),a(e,t),a(t,l),a(l,n),ge(i,n,null),a(l,r),a(l,u),ge(o,u,null),a(l,_),a(l,D),a(D,P),a(l,ie),a(l,I),ge(E,I,null),a(l,L),a(l,w),ge(M,w,null),a(l,A),a(l,U),ge(V,U,null),a(l,$e),a(l,le),ge(R,le,null),a(l,Be),a(l,X),ge(z,X,null),a(l,G),a(l,K),ge(O,K,null),a(l,Le),a(l,N),ge(y,N,null),a(l,ce),a(l,ue),a(ue,he),a(l,W),a(l,ae),a(ae,Ae),a(e,Ce),a(e,ne),ee[Z].m(ne,null),x=!0,Ve||(Ee=[We(s[6].call(null,n)),We(s[6].call(null,u)),We(s[6].call(null,I)),We(s[6].call(null,w)),We(s[6].call(null,U)),We(s[6].call(null,le)),We(s[6].call(null,X)),We(s[6].call(null,K)),We(s[6].call(null,N))],Ve=!0)},p(g,[v]){const oe={};v&1&&(oe.sorting=g[0]),v&8&&(oe.current=g[3]),v&8192&&(oe.$$scope={dirty:v,ctx:g}),i.$set(oe);const C={};v&1&&(C.sorting=g[0]),v&8&&(C.current=g[3]),v&8192&&(C.$$scope={dirty:v,ctx:g}),o.$set(C);const te={};v&1&&(te.sorting=g[0]),v&8&&(te.current=g[3]),v&8192&&(te.$$scope={dirty:v,ctx:g}),E.$set(te);const H={};v&1&&(H.sorting=g[0]),v&8&&(H.current=g[3]),v&8192&&(H.$$scope={dirty:v,ctx:g}),M.$set(H);const fe={};v&1&&(fe.sorting=g[0]),v&8&&(fe.current=g[3]),v&8192&&(fe.$$scope={dirty:v,ctx:g}),V.$set(fe);const ve={};v&1&&(ve.sorting=g[0]),v&8&&(ve.current=g[3]),v&8192&&(ve.$$scope={dirty:v,ctx:g}),R.$set(ve);const ke={};v&1&&(ke.sorting=g[0]),v&8&&(ke.current=g[3]),v&8192&&(ke.$$scope={dirty:v,ctx:g}),z.$set(ke);const be={};v&1&&(be.sorting=g[0]),v&8&&(be.current=g[3]),v&8192&&(be.$$scope={dirty:v,ctx:g}),O.$set(be);const se={};v&1&&(se.sorting=g[0]),v&8&&(se.current=g[3]),v&8192&&(se.$$scope={dirty:v,ctx:g}),y.$set(se);let ye=Z;Z=Ne(g),Z===ye?ee[Z].p(g,v):(Mt(),Y(ee[ye],1,1,()=>{ee[ye]=null}),Rt(),re=ee[Z],re?re.p(g,v):(re=ee[Z]=F[Z](g),re.c()),q(re,1),re.m(ne,null))},i(g){x||(q(i.$$.fragment,g),q(o.$$.fragment,g),q(E.$$.fragment,g),q(M.$$.fragment,g),q(V.$$.fragment,g),q(R.$$.fragment,g),q(z.$$.fragment,g),q(O.$$.fragment,g),q(y.$$.fragment,g),q(re),x=!0)},o(g){Y(i.$$.fragment,g),Y(o.$$.fragment,g),Y(E.$$.fragment,g),Y(M.$$.fragment,g),Y(V.$$.fragment,g),Y(R.$$.fragment,g),Y(z.$$.fragment,g),Y(O.$$.fragment,g),Y(y.$$.fragment,g),Y(re),x=!1},d(g){g&&c(e),pe(i),pe(o),pe(E),pe(M),pe(V),pe(R),pe(z),pe(O),pe(y),ee[Z].d(),Ve=!1,Ot(Ee)}}}const wt="ASC",vt="DESC";function Jt(s){const e=new Date(s);return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")} ${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}`}function Ms(s,e,t){let l;jt(s,Ts,I=>t(9,l=I));let{segments:n=[]}=e,{isLoading:i=!1}=e,{sortDirection:r="DESC"}=e,{sortBy:u="timeSubmitted"}=e,o;const _={skip:"\u23ED\uFE0F",mute:"\u{1F507}"};let D=u;r=r==="DESC"?vt:wt;function P(I){var E;return((E=l.find(L=>L.id===I))===null||E===void 0?void 0:E.color)||"transparent"}function ie(I){const E=I.getAttribute("sortBy");I.addEventListener("click",L=>{D===E?t(0,r=r===vt?wt:vt):(t(0,r=vt),t(3,D=E)),t(2,o=[...n].sort((w,M)=>w[E]===M[E]?0:w[E]>M[E]?-1:1)),r===wt&&t(2,o=[...o].reverse())})}return s.$$set=I=>{"segments"in I&&t(7,n=I.segments),"isLoading"in I&&t(1,i=I.isLoading),"sortDirection"in I&&t(0,r=I.sortDirection),"sortBy"in I&&t(8,u=I.sortBy)},s.$$.update=()=>{s.$$.dirty&128&&t(2,o=[...n])},[r,i,o,D,_,P,ie,n,u]}class Rs extends nt{constructor(e){super();rt(this,e,Ms,Ps,ot,{segments:7,isLoading:1,sortDirection:0,sortBy:8})}}function Qt(s,e,t){const l=s.slice();return l[7]=e[t],l[9]=t,l}function Xt(s){let e,t=s[9]+1+"",l,n,i,r;function u(){return s[3](s[9])}return{c(){e=f("button"),l=b(t),this.h()},l(o){e=d(o,"BUTTON",{});var _=m(e);l=S(_,t),_.forEach(c),this.h()},h(){e.disabled=n=s[0]===s[9]+1},m(o,_){j(o,e,_),a(e,l),i||(r=je(e,"click",u),i=!0)},p(o,_){s=o,_&1&&n!==(n=s[0]===s[9]+1)&&(e.disabled=n)},d(o){o&&c(e),i=!1,r()}}}function Os(s){let e,t=Array(s[1]),l=[];for(let n=0;n<t.length;n+=1)l[n]=Xt(Qt(s,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=pt()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=pt()},m(n,i){for(let r=0;r<l.length;r+=1)l[r].m(n,i);j(n,e,i)},p(n,[i]){if(i&7){t=Array(n[1]);let r;for(r=0;r<t.length;r+=1){const u=Qt(n,t,r);l[r]?l[r].p(u,i):(l[r]=Xt(u),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},i:Ke,o:Ke,d(n){qt(l,n),n&&c(e)}}}function js(s,e,t){let{current:l=1}=e,{last:n=1}=e;const i=as();function r(o){i("click",{page:o})}const u=o=>r(o+1);return s.$$set=o=>{"current"in o&&t(0,l=o.current),"last"in o&&t(1,n=o.last)},s.$$.update=()=>{s.$$.dirty&3,s.$$.dirty&1},[l,n,r,u]}class qs extends nt{constructor(e){super();rt(this,e,js,Os,ot,{current:0,last:1})}}function zs(s){let e,t,l,n,i,r,u,o,_,D,P,ie,I,E,L,w,M,A,U,V,$e,le,R,Be,X,z,G,K,O,Le,N,y,ce,ue,he,W,ae,Ae,Ce,ne,Z,re,x,Ve,Ee,F,ee,Ne,g=s[2].segmentCount+"",v,oe,C,te,H,fe=s[0]+1+"",ve,ke,be=Math.ceil(s[2].segmentCount/bt)+"",se,ye,J,Q,De,He,Te,p,$,Fe,we,Pe,Me,Ie,et,Qe=Math.round(s[10])+"",Ze,tt,st,Re,Ue,Ye,it;function xe(B){s[16](B)}let ct={type:"text",id:"videoid",placeholder:"VideoID"};return s[4]!==void 0&&(ct.value=s[4]),P=new gs({props:ct}),ns.push(()=>rs(P,"value",xe)),C=new Rs({props:{segments:s[12],isLoading:!1,sortDirection:"ASC"}}),we=new qs({props:{current:s[0]+1,last:s[1]+1}}),we.$on("click",s[15]),Re=new ms({props:{status:s[11]}}),{c(){e=T(),t=f("main"),l=f("div"),n=f("form"),i=f("div"),r=f("div"),u=f("label"),o=b("VideoID:"),_=f("br"),D=T(),me(P.$$.fragment),I=T(),E=f("div"),L=f("label"),w=b("Service:"),M=f("br"),A=T(),U=f("select"),V=f("option"),$e=b("YouTube"),le=T(),R=f("div"),Be=b("Include:"),X=f("br"),z=T(),G=f("div"),K=f("label"),O=f("input"),Le=b(`
              Locked`),N=T(),y=f("label"),ce=f("input"),ue=b(`
              hidden`),he=T(),W=f("label"),ae=f("input"),Ae=b(`
              ignored`),Ce=T(),ne=f("div"),Z=f("br"),re=T(),x=f("button"),Ve=b("Search"),Ee=T(),F=f("div"),ee=f("h2"),Ne=b("SegmentCount: "),v=b(g),oe=T(),me(C.$$.fragment),te=T(),H=f("div"),ve=b(fe),ke=b(" of "),se=b(be),ye=T(),J=f("br"),Q=T(),De=f("button"),He=b("prev page"),Te=T(),p=f("button"),$=b("next page"),Fe=T(),me(we.$$.fragment),Pe=T(),Me=f("div"),Ie=f("sub"),et=b("(Loadtime: "),Ze=b(Qe),tt=b("ms)"),st=T(),me(Re.$$.fragment),this.h()},l(B){os('[data-svelte="svelte-40ey8a"]',document.head).forEach(c),e=k(B),t=d(B,"MAIN",{});var ut=m(t);l=d(ut,"DIV",{class:!0});var Ge=m(l);n=d(Ge,"FORM",{});var lt=m(n);i=d(lt,"DIV",{class:!0});var Oe=m(i);r=d(Oe,"DIV",{});var ft=m(r);u=d(ft,"LABEL",{for:!0});var It=m(u);o=S(It,"VideoID:"),It.forEach(c),_=d(ft,"BR",{}),D=k(ft),_e(P.$$.fragment,ft),ft.forEach(c),I=k(Oe),E=d(Oe,"DIV",{});var dt=m(E);L=d(dt,"LABEL",{for:!0});var Ct=m(L);w=S(Ct,"Service:"),Ct.forEach(c),M=d(dt,"BR",{}),A=k(dt),U=d(dt,"SELECT",{id:!0,name:!0});var yt=m(U);V=d(yt,"OPTION",{});var Bt=m(V);$e=S(Bt,"YouTube"),Bt.forEach(c),yt.forEach(c),dt.forEach(c),le=k(Oe),R=d(Oe,"DIV",{});var ht=m(R);Be=S(ht,"Include:"),X=d(ht,"BR",{}),z=k(ht),G=d(ht,"DIV",{class:!0});var at=m(G);K=d(at,"LABEL",{});var St=m(K);O=d(St,"INPUT",{type:!0,name:!0}),Le=S(St,`
              Locked`),St.forEach(c),N=k(at),y=d(at,"LABEL",{});var $t=m(y);ce=d($t,"INPUT",{type:!0,name:!0}),ue=S($t,`
              hidden`),$t.forEach(c),he=k(at),W=d(at,"LABEL",{});var Et=m(W);ae=d(Et,"INPUT",{type:!0,name:!0}),Ae=S(Et,`
              ignored`),Et.forEach(c),at.forEach(c),ht.forEach(c),Ce=k(Oe),ne=d(Oe,"DIV",{});var _t=m(ne);Z=d(_t,"BR",{}),re=k(_t),x=d(_t,"BUTTON",{type:!0,class:!0});var Lt=m(x);Ve=S(Lt,"Search"),Lt.forEach(c),_t.forEach(c),Oe.forEach(c),lt.forEach(c),Ee=k(Ge),F=d(Ge,"DIV",{});var qe=m(F);ee=d(qe,"H2",{});var Tt=m(ee);Ne=S(Tt,"SegmentCount: "),v=S(Tt,g),Tt.forEach(c),oe=k(qe),_e(C.$$.fragment,qe),te=k(qe),H=d(qe,"DIV",{});var ze=m(H);ve=S(ze,fe),ke=S(ze," of "),se=S(ze,be),ye=k(ze),J=d(ze,"BR",{}),Q=k(ze),De=d(ze,"BUTTON",{class:!0});var Ut=m(De);He=S(Ut,"prev page"),Ut.forEach(c),Te=k(ze),p=d(ze,"BUTTON",{class:!0});var At=m(p);$=S(At,"next page"),At.forEach(c),ze.forEach(c),Fe=k(qe),_e(we.$$.fragment,qe),Pe=k(qe),Me=d(qe,"DIV",{});var Vt=m(Me);Ie=d(Vt,"SUB",{});var gt=m(Ie);et=S(gt,"(Loadtime: "),Ze=S(gt,Qe),tt=S(gt,"ms)"),gt.forEach(c),Vt.forEach(c),qe.forEach(c),st=k(Ge),_e(Re.$$.fragment,Ge),Ge.forEach(c),ut.forEach(c),this.h()},h(){document.title="Browse | SponsorBlockControl",h(u,"for","videoid"),h(L,"for","service"),V.__value="youtube",V.value=V.__value,h(U,"id","service"),h(U,"name","service"),s[3]===void 0&&is(()=>s[17].call(U)),h(O,"type","checkbox"),h(O,"name","locked"),h(ce,"type","checkbox"),h(ce,"name","hidden"),h(ae,"type","checkbox"),h(ae,"name","ignored"),h(G,"class","filters svelte-1z0tix8"),h(x,"type","submit"),h(x,"class","svelte-1z0tix8"),h(i,"class","filters svelte-1z0tix8"),De.disabled=s[6],h(De,"class","svelte-1z0tix8"),p.disabled=s[5],h(p,"class","svelte-1z0tix8"),h(l,"class","container")},m(B,de){j(B,e,de),j(B,t,de),a(t,l),a(l,n),a(n,i),a(i,r),a(r,u),a(u,o),a(r,_),a(r,D),ge(P,r,null),a(i,I),a(i,E),a(E,L),a(L,w),a(E,M),a(E,A),a(E,U),a(U,V),a(V,$e),zt(U,s[3]),a(i,le),a(i,R),a(R,Be),a(R,X),a(R,z),a(R,G),a(G,K),a(K,O),O.checked=s[7],a(K,Le),a(G,N),a(G,y),a(y,ce),ce.checked=s[8],a(y,ue),a(G,he),a(G,W),a(W,ae),ae.checked=s[9],a(W,Ae),a(i,Ce),a(i,ne),a(ne,Z),a(ne,re),a(ne,x),a(x,Ve),a(l,Ee),a(l,F),a(F,ee),a(ee,Ne),a(ee,v),a(F,oe),ge(C,F,null),a(F,te),a(F,H),a(H,ve),a(H,ke),a(H,se),a(H,ye),a(H,J),a(H,Q),a(H,De),a(De,He),a(H,Te),a(H,p),a(p,$),a(F,Fe),ge(we,F,null),a(F,Pe),a(F,Me),a(Me,Ie),a(Ie,et),a(Ie,Ze),a(Ie,tt),a(l,st),ge(Re,l,null),Ue=!0,Ye||(it=[je(U,"change",s[17]),je(O,"change",s[18]),je(ce,"change",s[19]),je(ae,"change",s[20]),je(x,"click",s[21]),je(n,"submit",cs(s[14])),je(De,"click",s[22]),je(p,"click",s[23])],Ye=!0)},p(B,[de]){const ut={};!ie&&de&16&&(ie=!0,ut.value=B[4],us(()=>ie=!1)),P.$set(ut),de&8&&zt(U,B[3]),de&128&&(O.checked=B[7]),de&256&&(ce.checked=B[8]),de&512&&(ae.checked=B[9]),(!Ue||de&4)&&g!==(g=B[2].segmentCount+"")&&Se(v,g);const Ge={};de&4096&&(Ge.segments=B[12]),C.$set(Ge),(!Ue||de&1)&&fe!==(fe=B[0]+1+"")&&Se(ve,fe),(!Ue||de&4)&&be!==(be=Math.ceil(B[2].segmentCount/bt)+"")&&Se(se,be),(!Ue||de&64)&&(De.disabled=B[6]),(!Ue||de&32)&&(p.disabled=B[5]);const lt={};de&1&&(lt.current=B[0]+1),de&2&&(lt.last=B[1]+1),we.$set(lt),(!Ue||de&1024)&&Qe!==(Qe=Math.round(B[10])+"")&&Se(Ze,Qe);const Oe={};de&2048&&(Oe.status=B[11]),Re.$set(Oe)},i(B){Ue||(q(P.$$.fragment,B),q(C.$$.fragment,B),q(we.$$.fragment,B),q(Re.$$.fragment,B),Ue=!0)},o(B){Y(P.$$.fragment,B),Y(C.$$.fragment,B),Y(we.$$.fragment,B),Y(Re.$$.fragment,B),Ue=!1},d(B){B&&c(e),B&&c(t),pe(P),pe(C),pe(we),pe(Re),Ye=!1,Ot(it)}}}let Fs=0;const bt=10;function Ys(s,e,t){let l,n;jt(s,hs,N=>t(24,n=N));let i="youtube",r="",u=0,o=!1,_=!0,D=0,P=-2,ie=1/0,I=1/0,E=!0,L=!0,w=!0,M=0,A={segmentCount:0,page:0,segments:[]},U=mt.IDLE;fs(async()=>{const N=new URLSearchParams(window.location.search);N.has("videoID")&&(t(4,r=N.get("videoID")),await V())});async function V(N=0){console.log("Sending fetch request"),t(11,U=mt.WORKING);const y=new URLSearchParams;y.append("videoID",r),y.append("service",i),y.append("page",N.toString()),y.append("minVotes",P.toString()),y.append("maxVotes",ie.toString()),y.append("minViews",Fs.toString()),y.append("maxViews",I.toString()),y.append("locked",E.toString()),y.append("hidden",L.toString()),y.append("ignored",w.toString());const ce=performance.now(),ue=await fetch(`${n.sponsorBlockApi}/api/searchSegments?${y}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(t(10,M=performance.now()-ce),ue.status===200){t(11,U=mt.SUCCESS);const he=await ue.json();t(2,A.segmentCount=he.segmentCount,A),t(2,A.page=he.page,A),t(2,A.segments=[...he.segments].map(W=>(W.duration=W.endTime-W.startTime,W.videoID=r,W)),A)}else t(2,A.segmentCount=0,A),t(2,A.page=0,A),t(2,A.segments=[],A),ue.status===400&&t(11,U=mt.ERROR_INVALID),ue.status===404&&t(11,U=mt.NOT_FOUND)}async function $e(){_s(`./browse/?videoID=${r}`)}async function le(N){const y=N.detail.page-1;console.log("paginationHandler",y),await V(y),t(0,u=y)}function R(N){r=N,t(4,r)}function Be(){i=ds(this),t(3,i)}function X(){E=this.checked,t(7,E)}function z(){L=this.checked,t(8,L)}function G(){w=this.checked,t(9,w)}const K=async()=>await V(0),O=()=>V(t(0,u=Math.max(0,u-1))),Le=()=>V(t(0,u=Math.min(Math.floor(A.segmentCount/bt),u+1)));return s.$$.update=()=>{s.$$.dirty&4&&t(1,D=Math.floor(A.segmentCount/bt)),s.$$.dirty&3&&t(5,o=u===D),s.$$.dirty&1&&t(6,_=u===0),s.$$.dirty&4&&t(12,l=[...A.segments])},[u,D,A,i,r,o,_,E,L,w,M,U,l,V,$e,le,R,Be,X,z,G,K,O,Le]}class xs extends nt{constructor(e){super();rt(this,e,Ys,zs,ot,{})}}export{xs as default};
