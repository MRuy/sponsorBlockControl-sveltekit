import{S as nt,i as rt,s as ot,e as f,t as b,c as d,a as m,g as S,d as u,b as h,G as Xe,f as j,E as a,h as Se,F as Je,H as je,N as Zt,aa as Ht,Q as xt,R as es,T as ts,x as q,u as Y,B as Pt,a9 as Mt,ab as ss,j as me,k as T,m as _e,n as k,o as ge,ac as Ke,r as Rt,w as Ot,v as ve,U as jt,J as kt,l as vt,I as qt,ad as ls,a3 as as,a4 as ns,P as rs,$ as os,a1 as zt,a8 as is,a5 as us,A as cs,a2 as fs}from"../chunks/vendor-9fc4b0a7.js";import{c as ds,C as hs}from"../chunks/stores-1663c3e2.js";import{a as ms,S as mt}from"../chunks/Status-8cfdcd76.js";import{g as _s}from"../chunks/navigation-51f4a605.js";import{p as gs}from"../chunks/stores-219cd492.js";import{V as vs}from"../chunks/VideoInput-7034189d.js";import"../chunks/singletons-12a22614.js";function ps(s){let e,t,l,n,i,o=s[1].toString().padStart(2,"0")+"",c,r,_,I=s[2].toString().padStart(2,"0")+"",V,ce,w,C;return{c(){e=f("span"),t=f("span"),l=b(s[0]),n=b(":"),i=f("span"),c=b(o),r=b(":"),_=f("span"),V=b(I),ce=b("."),w=f("span"),C=b(s[3]),this.h()},l(A){e=d(A,"SPAN",{class:!0});var D=m(e);t=d(D,"SPAN",{class:!0});var H=m(t);l=S(H,s[0]),n=S(H,":"),H.forEach(u),i=d(D,"SPAN",{class:!0});var ae=m(i);c=S(ae,o),r=S(ae,":"),ae.forEach(u),_=d(D,"SPAN",{class:!0});var E=m(_);V=S(E,I),ce=S(E,"."),E.forEach(u),w=d(D,"SPAN",{class:!0});var N=m(w);C=S(N,s[3]),N.forEach(u),D.forEach(u),this.h()},h(){h(t,"class","svelte-58feot"),Xe(t,"inactive",s[0]===0),h(i,"class","svelte-58feot"),Xe(i,"inactive",s[1]===0),h(_,"class",""),h(w,"class","milliseconds svelte-58feot"),h(e,"class","time svelte-58feot")},m(A,D){j(A,e,D),a(e,t),a(t,l),a(t,n),a(e,i),a(i,c),a(i,r),a(e,_),a(_,V),a(_,ce),a(e,w),a(w,C)},p(A,[D]){D&1&&Se(l,A[0]),D&1&&Xe(t,"inactive",A[0]===0),D&2&&o!==(o=A[1].toString().padStart(2,"0")+"")&&Se(c,o),D&2&&Xe(i,"inactive",A[1]===0),D&4&&I!==(I=A[2].toString().padStart(2,"0")+"")&&Se(V,I),D&8&&Se(C,A[3])},i:Je,o:Je,d(A){A&&u(e)}}}let Dt=3;function bs(s,e,t){let{value:l=0}=e,n=0,i=0,o=0,c="0";return s.$$set=r=>{"value"in r&&t(4,l=r.value)},s.$$.update=()=>{if(s.$$.dirty&16){let r=Number(l),_=r.toString();t(3,c="0".repeat(Dt)),_.includes(".")&&t(3,c=_.split(".")[1].padEnd(Dt,"0").slice(0,Dt)),r=Math.floor(l),t(0,n=Math.floor(r/3600)),t(1,i=Math.floor(r/60%60)),t(2,o=Math.floor(r%60))}},[n,i,o,c,l]}class It extends nt{constructor(e){super();rt(this,e,bs,ps,ot,{value:4})}}function Ft(s){let e,t;return{c(){e=f("div"),t=b("Copied!"),this.h()},l(l){e=d(l,"DIV",{class:!0});var n=m(e);t=S(n,"Copied!"),n.forEach(u),this.h()},h(){h(e,"class","success svelte-1f7dggz")},m(l,n){j(l,e,n),a(e,t)},d(l){l&&u(e)}}}function Ss(s){let e,t,l,n,i=s[1]&&Ft();return{c(){e=f("button"),i&&i.c(),t=b(`
  \u2702`),this.h()},l(o){e=d(o,"BUTTON",{title:!0,class:!0});var c=m(e);i&&i.l(c),t=S(c,`
  \u2702`),c.forEach(u),this.h()},h(){h(e,"title",s[0]),h(e,"class","svelte-1f7dggz")},m(o,c){j(o,e,c),i&&i.m(e,null),a(e,t),l||(n=je(e,"click",s[4]),l=!0)},p(o,[c]){o[1]?i||(i=Ft(),i.c(),i.m(e,t)):i&&(i.d(1),i=null),c&1&&h(e,"title",o[0])},i:Je,o:Je,d(o){o&&u(e),i&&i.d(),l=!1,n()}}}function $s(s,e,t){let{value:l=""}=e,{title:n="Copy to clipboard"}=e,i=!1;function o(){navigator.clipboard.writeText(l).then(()=>{console.log("Copied to clipboard"),t(1,i=!0),setTimeout(r=>{t(1,i=!1)},2e3)},r=>{console.log("Failed to copy into clipboard",r)})}const c=r=>o();return s.$$set=r=>{"value"in r&&t(3,l=r.value),"title"in r&&t(0,n=r.title)},[n,i,o,l,c]}class Yt extends nt{constructor(e){super();rt(this,e,$s,Ss,ot,{value:3,title:0})}}function Es(s){let e,t,l,n,i,o;const c=s[5].default,r=Zt(c,s,s[4],null);return{c(){e=f("span"),r&&r.c(),this.h()},l(_){e=d(_,"SPAN",{class:!0,title:!0});var I=m(e);r&&r.l(I),I.forEach(u),this.h()},h(){h(e,"class",t=""+(Ht(`header ${s[3].class}`)+" svelte-1s8upei")),h(e,"title",l=`Sort by ${s[0]}`),Xe(e,"active",s[2]===s[0]),Xe(e,"sort--asc",s[1]==="ASC")},m(_,I){j(_,e,I),r&&r.m(e,null),n=!0,i||(o=je(e,"click",s[6]),i=!0)},p(_,[I]){r&&r.p&&(!n||I&16)&&xt(r,c,_,_[4],n?ts(c,_[4],I,null):es(_[4]),null),(!n||I&8&&t!==(t=""+(Ht(`header ${_[3].class}`)+" svelte-1s8upei")))&&h(e,"class",t),(!n||I&1&&l!==(l=`Sort by ${_[0]}`))&&h(e,"title",l),I&13&&Xe(e,"active",_[2]===_[0]),I&10&&Xe(e,"sort--asc",_[1]==="ASC")},i(_){n||(q(r,_),n=!0)},o(_){Y(r,_),n=!1},d(_){_&&u(e),r&&r.d(_),i=!1,o()}}}function Ts(s,e,t){let{$$slots:l={},$$scope:n}=e,{name:i}=e,{sorting:o="DESC"}=e,{current:c=""}=e;function r(_){ss.call(this,s,_)}return s.$$set=_=>{t(3,e=Pt(Pt({},e),Mt(_))),"name"in _&&t(0,i=_.name),"sorting"in _&&t(1,o=_.sorting),"current"in _&&t(2,c=_.current),"$$scope"in _&&t(4,n=_.$$scope)},e=Mt(e),[i,o,c,e,n,l,r]}class Qe extends nt{constructor(e){super();rt(this,e,Ts,Es,ot,{name:0,sorting:1,current:2})}}function Gt(s,e,t){const l=s.slice();return l[10]=e[t],l}function ks(s){let e;return{c(){e=b("Submitted")},l(t){e=S(t,"Submitted")},m(t,l){j(t,e,l)},d(t){t&&u(e)}}}function Ds(s){let e;return{c(){e=b("Start/End")},l(t){e=S(t,"Start/End")},m(t,l){j(t,e,l)},d(t){t&&u(e)}}}function Is(s){let e;return{c(){e=b("Votes")},l(t){e=S(t,"Votes")},m(t,l){j(t,e,l)},d(t){t&&u(e)}}}function ws(s){let e;return{c(){e=b("Views")},l(t){e=S(t,"Views")},m(t,l){j(t,e,l)},d(t){t&&u(e)}}}function Cs(s){let e;return{c(){e=b("Category")},l(t){e=S(t,"Category")},m(t,l){j(t,e,l)},d(t){t&&u(e)}}}function ys(s){let e;return{c(){e=b("Hidden")},l(t){e=S(t,"Hidden")},m(t,l){j(t,e,l)},d(t){t&&u(e)}}}function Bs(s){let e;return{c(){e=b("Actiontype")},l(t){e=S(t,"Actiontype")},m(t,l){j(t,e,l)},d(t){t&&u(e)}}}function As(s){let e;return{c(){e=b("ShadowHidden")},l(t){e=S(t,"ShadowHidden")},m(t,l){j(t,e,l)},d(t){t&&u(e)}}}function Ls(s){let e;return{c(){e=b("Locked")},l(t){e=S(t,"Locked")},m(t,l){j(t,e,l)},d(t){t&&u(e)}}}function Us(s){let e,t,l=s[2],n=[];for(let o=0;o<l.length;o+=1)n[o]=Kt(Gt(s,l,o));const i=o=>Y(n[o],1,1,()=>{n[o]=null});return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=vt()},l(o){for(let c=0;c<n.length;c+=1)n[c].l(o);e=vt()},m(o,c){for(let r=0;r<n.length;r+=1)n[r].m(o,c);j(o,e,c),t=!0},p(o,c){if(c&52){l=o[2];let r;for(r=0;r<l.length;r+=1){const _=Gt(o,l,r);n[r]?(n[r].p(_,c),q(n[r],1)):(n[r]=Kt(_),n[r].c(),q(n[r],1),n[r].m(e.parentNode,e))}for(Rt(),r=l.length;r<n.length;r+=1)i(r);Ot()}},i(o){if(!t){for(let c=0;c<l.length;c+=1)q(n[c]);t=!0}},o(o){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)Y(n[c]);t=!1},d(o){qt(n,o),o&&u(e)}}}function Ns(s){let e,t,l,n;return{c(){e=f("tr"),t=f("td"),l=f("div"),n=b("Loading data..."),this.h()},l(i){e=d(i,"TR",{});var o=m(e);t=d(o,"TD",{colspan:!0,class:!0});var c=m(t);l=d(c,"DIV",{class:!0});var r=m(l);n=S(r,"Loading data..."),r.forEach(u),c.forEach(u),o.forEach(u),this.h()},h(){h(l,"class","loading svelte-19x84r4"),h(t,"colspan","12"),h(t,"class","svelte-19x84r4")},m(i,o){j(i,e,o),a(e,t),a(t,l),a(l,n)},p:Je,i:Je,o:Je,d(i){i&&u(e)}}}function Jt(s){let e,t;return{c(){e=f("span"),t=b("\u274C"),this.h()},l(l){e=d(l,"SPAN",{class:!0,title:!0});var n=m(e);t=S(n,"\u274C"),n.forEach(u),this.h()},h(){h(e,"class","removed svelte-19x84r4"),h(e,"title","Segment removed")},m(l,n){j(l,e,n),a(e,t)},d(l){l&&u(e)}}}function Vs(s){let e;return{c(){e=b("\u2014")},l(t){e=S(t,"\u2014")},m(t,l){j(t,e,l)},d(t){t&&u(e)}}}function Hs(s){let e,t;return{c(){e=f("span"),t=b("\u{1F512}"),this.h()},l(l){e=d(l,"SPAN",{class:!0,title:!0});var n=m(e);t=S(n,"\u{1F512}"),n.forEach(u),this.h()},h(){h(e,"class","locked svelte-19x84r4"),h(e,"title","Locked by VIP/Moderator")},m(l,n){j(l,e,n),a(e,t)},d(l){l&&u(e)}}}function Kt(s){let e,t,l=Qt(s[10].timeSubmitted)+"",n,i,o,c,r,_,I,V,ce,w,C,A,D,H,ae=s[10].votes+"",E,N,W,ne=s[10].views+"",R,Be,X,z,G=s[10].category+"",J,O,Ae,Z,U=(s[10].hidden||"\u2014")+"",L,$e,fe,re=(s[10].actionType in s[4]?s[4][s[10].actionType]:s[10].actionType)+"",M,Ue,Ce,oe=(s[10].shadowHidden||"\u2014")+"",x,ie,ee,Ne,Ee,F,te=s[10].UUID+"",Ve,g,p,ue,y,se,P,de=s[10].userID+"",pe,ke,be,le,ye,K;r=new It({props:{value:s[10].startTime}}),I=new It({props:{value:s[10].endTime}}),C=new It({props:{value:s[10].endTime-s[10].startTime}});let Q=s[10].votes<-1&&Jt();function De(v,$){return v[10].locked?Hs:Vs}let He=De(s),Te=He(s);return ue=new Yt({props:{value:s[10].UUID}}),le=new Yt({props:{value:s[10].userID}}),{c(){e=f("tr"),t=f("td"),n=b(l),i=T(),o=f("td"),c=f("a"),me(r.$$.fragment),_=f("br"),me(I.$$.fragment),ce=T(),w=f("td"),me(C.$$.fragment),A=T(),D=f("td"),Q&&Q.c(),H=T(),E=b(ae),N=T(),W=f("td"),R=b(ne),Be=T(),X=f("td"),z=f("span"),J=b(G),Ae=T(),Z=f("td"),L=b(U),$e=T(),fe=f("td"),M=b(re),Ue=T(),Ce=f("td"),x=b(oe),ie=T(),ee=f("td"),Te.c(),Ne=T(),Ee=f("td"),F=f("span"),Ve=b(te),g=f("br"),p=T(),me(ue.$$.fragment),y=T(),se=f("td"),P=f("span"),pe=b(de),ke=f("br"),be=T(),me(le.$$.fragment),ye=T(),this.h()},l(v){e=d(v,"TR",{});var $=m(e);t=d($,"TD",{class:!0});var Fe=m(t);n=S(Fe,l),Fe.forEach(u),i=k($),o=d($,"TD",{class:!0});var Ie=m(o);c=d(Ie,"A",{href:!0,class:!0});var Pe=m(c);_e(r.$$.fragment,Pe),_=d(Pe,"BR",{}),_e(I.$$.fragment,Pe),Pe.forEach(u),Ie.forEach(u),ce=k($),w=d($,"TD",{class:!0});var Me=m(w);_e(C.$$.fragment,Me),Me.forEach(u),A=k($),D=d($,"TD",{class:!0});var we=m(D);Q&&Q.l(we),H=k(we),E=S(we,ae),we.forEach(u),N=k($),W=d($,"TD",{class:!0});var et=m(W);R=S(et,ne),et.forEach(u),Be=k($),X=d($,"TD",{class:!0});var We=m(X);z=d(We,"SPAN",{class:!0,style:!0});var Ze=m(z);J=S(Ze,G),Ze.forEach(u),We.forEach(u),Ae=k($),Z=d($,"TD",{class:!0});var tt=m(Z);L=S(tt,U),tt.forEach(u),$e=k($),fe=d($,"TD",{class:!0});var st=m(fe);M=S(st,re),st.forEach(u),Ue=k($),Ce=d($,"TD",{class:!0});var Re=m(Ce);x=S(Re,oe),Re.forEach(u),ie=k($),ee=d($,"TD",{class:!0});var Le=m(ee);Te.l(Le),Le.forEach(u),Ne=k($),Ee=d($,"TD",{class:!0});var Ye=m(Ee);F=d(Ye,"SPAN",{class:!0});var it=m(F);Ve=S(it,te),it.forEach(u),g=d(Ye,"BR",{}),p=k(Ye),_e(ue.$$.fragment,Ye),Ye.forEach(u),y=k($),se=d($,"TD",{class:!0});var xe=m(se);P=d(xe,"SPAN",{class:!0});var ut=m(P);pe=S(ut,de),ut.forEach(u),ke=d(xe,"BR",{}),be=k(xe),_e(le.$$.fragment,xe),xe.forEach(u),ye=k($),$.forEach(u),this.h()},h(){h(t,"class","cell-text svelte-19x84r4"),h(c,"href",V=`https://www.youtube.com/watch?v=${s[10].videoID}${s[10].startTime>2?`&t=${Math.floor(Math.max(0,s[10].startTime-2))}s`:""}#requiredSegment=${s[10].UUID}`),h(c,"class","svelte-19x84r4"),h(o,"class","cell-number svelte-19x84r4"),h(w,"class","cell-number svelte-19x84r4"),h(D,"class","cell-number nowrap svelte-19x84r4"),h(W,"class","cell-number svelte-19x84r4"),h(z,"class","category svelte-19x84r4"),h(z,"style",O=`background-color:${s[5](s[10].category)}`),h(X,"class","cell-text svelte-19x84r4"),h(Z,"class","cell-text svelte-19x84r4"),h(fe,"class","cell-text svelte-19x84r4"),h(Ce,"class","cell-text svelte-19x84r4"),h(ee,"class","cell-text svelte-19x84r4"),h(F,"class","wordbreak wordbreak--uuid svelte-19x84r4"),h(Ee,"class","cell-text svelte-19x84r4"),h(P,"class","wordbreak wordbreak--uuid svelte-19x84r4"),h(se,"class","cell-text svelte-19x84r4")},m(v,$){j(v,e,$),a(e,t),a(t,n),a(e,i),a(e,o),a(o,c),ge(r,c,null),a(c,_),ge(I,c,null),a(e,ce),a(e,w),ge(C,w,null),a(e,A),a(e,D),Q&&Q.m(D,null),a(D,H),a(D,E),a(e,N),a(e,W),a(W,R),a(e,Be),a(e,X),a(X,z),a(z,J),a(e,Ae),a(e,Z),a(Z,L),a(e,$e),a(e,fe),a(fe,M),a(e,Ue),a(e,Ce),a(Ce,x),a(e,ie),a(e,ee),Te.m(ee,null),a(e,Ne),a(e,Ee),a(Ee,F),a(F,Ve),a(Ee,g),a(Ee,p),ge(ue,Ee,null),a(e,y),a(e,se),a(se,P),a(P,pe),a(se,ke),a(se,be),ge(le,se,null),a(e,ye),K=!0},p(v,$){(!K||$&4)&&l!==(l=Qt(v[10].timeSubmitted)+"")&&Se(n,l);const Fe={};$&4&&(Fe.value=v[10].startTime),r.$set(Fe);const Ie={};$&4&&(Ie.value=v[10].endTime),I.$set(Ie),(!K||$&4&&V!==(V=`https://www.youtube.com/watch?v=${v[10].videoID}${v[10].startTime>2?`&t=${Math.floor(Math.max(0,v[10].startTime-2))}s`:""}#requiredSegment=${v[10].UUID}`))&&h(c,"href",V);const Pe={};$&4&&(Pe.value=v[10].endTime-v[10].startTime),C.$set(Pe),v[10].votes<-1?Q||(Q=Jt(),Q.c(),Q.m(D,H)):Q&&(Q.d(1),Q=null),(!K||$&4)&&ae!==(ae=v[10].votes+"")&&Se(E,ae),(!K||$&4)&&ne!==(ne=v[10].views+"")&&Se(R,ne),(!K||$&4)&&G!==(G=v[10].category+"")&&Se(J,G),(!K||$&4&&O!==(O=`background-color:${v[5](v[10].category)}`))&&h(z,"style",O),(!K||$&4)&&U!==(U=(v[10].hidden||"\u2014")+"")&&Se(L,U),(!K||$&4)&&re!==(re=(v[10].actionType in v[4]?v[4][v[10].actionType]:v[10].actionType)+"")&&Se(M,re),(!K||$&4)&&oe!==(oe=(v[10].shadowHidden||"\u2014")+"")&&Se(x,oe),He!==(He=De(v))&&(Te.d(1),Te=He(v),Te&&(Te.c(),Te.m(ee,null))),(!K||$&4)&&te!==(te=v[10].UUID+"")&&Se(Ve,te);const Me={};$&4&&(Me.value=v[10].UUID),ue.$set(Me),(!K||$&4)&&de!==(de=v[10].userID+"")&&Se(pe,de);const we={};$&4&&(we.value=v[10].userID),le.$set(we)},i(v){K||(q(r.$$.fragment,v),q(I.$$.fragment,v),q(C.$$.fragment,v),q(ue.$$.fragment,v),q(le.$$.fragment,v),K=!0)},o(v){Y(r.$$.fragment,v),Y(I.$$.fragment,v),Y(C.$$.fragment,v),Y(ue.$$.fragment,v),Y(le.$$.fragment,v),K=!1},d(v){v&&u(e),ve(r),ve(I),ve(C),Q&&Q.d(),Te.d(),ve(ue),ve(le)}}}function Ps(s){let e,t,l,n,i,o,c,r,_,I,V,ce,w,C,A,D,H,ae,E,N,W,ne,R,Be,X,z,G,J,O,Ae,Z,U,L,$e,fe,re,M,Ue,Ce,oe,x,ie,ee,Ne,Ee;i=new Qe({props:{sortBy:"timeSubmitted",name:"timeSubmitted",sorting:s[0],current:s[3],$$slots:{default:[ks]},$$scope:{ctx:s}}}),r=new Qe({props:{name:"startTime",sorting:s[0],current:s[3],$$slots:{default:[Ds]},$$scope:{ctx:s}}}),C=new Qe({props:{name:"votes",sorting:s[0],current:s[3],$$slots:{default:[Is]},$$scope:{ctx:s}}}),H=new Qe({props:{name:"views",sorting:s[0],current:s[3],$$slots:{default:[ws]},$$scope:{ctx:s}}}),N=new Qe({props:{name:"category",sorting:s[0],current:s[3],$$slots:{default:[Cs]},$$scope:{ctx:s}}}),R=new Qe({props:{name:"hidden",sorting:s[0],current:s[3],$$slots:{default:[ys]},$$scope:{ctx:s}}}),z=new Qe({props:{name:"hidden",sorting:s[0],current:s[3],$$slots:{default:[Bs]},$$scope:{ctx:s}}}),O=new Qe({props:{name:"shadowHidden",sorting:s[0],current:s[3],$$slots:{default:[As]},$$scope:{ctx:s}}}),U=new Qe({props:{name:"locked",sorting:s[0],current:s[3],$$slots:{default:[Ls]},$$scope:{ctx:s}}});const F=[Ns,Us],te=[];function Ve(g,p){return g[1]?0:1}return x=Ve(s),ie=te[x]=F[x](s),{c(){e=f("table"),t=f("thead"),l=f("tr"),n=f("th"),me(i.$$.fragment),o=T(),c=f("th"),me(r.$$.fragment),_=T(),I=f("th"),V=b("Length"),ce=T(),w=f("th"),me(C.$$.fragment),A=T(),D=f("th"),me(H.$$.fragment),ae=T(),E=f("th"),me(N.$$.fragment),W=T(),ne=f("th"),me(R.$$.fragment),Be=T(),X=f("th"),me(z.$$.fragment),G=T(),J=f("th"),me(O.$$.fragment),Ae=T(),Z=f("th"),me(U.$$.fragment),L=T(),$e=f("th"),fe=b("UUID"),re=T(),M=f("th"),Ue=b("Submitter UUID"),Ce=T(),oe=f("tbody"),ie.c(),this.h()},l(g){e=d(g,"TABLE",{class:!0});var p=m(e);t=d(p,"THEAD",{class:!0});var ue=m(t);l=d(ue,"TR",{});var y=m(l);n=d(y,"TH",{class:!0,"data-sortby":!0});var se=m(n);_e(i.$$.fragment,se),se.forEach(u),o=k(y),c=d(y,"TH",{class:!0,"data-sortby":!0});var P=m(c);_e(r.$$.fragment,P),P.forEach(u),_=k(y),I=d(y,"TH",{class:!0});var de=m(I);V=S(de,"Length"),de.forEach(u),ce=k(y),w=d(y,"TH",{class:!0,"data-sortby":!0});var pe=m(w);_e(C.$$.fragment,pe),pe.forEach(u),A=k(y),D=d(y,"TH",{class:!0,"data-sortby":!0});var ke=m(D);_e(H.$$.fragment,ke),ke.forEach(u),ae=k(y),E=d(y,"TH",{class:!0,"data-sortby":!0});var be=m(E);_e(N.$$.fragment,be),be.forEach(u),W=k(y),ne=d(y,"TH",{class:!0,"data-sortby":!0});var le=m(ne);_e(R.$$.fragment,le),le.forEach(u),Be=k(y),X=d(y,"TH",{class:!0,"data-sortby":!0});var ye=m(X);_e(z.$$.fragment,ye),ye.forEach(u),G=k(y),J=d(y,"TH",{class:!0,"data-sortby":!0});var K=m(J);_e(O.$$.fragment,K),K.forEach(u),Ae=k(y),Z=d(y,"TH",{class:!0,"data-sortby":!0});var Q=m(Z);_e(U.$$.fragment,Q),Q.forEach(u),L=k(y),$e=d(y,"TH",{class:!0});var De=m($e);fe=S(De,"UUID"),De.forEach(u),re=k(y),M=d(y,"TH",{class:!0});var He=m(M);Ue=S(He,"Submitter UUID"),He.forEach(u),y.forEach(u),ue.forEach(u),Ce=k(p),oe=d(p,"TBODY",{});var Te=m(oe);ie.l(Te),Te.forEach(u),p.forEach(u),this.h()},h(){h(n,"class","cell-text svelte-19x84r4"),h(n,"data-sortby","timeSubmitted"),h(c,"class","cell-number svelte-19x84r4"),h(c,"data-sortby","startTime"),h(I,"class","cell-number svelte-19x84r4"),h(w,"class","cell-number svelte-19x84r4"),h(w,"data-sortby","votes"),h(D,"class","cell-number svelte-19x84r4"),h(D,"data-sortby","views"),h(E,"class","cell-text svelte-19x84r4"),h(E,"data-sortby","category"),h(ne,"class","cell-number svelte-19x84r4"),h(ne,"data-sortby","hidden"),h(X,"class","cell-text svelte-19x84r4"),h(X,"data-sortby","actiontype"),h(J,"class","cell-number svelte-19x84r4"),h(J,"data-sortby","shadowHidden"),h(Z,"class","cell-number svelte-19x84r4"),h(Z,"data-sortby","locked"),h($e,"class","cell-text svelte-19x84r4"),h(M,"class","cell-text svelte-19x84r4"),h(t,"class","svelte-19x84r4"),h(e,"class","svelte-19x84r4")},m(g,p){j(g,e,p),a(e,t),a(t,l),a(l,n),ge(i,n,null),a(l,o),a(l,c),ge(r,c,null),a(l,_),a(l,I),a(I,V),a(l,ce),a(l,w),ge(C,w,null),a(l,A),a(l,D),ge(H,D,null),a(l,ae),a(l,E),ge(N,E,null),a(l,W),a(l,ne),ge(R,ne,null),a(l,Be),a(l,X),ge(z,X,null),a(l,G),a(l,J),ge(O,J,null),a(l,Ae),a(l,Z),ge(U,Z,null),a(l,L),a(l,$e),a($e,fe),a(l,re),a(l,M),a(M,Ue),a(e,Ce),a(e,oe),te[x].m(oe,null),ee=!0,Ne||(Ee=[Ke(s[6].call(null,n)),Ke(s[6].call(null,c)),Ke(s[6].call(null,w)),Ke(s[6].call(null,D)),Ke(s[6].call(null,E)),Ke(s[6].call(null,ne)),Ke(s[6].call(null,X)),Ke(s[6].call(null,J)),Ke(s[6].call(null,Z))],Ne=!0)},p(g,[p]){const ue={};p&1&&(ue.sorting=g[0]),p&8&&(ue.current=g[3]),p&8192&&(ue.$$scope={dirty:p,ctx:g}),i.$set(ue);const y={};p&1&&(y.sorting=g[0]),p&8&&(y.current=g[3]),p&8192&&(y.$$scope={dirty:p,ctx:g}),r.$set(y);const se={};p&1&&(se.sorting=g[0]),p&8&&(se.current=g[3]),p&8192&&(se.$$scope={dirty:p,ctx:g}),C.$set(se);const P={};p&1&&(P.sorting=g[0]),p&8&&(P.current=g[3]),p&8192&&(P.$$scope={dirty:p,ctx:g}),H.$set(P);const de={};p&1&&(de.sorting=g[0]),p&8&&(de.current=g[3]),p&8192&&(de.$$scope={dirty:p,ctx:g}),N.$set(de);const pe={};p&1&&(pe.sorting=g[0]),p&8&&(pe.current=g[3]),p&8192&&(pe.$$scope={dirty:p,ctx:g}),R.$set(pe);const ke={};p&1&&(ke.sorting=g[0]),p&8&&(ke.current=g[3]),p&8192&&(ke.$$scope={dirty:p,ctx:g}),z.$set(ke);const be={};p&1&&(be.sorting=g[0]),p&8&&(be.current=g[3]),p&8192&&(be.$$scope={dirty:p,ctx:g}),O.$set(be);const le={};p&1&&(le.sorting=g[0]),p&8&&(le.current=g[3]),p&8192&&(le.$$scope={dirty:p,ctx:g}),U.$set(le);let ye=x;x=Ve(g),x===ye?te[x].p(g,p):(Rt(),Y(te[ye],1,1,()=>{te[ye]=null}),Ot(),ie=te[x],ie?ie.p(g,p):(ie=te[x]=F[x](g),ie.c()),q(ie,1),ie.m(oe,null))},i(g){ee||(q(i.$$.fragment,g),q(r.$$.fragment,g),q(C.$$.fragment,g),q(H.$$.fragment,g),q(N.$$.fragment,g),q(R.$$.fragment,g),q(z.$$.fragment,g),q(O.$$.fragment,g),q(U.$$.fragment,g),q(ie),ee=!0)},o(g){Y(i.$$.fragment,g),Y(r.$$.fragment,g),Y(C.$$.fragment,g),Y(H.$$.fragment,g),Y(N.$$.fragment,g),Y(R.$$.fragment,g),Y(z.$$.fragment,g),Y(O.$$.fragment,g),Y(U.$$.fragment,g),Y(ie),ee=!1},d(g){g&&u(e),ve(i),ve(r),ve(C),ve(H),ve(N),ve(R),ve(z),ve(O),ve(U),te[x].d(),Ne=!1,jt(Ee)}}}const wt="ASC",pt="DESC";function Qt(s){const e=new Date(s);return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")} ${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}`}function Ms(s,e,t){let l;kt(s,ds,w=>t(9,l=w));let{segments:n=[]}=e,{isLoading:i=!1}=e,{sortDirection:o="DESC"}=e,{sortBy:c="timeSubmitted"}=e,r;const _={skip:"\u23ED\uFE0F",mute:"\u{1F507}"};let I=c;o=o==="DESC"?pt:wt;function V(w){var C;return((C=l.find(A=>A.id===w))===null||C===void 0?void 0:C.color)||"transparent"}function ce(w){const C=w.getAttribute("sortBy");w.addEventListener("click",A=>{I===C?t(0,o=o===pt?wt:pt):(t(0,o=pt),t(3,I=C)),t(2,r=[...n].sort((D,H)=>D[C]===H[C]?0:D[C]>H[C]?-1:1)),o===wt&&t(2,r=[...r].reverse())})}return s.$$set=w=>{"segments"in w&&t(7,n=w.segments),"isLoading"in w&&t(1,i=w.isLoading),"sortDirection"in w&&t(0,o=w.sortDirection),"sortBy"in w&&t(8,c=w.sortBy)},s.$$.update=()=>{s.$$.dirty&128&&t(2,r=[...n])},[o,i,r,I,_,V,ce,n,c]}class Rs extends nt{constructor(e){super();rt(this,e,Ms,Ps,ot,{segments:7,isLoading:1,sortDirection:0,sortBy:8})}}function Wt(s,e,t){const l=s.slice();return l[7]=e[t],l[9]=t,l}function Xt(s){let e,t=s[9]+1+"",l,n,i,o;function c(){return s[3](s[9])}return{c(){e=f("button"),l=b(t),this.h()},l(r){e=d(r,"BUTTON",{});var _=m(e);l=S(_,t),_.forEach(u),this.h()},h(){e.disabled=n=s[0]===s[9]+1},m(r,_){j(r,e,_),a(e,l),i||(o=je(e,"click",c),i=!0)},p(r,_){s=r,_&1&&n!==(n=s[0]===s[9]+1)&&(e.disabled=n)},d(r){r&&u(e),i=!1,o()}}}function Os(s){let e,t=Array(s[1]),l=[];for(let n=0;n<t.length;n+=1)l[n]=Xt(Wt(s,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=vt()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=vt()},m(n,i){for(let o=0;o<l.length;o+=1)l[o].m(n,i);j(n,e,i)},p(n,[i]){if(i&7){t=Array(n[1]);let o;for(o=0;o<t.length;o+=1){const c=Wt(n,t,o);l[o]?l[o].p(c,i):(l[o]=Xt(c),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},i:Je,o:Je,d(n){qt(l,n),n&&u(e)}}}function js(s,e,t){let{current:l=1}=e,{last:n=1}=e;const i=ls();function o(r){i("click",{page:r})}const c=r=>o(r+1);return s.$$set=r=>{"current"in r&&t(0,l=r.current),"last"in r&&t(1,n=r.last)},s.$$.update=()=>{s.$$.dirty&3,s.$$.dirty&1},[l,n,o,c]}class qs extends nt{constructor(e){super();rt(this,e,js,Os,ot,{current:0,last:1})}}function zs(s){let e,t,l,n,i,o,c,r,_,I,V,ce,w,C,A,D,H,ae,E,N,W,ne,R,Be,X,z,G,J,O,Ae,Z,U,L,$e,fe,re,M,Ue,Ce,oe,x,ie,ee,Ne,Ee,F,te,Ve,g=s[2].segmentCount+"",p,ue,y,se,P,de=s[0]+1+"",pe,ke,be=Math.ceil(s[2].segmentCount/bt)+"",le,ye,K,Q,De,He,Te,v,$,Fe,Ie,Pe,Me,we,et,We=Math.round(s[10])+"",Ze,tt,st,Re,Le,Ye,it;function xe(B){s[16](B)}let ut={type:"text",id:"videoid",placeholder:"VideoID"};return s[4]!==void 0&&(ut.value=s[4]),V=new vs({props:ut}),as.push(()=>ns(V,"value",xe)),y=new Rs({props:{segments:s[12],isLoading:!1,sortDirection:"ASC"}}),Ie=new qs({props:{current:s[0]+1,last:s[1]+1}}),Ie.$on("click",s[15]),Re=new ms({props:{status:s[11]}}),{c(){e=T(),t=f("main"),l=f("div"),n=f("form"),i=f("div"),o=f("div"),c=f("label"),r=b("VideoID:"),_=f("br"),I=T(),me(V.$$.fragment),w=T(),C=f("div"),A=f("label"),D=b("Service:"),H=f("br"),ae=T(),E=f("select"),N=f("option"),W=b("YouTube"),ne=T(),R=f("div"),Be=b("Include:"),X=f("br"),z=T(),G=f("div"),J=f("label"),O=f("input"),Ae=b(`
              Locked`),Z=T(),U=f("label"),L=f("input"),$e=b(`
              hidden`),fe=T(),re=f("label"),M=f("input"),Ue=b(`
              ignored`),Ce=T(),oe=f("div"),x=f("br"),ie=T(),ee=f("button"),Ne=b("Search"),Ee=T(),F=f("div"),te=f("h2"),Ve=b("SegmentCount: "),p=b(g),ue=T(),me(y.$$.fragment),se=T(),P=f("div"),pe=b(de),ke=b(" of "),le=b(be),ye=T(),K=f("br"),Q=T(),De=f("button"),He=b("prev page"),Te=T(),v=f("button"),$=b("next page"),Fe=T(),me(Ie.$$.fragment),Pe=T(),Me=f("div"),we=f("sub"),et=b("(Loadtime: "),Ze=b(We),tt=b("ms)"),st=T(),me(Re.$$.fragment),this.h()},l(B){rs('[data-svelte="svelte-40ey8a"]',document.head).forEach(u),e=k(B),t=d(B,"MAIN",{});var ct=m(t);l=d(ct,"DIV",{class:!0});var Ge=m(l);n=d(Ge,"FORM",{});var lt=m(n);i=d(lt,"DIV",{class:!0});var Oe=m(i);o=d(Oe,"DIV",{});var ft=m(o);c=d(ft,"LABEL",{for:!0});var Ct=m(c);r=S(Ct,"VideoID:"),Ct.forEach(u),_=d(ft,"BR",{}),I=k(ft),_e(V.$$.fragment,ft),ft.forEach(u),w=k(Oe),C=d(Oe,"DIV",{});var dt=m(C);A=d(dt,"LABEL",{for:!0});var yt=m(A);D=S(yt,"Service:"),yt.forEach(u),H=d(dt,"BR",{}),ae=k(dt),E=d(dt,"SELECT",{id:!0,name:!0});var Bt=m(E);N=d(Bt,"OPTION",{});var At=m(N);W=S(At,"YouTube"),At.forEach(u),Bt.forEach(u),dt.forEach(u),ne=k(Oe),R=d(Oe,"DIV",{});var ht=m(R);Be=S(ht,"Include:"),X=d(ht,"BR",{}),z=k(ht),G=d(ht,"DIV",{class:!0});var at=m(G);J=d(at,"LABEL",{});var St=m(J);O=d(St,"INPUT",{type:!0,name:!0}),Ae=S(St,`
              Locked`),St.forEach(u),Z=k(at),U=d(at,"LABEL",{});var $t=m(U);L=d($t,"INPUT",{type:!0,name:!0}),$e=S($t,`
              hidden`),$t.forEach(u),fe=k(at),re=d(at,"LABEL",{});var Et=m(re);M=d(Et,"INPUT",{type:!0,name:!0}),Ue=S(Et,`
              ignored`),Et.forEach(u),at.forEach(u),ht.forEach(u),Ce=k(Oe),oe=d(Oe,"DIV",{});var _t=m(oe);x=d(_t,"BR",{}),ie=k(_t),ee=d(_t,"BUTTON",{type:!0,class:!0});var Lt=m(ee);Ne=S(Lt,"Search"),Lt.forEach(u),_t.forEach(u),Oe.forEach(u),lt.forEach(u),Ee=k(Ge),F=d(Ge,"DIV",{});var qe=m(F);te=d(qe,"H2",{});var Tt=m(te);Ve=S(Tt,"SegmentCount: "),p=S(Tt,g),Tt.forEach(u),ue=k(qe),_e(y.$$.fragment,qe),se=k(qe),P=d(qe,"DIV",{});var ze=m(P);pe=S(ze,de),ke=S(ze," of "),le=S(ze,be),ye=k(ze),K=d(ze,"BR",{}),Q=k(ze),De=d(ze,"BUTTON",{class:!0});var Ut=m(De);He=S(Ut,"prev page"),Ut.forEach(u),Te=k(ze),v=d(ze,"BUTTON",{class:!0});var Nt=m(v);$=S(Nt,"next page"),Nt.forEach(u),ze.forEach(u),Fe=k(qe),_e(Ie.$$.fragment,qe),Pe=k(qe),Me=d(qe,"DIV",{});var Vt=m(Me);we=d(Vt,"SUB",{});var gt=m(we);et=S(gt,"(Loadtime: "),Ze=S(gt,We),tt=S(gt,"ms)"),gt.forEach(u),Vt.forEach(u),qe.forEach(u),st=k(Ge),_e(Re.$$.fragment,Ge),Ge.forEach(u),ct.forEach(u),this.h()},h(){document.title="Browse | SponsorBlockControl",h(c,"for","videoid"),h(A,"for","service"),N.__value="youtube",N.value=N.__value,h(E,"id","service"),h(E,"name","service"),s[3]===void 0&&os(()=>s[17].call(E)),h(O,"type","checkbox"),h(O,"name","locked"),h(L,"type","checkbox"),h(L,"name","hidden"),h(M,"type","checkbox"),h(M,"name","ignored"),h(G,"class","filters svelte-1z0tix8"),h(ee,"type","submit"),h(ee,"class","svelte-1z0tix8"),h(i,"class","filters svelte-1z0tix8"),De.disabled=s[6],h(De,"class","svelte-1z0tix8"),v.disabled=s[5],h(v,"class","svelte-1z0tix8"),h(l,"class","container")},m(B,he){j(B,e,he),j(B,t,he),a(t,l),a(l,n),a(n,i),a(i,o),a(o,c),a(c,r),a(o,_),a(o,I),ge(V,o,null),a(i,w),a(i,C),a(C,A),a(A,D),a(C,H),a(C,ae),a(C,E),a(E,N),a(N,W),zt(E,s[3]),a(i,ne),a(i,R),a(R,Be),a(R,X),a(R,z),a(R,G),a(G,J),a(J,O),O.checked=s[7],a(J,Ae),a(G,Z),a(G,U),a(U,L),L.checked=s[8],a(U,$e),a(G,fe),a(G,re),a(re,M),M.checked=s[9],a(re,Ue),a(i,Ce),a(i,oe),a(oe,x),a(oe,ie),a(oe,ee),a(ee,Ne),a(l,Ee),a(l,F),a(F,te),a(te,Ve),a(te,p),a(F,ue),ge(y,F,null),a(F,se),a(F,P),a(P,pe),a(P,ke),a(P,le),a(P,ye),a(P,K),a(P,Q),a(P,De),a(De,He),a(P,Te),a(P,v),a(v,$),a(F,Fe),ge(Ie,F,null),a(F,Pe),a(F,Me),a(Me,we),a(we,et),a(we,Ze),a(we,tt),a(l,st),ge(Re,l,null),Le=!0,Ye||(it=[je(E,"change",s[17]),je(O,"change",s[18]),je(L,"change",s[19]),je(M,"change",s[20]),je(ee,"click",s[21]),je(n,"submit",is(s[14])),je(De,"click",s[22]),je(v,"click",s[23])],Ye=!0)},p(B,[he]){const ct={};!ce&&he&16&&(ce=!0,ct.value=B[4],us(()=>ce=!1)),V.$set(ct),he&8&&zt(E,B[3]),he&128&&(O.checked=B[7]),he&256&&(L.checked=B[8]),he&512&&(M.checked=B[9]),(!Le||he&4)&&g!==(g=B[2].segmentCount+"")&&Se(p,g);const Ge={};he&4096&&(Ge.segments=B[12]),y.$set(Ge),(!Le||he&1)&&de!==(de=B[0]+1+"")&&Se(pe,de),(!Le||he&4)&&be!==(be=Math.ceil(B[2].segmentCount/bt)+"")&&Se(le,be),(!Le||he&64)&&(De.disabled=B[6]),(!Le||he&32)&&(v.disabled=B[5]);const lt={};he&1&&(lt.current=B[0]+1),he&2&&(lt.last=B[1]+1),Ie.$set(lt),(!Le||he&1024)&&We!==(We=Math.round(B[10])+"")&&Se(Ze,We);const Oe={};he&2048&&(Oe.status=B[11]),Re.$set(Oe)},i(B){Le||(q(V.$$.fragment,B),q(y.$$.fragment,B),q(Ie.$$.fragment,B),q(Re.$$.fragment,B),Le=!0)},o(B){Y(V.$$.fragment,B),Y(y.$$.fragment,B),Y(Ie.$$.fragment,B),Y(Re.$$.fragment,B),Le=!1},d(B){B&&u(e),B&&u(t),ve(V),ve(y),ve(Ie),ve(Re),Ye=!1,jt(it)}}}let Fs=0;const bt=10;function Ys(s,e,t){let l,n,i;kt(s,hs,U=>t(24,n=U)),kt(s,gs,U=>t(25,i=U));let o="youtube",c="",r=0,_=!1,I=!0,V=0,ce=-2,w=1/0,C=1/0,A=!0,D=!0,H=!0,ae=0,E={segmentCount:0,page:0,segments:[]},N=mt.IDLE;cs(async()=>{i.query.has("videoID")&&(t(4,c=i.query.get("videoID")),await W())});async function W(U=0){console.log("Sending fetch request"),t(11,N=mt.WORKING);const L=new URLSearchParams;L.append("videoID",c),L.append("service",o),L.append("page",U.toString()),L.append("minVotes",ce.toString()),L.append("maxVotes",w.toString()),L.append("minViews",Fs.toString()),L.append("maxViews",C.toString()),L.append("locked",A.toString()),L.append("hidden",D.toString()),L.append("ignored",H.toString());const $e=performance.now(),fe=await fetch(`${n.sponsorBlockApi}/api/searchSegments?${L}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(t(10,ae=performance.now()-$e),fe.status===200){t(11,N=mt.SUCCESS);const re=await fe.json();t(2,E.segmentCount=re.segmentCount,E),t(2,E.page=re.page,E),t(2,E.segments=[...re.segments].map(M=>(M.duration=M.endTime-M.startTime,M.videoID=c,M)),E)}else t(2,E.segmentCount=0,E),t(2,E.page=0,E),t(2,E.segments=[],E),fe.status===400&&t(11,N=mt.ERROR_INVALID),fe.status===404&&t(11,N=mt.NOT_FOUND)}async function ne(){_s(`./browse/?videoID=${c}`)}async function R(U){const L=U.detail.page-1;console.log("paginationHandler",L),await W(L),t(0,r=L)}function Be(U){c=U,t(4,c)}function X(){o=fs(this),t(3,o)}function z(){A=this.checked,t(7,A)}function G(){D=this.checked,t(8,D)}function J(){H=this.checked,t(9,H)}const O=async()=>await W(0),Ae=()=>W(t(0,r=Math.max(0,r-1))),Z=()=>W(t(0,r=Math.min(Math.floor(E.segmentCount/bt),r+1)));return s.$$.update=()=>{s.$$.dirty&4&&t(1,V=Math.floor(E.segmentCount/bt)),s.$$.dirty&3&&t(5,_=r===V),s.$$.dirty&1&&t(6,I=r===0),s.$$.dirty&4&&t(12,l=[...E.segments])},[r,V,E,o,c,_,I,A,D,H,ae,N,l,W,ne,R,Be,X,z,G,J,O,Ae,Z]}class xs extends nt{constructor(e){super();rt(this,e,Ys,zs,ot,{})}}export{xs as default};
