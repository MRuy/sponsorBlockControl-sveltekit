import{S as Se,i as De,s as ye,e as i,k as S,t as P,c as r,a as f,n as D,g as z,d as u,b as c,f as ce,E as e,H as M,j as Oe,P as Re,m as Ne,G as Ue,a0 as Ee,o as Le,x as Te,u as we,I as Be,v as Ve,U as Ae,J as Ce,a6 as je}from"../chunks/vendor-9fc4b0a7.js";import{c as _e,a as qe}from"../chunks/config-8bce724e.js";import{C as Ge}from"../chunks/stores-1663c3e2.js";import{a as He}from"../chunks/utils-dd30e544.js";import{a as Pe,S as K}from"../chunks/Status-10cd6735.js";function Ie(a,o,t){const d=a.slice();return d[13]=o[t],d[15]=t,d}function ke(a){let o,t,d,p,m,v,O=qe[a[15]]+"",l,g,U,R,w;return{c(){o=i("div"),t=i("input"),m=S(),v=i("label"),l=P(O),U=S(),this.h()},l(E){o=r(E,"DIV",{class:!0});var n=f(o);t=r(n,"INPUT",{id:!0,type:!0}),m=D(n),v=r(n,"LABEL",{for:!0});var B=f(v);l=z(B,O),B.forEach(u),U=D(n),n.forEach(u),this.h()},h(){c(t,"id",d="category_"+a[13]),c(t,"type","checkbox"),t.__value=p=a[13],t.value=t.__value,a[9][0].push(t),c(v,"for",g="category_"+a[13]),c(o,"class","category-option svelte-135auq9")},m(E,n){ce(E,o,n),e(o,t),t.checked=~a[2].indexOf(t.__value),e(o,m),e(o,v),e(v,l),e(o,U),R||(w=M(t,"change",a[8]),R=!0)},p(E,n){n&4&&(t.checked=~E[2].indexOf(t.__value))},d(E){E&&u(o),a[9][0].splice(a[9][0].indexOf(t),1),R=!1,w()}}}function ze(a){let o,t,d,p,m,v,O,l,g,U,R,w,E,n,B,I,b,q,V,ee,te,y,J,se,ae,Z,le,A,N,ne,Q,oe,L,ie,X,re,C,G,ue,he,W=_e,h=[];for(let s=0;s<W.length;s+=1)h[s]=ke(Ie(a,W,s));return C=new Pe({props:{status:a[4]}}),{c(){o=S(),t=i("main"),d=i("div"),p=i("fieldset"),m=i("legend"),v=P("Shadow ban user:"),O=S(),l=i("div"),g=i("div"),U=i("label"),R=P("User UUID:"),w=i("br"),E=S(),n=i("input"),B=S(),I=i("div"),b=i("input"),q=S(),V=i("label"),ee=P("Hide/Restore old submissions"),te=S(),y=i("div"),J=i("div"),se=P("Categories to hide:"),ae=S();for(let s=0;s<h.length;s+=1)h[s].c();le=S(),A=i("div"),N=i("button"),ne=P("Unban"),oe=S(),L=i("button"),ie=P("Ban"),re=S(),Oe(C.$$.fragment),this.h()},l(s){Re('[data-svelte="svelte-16ud56z"]',document.head).forEach(u),o=D(s),t=r(s,"MAIN",{});var T=f(t);d=r(T,"DIV",{class:!0});var _=f(d);p=r(_,"FIELDSET",{});var H=f(p);m=r(H,"LEGEND",{});var fe=f(m);v=z(fe,"Shadow ban user:"),fe.forEach(u),O=D(H),l=r(H,"DIV",{class:!0});var j=f(l);g=r(j,"DIV",{});var F=f(g);U=r(F,"LABEL",{for:!0});var pe=f(U);R=z(pe,"User UUID:"),pe.forEach(u),w=r(F,"BR",{}),E=D(F),n=r(F,"INPUT",{id:!0,type:!0,size:!0,placeholder:!0}),F.forEach(u),B=D(j),I=r(j,"DIV",{});var Y=f(I);b=r(Y,"INPUT",{id:!0,type:!0}),q=D(Y),V=r(Y,"LABEL",{for:!0});var ve=f(V);ee=z(ve,"Hide/Restore old submissions"),ve.forEach(u),Y.forEach(u),te=D(j),y=r(j,"DIV",{class:!0});var $=f(y);J=r($,"DIV",{});var be=f(J);se=z(be,"Categories to hide:"),be.forEach(u),ae=D($);for(let de=0;de<h.length;de+=1)h[de].l($);$.forEach(u),le=D(j),A=r(j,"DIV",{class:!0});var x=f(A);N=r(x,"BUTTON",{type:!0});var me=f(N);ne=z(me,"Unban"),me.forEach(u),oe=D(x),L=r(x,"BUTTON",{type:!0});var ge=f(L);ie=z(ge,"Ban"),ge.forEach(u),x.forEach(u),j.forEach(u),H.forEach(u),re=D(_),Ne(C.$$.fragment,_),_.forEach(u),T.forEach(u),this.h()},h(){document.title="Shadowban | SponsorBlockControl",c(U,"for","uuid"),c(n,"id","uuid"),c(n,"type","text"),c(n,"size","64"),c(n,"placeholder","Users UUID..."),c(b,"id","hideoldsubmissions"),c(b,"type","checkbox"),c(V,"for","hideoldsubmissions"),c(y,"class","categories-to-hide svelte-135auq9"),y.hidden=Z=!a[1],c(N,"type","button"),N.disabled=Q=!a[3],c(L,"type","button"),L.disabled=X=!a[3],c(A,"class","actions"),c(l,"class","form svelte-135auq9"),Ue(l,"working",a[4]===K.WORKING),c(d,"class","container")},m(s,k){ce(s,o,k),ce(s,t,k),e(t,d),e(d,p),e(p,m),e(m,v),e(p,O),e(p,l),e(l,g),e(g,U),e(U,R),e(g,w),e(g,E),e(g,n),Ee(n,a[0]),e(l,B),e(l,I),e(I,b),b.checked=a[1],e(I,q),e(I,V),e(V,ee),e(l,te),e(l,y),e(y,J),e(J,se),e(y,ae);for(let T=0;T<h.length;T+=1)h[T].m(y,null);e(l,le),e(l,A),e(A,N),e(N,ne),e(A,oe),e(A,L),e(L,ie),e(d,re),Le(C,d,null),G=!0,ue||(he=[M(n,"input",a[6]),M(b,"change",a[7]),M(N,"click",a[10]),M(L,"click",a[11])],ue=!0)},p(s,[k]){if(k&1&&n.value!==s[0]&&Ee(n,s[0]),k&2&&(b.checked=s[1]),k&4){W=_e;let _;for(_=0;_<W.length;_+=1){const H=Ie(s,W,_);h[_]?h[_].p(H,k):(h[_]=ke(H),h[_].c(),h[_].m(y,null))}for(;_<h.length;_+=1)h[_].d(1);h.length=W.length}(!G||k&2&&Z!==(Z=!s[1]))&&(y.hidden=Z),(!G||k&8&&Q!==(Q=!s[3]))&&(N.disabled=Q),(!G||k&8&&X!==(X=!s[3]))&&(L.disabled=X),k&16&&Ue(l,"working",s[4]===K.WORKING);const T={};k&16&&(T.status=s[4]),C.$set(T)},i(s){G||(Te(C.$$.fragment,s),G=!0)},o(s){we(C.$$.fragment,s),G=!1},d(s){s&&u(o),s&&u(t),Be(h,s),Ve(C),ue=!1,Ae(he)}}}function Ke(a,o,t){let d;Ce(a,Ge,I=>t(12,d=I));let p="",m=!0,v=[..._e],O=!1,l=K.IDLE;async function g(I="ban"){t(4,l=K.WORKING);const b=new URLSearchParams;b.set("adminUserID",d.privateUUID),b.set("userID",p),b.set("enabled",(I==="ban").toString()),b.set("unHideOldSubmissions",m.toString()),b.set("categories",JSON.stringify(v));const q=await fetch(`${d.sponsorBlockApi}/api/shadowBanUser?${b}`,{method:"post"}).then(function(V){return V.status});q===200&&t(4,l=K.SUCCESS),q===400&&t(4,l=K.ERROR_INVALID),q===403&&t(4,l=K.ERROR_UNAUTHORIZED)}const U=[[]];function R(){p=this.value,t(0,p)}function w(){m=this.checked,t(1,m)}function E(){v=je(U[0],this.__value,this.checked),t(2,v)}const n=I=>{g("unban")},B=I=>{g("ban")};return a.$$.update=()=>{a.$$.dirty&1&&t(3,O=He(p))},[p,m,v,O,l,g,R,w,E,U,n,B]}class Qe extends Se{constructor(o){super();De(this,o,Ke,ze,ye,{})}}export{Qe as default};
