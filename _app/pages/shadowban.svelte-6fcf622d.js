import{S as De,i as Se,s as ye,e as i,k as D,t as K,c as r,a as f,m as S,h as P,d as u,b as c,g as ce,G as e,J as M,w as Re,R as Oe,x as Le,I as Ue,a1 as Ie,y as Ne,q as we,o as Be,K as Te,B as Ve,W as Ae,L as Ce,a7 as je}from"../chunks/vendor-029251f6.js";import{c as he,a as qe}from"../chunks/config-8bce724e.js";import{C as Ge}from"../chunks/config-b3d4a71f.js";import{a as He}from"../chunks/utils-3b98a7b3.js";import{a as Ke,S as W}from"../chunks/Status-95729226.js";import"../chunks/userInfo-a6af26e4.js";function Ee(a,o,t){const d=a.slice();return d[13]=o[t],d[15]=t,d}function ke(a){let o,t,d,p,m,v,R=qe[a[15]]+"",l,g,U,O,B;return{c(){o=i("div"),t=i("input"),m=D(),v=i("label"),l=K(R),U=D(),this.h()},l(I){o=r(I,"DIV",{class:!0});var n=f(o);t=r(n,"INPUT",{id:!0,type:!0}),m=S(n),v=r(n,"LABEL",{for:!0});var T=f(v);l=P(T,R),T.forEach(u),U=S(n),n.forEach(u),this.h()},h(){c(t,"id",d="category_"+a[13]),c(t,"type","checkbox"),t.__value=p=a[13],t.value=t.__value,a[9][0].push(t),c(v,"for",g="category_"+a[13]),c(o,"class","category-option svelte-135auq9")},m(I,n){ce(I,o,n),e(o,t),t.checked=~a[2].indexOf(t.__value),e(o,m),e(o,v),e(v,l),e(o,U),O||(B=M(t,"change",a[8]),O=!0)},p(I,n){n&4&&(t.checked=~I[2].indexOf(t.__value))},d(I){I&&u(o),a[9][0].splice(a[9][0].indexOf(t),1),O=!1,B()}}}function Pe(a){let o,t,d,p,m,v,R,l,g,U,O,B,I,n,T,E,b,q,V,ee,te,y,J,se,ae,Z,le,A,L,ne,Q,oe,N,ie,X,re,C,G,ue,_e,z=he,_=[];for(let s=0;s<z.length;s+=1)_[s]=ke(Ee(a,z,s));return C=new Ke({props:{status:a[4]}}),{c(){o=D(),t=i("main"),d=i("div"),p=i("fieldset"),m=i("legend"),v=K("Shadow ban user:"),R=D(),l=i("div"),g=i("div"),U=i("label"),O=K("User UUID:"),B=i("br"),I=D(),n=i("input"),T=D(),E=i("div"),b=i("input"),q=D(),V=i("label"),ee=K("Hide/Restore old submissions"),te=D(),y=i("div"),J=i("div"),se=K("Categories to hide:"),ae=D();for(let s=0;s<_.length;s+=1)_[s].c();le=D(),A=i("div"),L=i("button"),ne=K("Unban"),oe=D(),N=i("button"),ie=K("Ban"),re=D(),Re(C.$$.fragment),this.h()},l(s){Oe('[data-svelte="svelte-16ud56z"]',document.head).forEach(u),o=S(s),t=r(s,"MAIN",{});var w=f(t);d=r(w,"DIV",{class:!0});var h=f(d);p=r(h,"FIELDSET",{});var H=f(p);m=r(H,"LEGEND",{});var fe=f(m);v=P(fe,"Shadow ban user:"),fe.forEach(u),R=S(H),l=r(H,"DIV",{class:!0});var j=f(l);g=r(j,"DIV",{});var F=f(g);U=r(F,"LABEL",{for:!0});var pe=f(U);O=P(pe,"User UUID:"),pe.forEach(u),B=r(F,"BR",{}),I=S(F),n=r(F,"INPUT",{id:!0,type:!0,size:!0,placeholder:!0}),F.forEach(u),T=S(j),E=r(j,"DIV",{});var Y=f(E);b=r(Y,"INPUT",{id:!0,type:!0}),q=S(Y),V=r(Y,"LABEL",{for:!0});var ve=f(V);ee=P(ve,"Hide/Restore old submissions"),ve.forEach(u),Y.forEach(u),te=S(j),y=r(j,"DIV",{class:!0});var $=f(y);J=r($,"DIV",{});var be=f(J);se=P(be,"Categories to hide:"),be.forEach(u),ae=S($);for(let de=0;de<_.length;de+=1)_[de].l($);$.forEach(u),le=S(j),A=r(j,"DIV",{class:!0});var x=f(A);L=r(x,"BUTTON",{type:!0});var me=f(L);ne=P(me,"Unban"),me.forEach(u),oe=S(x),N=r(x,"BUTTON",{type:!0});var ge=f(N);ie=P(ge,"Ban"),ge.forEach(u),x.forEach(u),j.forEach(u),H.forEach(u),re=S(h),Le(C.$$.fragment,h),h.forEach(u),w.forEach(u),this.h()},h(){document.title="Shadowban | SponsorBlockControl",c(U,"for","uuid"),c(n,"id","uuid"),c(n,"type","text"),c(n,"size","64"),c(n,"placeholder","Users UUID..."),c(b,"id","hideoldsubmissions"),c(b,"type","checkbox"),c(V,"for","hideoldsubmissions"),c(y,"class","categories-to-hide svelte-135auq9"),y.hidden=Z=!a[1],c(L,"type","button"),L.disabled=Q=!a[3],c(N,"type","button"),N.disabled=X=!a[3],c(A,"class","actions"),c(l,"class","form svelte-135auq9"),Ue(l,"working",a[4]===W.WORKING),c(d,"class","container")},m(s,k){ce(s,o,k),ce(s,t,k),e(t,d),e(d,p),e(p,m),e(m,v),e(p,R),e(p,l),e(l,g),e(g,U),e(U,O),e(g,B),e(g,I),e(g,n),Ie(n,a[0]),e(l,T),e(l,E),e(E,b),b.checked=a[1],e(E,q),e(E,V),e(V,ee),e(l,te),e(l,y),e(y,J),e(J,se),e(y,ae);for(let w=0;w<_.length;w+=1)_[w].m(y,null);e(l,le),e(l,A),e(A,L),e(L,ne),e(A,oe),e(A,N),e(N,ie),e(d,re),Ne(C,d,null),G=!0,ue||(_e=[M(n,"input",a[6]),M(b,"change",a[7]),M(L,"click",a[10]),M(N,"click",a[11])],ue=!0)},p(s,[k]){if(k&1&&n.value!==s[0]&&Ie(n,s[0]),k&2&&(b.checked=s[1]),k&4){z=he;let h;for(h=0;h<z.length;h+=1){const H=Ee(s,z,h);_[h]?_[h].p(H,k):(_[h]=ke(H),_[h].c(),_[h].m(y,null))}for(;h<_.length;h+=1)_[h].d(1);_.length=z.length}(!G||k&2&&Z!==(Z=!s[1]))&&(y.hidden=Z),(!G||k&8&&Q!==(Q=!s[3]))&&(L.disabled=Q),(!G||k&8&&X!==(X=!s[3]))&&(N.disabled=X),k&16&&Ue(l,"working",s[4]===W.WORKING);const w={};k&16&&(w.status=s[4]),C.$set(w)},i(s){G||(we(C.$$.fragment,s),G=!0)},o(s){Be(C.$$.fragment,s),G=!1},d(s){s&&u(o),s&&u(t),Te(_,s),Ve(C),ue=!1,Ae(_e)}}}function We(a,o,t){let d;Ce(a,Ge,E=>t(12,d=E));let p="",m=!0,v=[...he],R=!1,l=W.IDLE;async function g(E="ban"){t(4,l=W.WORKING);const b=new URLSearchParams;b.set("adminUserID",d.privateUUID),b.set("userID",p),b.set("enabled",(E==="ban").toString()),b.set("unHideOldSubmissions",m.toString()),b.set("categories",JSON.stringify(v));const q=await fetch(`${d.sponsorBlockApi}/api/shadowBanUser?${b}`,{method:"post"}).then(function(V){return V.status});q===200&&t(4,l=W.SUCCESS),q===400&&t(4,l=W.ERROR_INVALID),q===403&&t(4,l=W.ERROR_UNAUTHORIZED)}const U=[[]];function O(){p=this.value,t(0,p)}function B(){m=this.checked,t(1,m)}function I(){v=je(U[0],this.__value,this.checked),t(2,v)}const n=E=>{g("unban")},T=E=>{g("ban")};return a.$$.update=()=>{a.$$.dirty&1&&t(3,R=He(p))},[p,m,v,R,l,g,O,B,I,U,n,T]}class Xe extends De{constructor(o){super();Se(this,o,We,Pe,ye,{})}}export{Xe as default};
