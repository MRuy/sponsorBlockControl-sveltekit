import{S as he,i as de,s as _e,e as m,t as C,k as B,c as g,a as b,h as T,d as c,m as j,b as y,g as $,G as e,j as F,w as me,R as ge,x as ve,I as le,a1 as re,y as pe,J as ie,q as be,o as we,K as ke,B as Ie,W as Ee,L as oe,v as De}from"../chunks/vendor-029251f6.js";import{C as ye}from"../chunks/config-b3d4a71f.js";import{a as Ue,S as W}from"../chunks/Status-95729226.js";import{p as Se}from"../chunks/stores-4307d1b5.js";import{g as Ce}from"../chunks/navigation-b10cf5bf.js";import"../chunks/singletons-4a680913.js";function ce(r,n,t){const l=r.slice();return l[9]=n[t],l}function ue(r){let n,t,l,f=r[1].warnings+"",o,v,_=(r[1].warnings===1?"warning":"warnings")+"",h,d,w,u,a=r[1].warningReason+"",k;return{c(){n=m("div"),t=m("b"),l=C("This UserID has "),o=C(f),v=C(" active "),h=C(_),d=C("!"),w=B(),u=m("blockquote"),k=C(a),this.h()},l(i){n=g(i,"DIV",{class:!0});var D=b(n);t=g(D,"B",{});var U=b(t);l=T(U,"This UserID has "),o=T(U,f),v=T(U," active "),h=T(U,_),d=T(U,"!"),U.forEach(c),w=j(D),u=g(D,"BLOCKQUOTE",{class:!0});var O=b(u);k=T(O,a),O.forEach(c),D.forEach(c),this.h()},h(){y(u,"class","svelte-m363ib"),y(n,"class","warning svelte-m363ib")},m(i,D){$(i,n,D),e(n,t),e(t,l),e(t,o),e(t,v),e(t,h),e(t,d),e(n,w),e(n,u),e(u,k)},p(i,D){D&2&&f!==(f=i[1].warnings+"")&&F(o,f),D&2&&_!==(_=(i[1].warnings===1?"warning":"warnings")+"")&&F(h,_),D&2&&a!==(a=i[1].warningReason+"")&&F(k,a)},d(i){i&&c(n)}}}function fe(r){var w;let n,t,l=r[9].title+"",f,o,v,_=((w=r[1][r[9].key])!=null?w:"")+"",h,d;return{c(){n=m("tr"),t=m("th"),f=C(l),o=B(),v=m("td"),h=C(_),d=B(),this.h()},l(u){n=g(u,"TR",{class:!0});var a=b(n);t=g(a,"TH",{class:!0});var k=b(t);f=T(k,l),k.forEach(c),o=j(a),v=g(a,"TD",{class:!0});var i=b(v);h=T(i,_),i.forEach(c),d=j(a),a.forEach(c),this.h()},h(){y(t,"class","svelte-m363ib"),y(v,"class","svelte-m363ib"),y(n,"class","svelte-m363ib")},m(u,a){$(u,n,a),e(n,t),e(t,f),e(n,o),e(n,v),e(v,h),e(n,d)},p(u,a){var k;a&2&&_!==(_=((k=u[1][u[9].key])!=null?k:"")+"")&&F(h,_)},d(u){u&&c(n)}}}function Te(r){var Z;let n,t,l,f,o,v,_,h,d,w,u,a,k,i,D,U,O,H,M,G,q,N,J,V,z,Q,X,I=((Z=r[1])==null?void 0:Z.warnings)>0&&ue(r),A=r[3],E=[];for(let s=0;s<A.length;s+=1)E[s]=fe(ce(r,A,s));return V=new Ue({props:{status:r[2]}}),{c(){n=B(),t=m("main"),l=m("div"),f=m("fieldset"),o=m("legend"),v=C("User Info:"),_=B(),h=m("div"),d=m("div"),w=m("label"),u=C("Public UserID:"),a=m("br"),k=B(),i=m("input"),D=B(),U=m("button"),O=C("View"),H=B(),I&&I.c(),M=B(),G=m("div"),q=m("table"),N=m("tbody");for(let s=0;s<E.length;s+=1)E[s].c();J=B(),me(V.$$.fragment),this.h()},l(s){ge('[data-svelte="svelte-ir5jg7"]',document.head).forEach(c),n=j(s),t=g(s,"MAIN",{});var L=b(t);l=g(L,"DIV",{class:!0});var S=b(l);f=g(S,"FIELDSET",{});var p=b(f);o=g(p,"LEGEND",{});var K=b(o);v=T(K,"User Info:"),K.forEach(c),_=j(p),h=g(p,"DIV",{class:!0});var x=b(h);d=g(x,"DIV",{});var P=b(d);w=g(P,"LABEL",{for:!0});var ee=b(w);u=T(ee,"Public UserID:"),ee.forEach(c),a=g(P,"BR",{}),k=j(P),i=g(P,"INPUT",{id:!0,type:!0,size:!0,placeholder:!0}),D=j(P),U=g(P,"BUTTON",{});var te=b(U);O=T(te,"View"),te.forEach(c),P.forEach(c),x.forEach(c),p.forEach(c),H=j(S),I&&I.l(S),M=j(S),G=g(S,"DIV",{});var se=b(G);q=g(se,"TABLE",{class:!0});var ne=b(q);N=g(ne,"TBODY",{class:!0});var ae=b(N);for(let Y=0;Y<E.length;Y+=1)E[Y].l(ae);ae.forEach(c),ne.forEach(c),se.forEach(c),J=j(S),ve(V.$$.fragment,S),S.forEach(c),L.forEach(c),this.h()},h(){document.title="UserInfo | SponsorBlockControl",y(w,"for","userid"),y(i,"id","userid"),y(i,"type","search"),y(i,"size","64"),y(i,"placeholder","Public UserID..."),y(h,"class","form svelte-m363ib"),le(h,"working",r[2]===W.WORKING),y(N,"class","svelte-m363ib"),y(q,"class","svelte-m363ib"),y(l,"class","container")},m(s,R){$(s,n,R),$(s,t,R),e(t,l),e(l,f),e(f,o),e(o,v),e(f,_),e(f,h),e(h,d),e(d,w),e(w,u),e(d,a),e(d,k),e(d,i),re(i,r[0]),e(d,D),e(d,U),e(U,O),e(l,H),I&&I.m(l,null),e(l,M),e(l,G),e(G,q),e(q,N);for(let L=0;L<E.length;L+=1)E[L].m(N,null);e(l,J),pe(V,l,null),z=!0,Q||(X=[ie(i,"input",r[5]),ie(U,"click",r[4])],Q=!0)},p(s,[R]){var S;if(R&1&&re(i,s[0]),R&4&&le(h,"working",s[2]===W.WORKING),((S=s[1])==null?void 0:S.warnings)>0?I?I.p(s,R):(I=ue(s),I.c(),I.m(l,M)):I&&(I.d(1),I=null),R&10){A=s[3];let p;for(p=0;p<A.length;p+=1){const K=ce(s,A,p);E[p]?E[p].p(K,R):(E[p]=fe(K),E[p].c(),E[p].m(N,null))}for(;p<E.length;p+=1)E[p].d(1);E.length=A.length}const L={};R&4&&(L.status=s[2]),V.$set(L)},i(s){z||(be(V.$$.fragment,s),z=!0)},o(s){we(V.$$.fragment,s),z=!1},d(s){s&&c(n),s&&c(t),I&&I.d(),ke(E,s),Ie(V),Q=!1,Ee(X)}}}function Re(r,n,t){let l,f;oe(r,ye,a=>t(6,l=a)),oe(r,Se,a=>t(7,f=a));let o="",v={warnings:0,warningReason:""},_=W.IDLE;const h=[{title:"Public User ID",key:"userID"},{title:"Username",key:"userName"},{title:"Minutes saved",key:"minutesSaved"},{title:"Segment count",key:"segmentCount"},{title:"ignoredSegmentCount",key:"ignoredSegmentCount"},{title:"viewCount",key:"viewCount"},{title:"ignoredViewCount",key:"ignoredViewCount"},{title:"warnings",key:"warnings"},{title:"warningReason",key:"warningReason"},{title:"reputation",key:"reputation"},{title:"vip",key:"vip"},{title:"lastSegmentID",key:"lastSegmentID"}];De(async()=>{const a=new URLSearchParams(window.location.search);a.has("publicUserID")&&(t(0,o=a.get("publicUserID")),await w())});async function d(){f.url.searchParams.set("publicUserID",o),Ce(`./userinfo/?publicUserID=${o}`),await w()}async function w(){t(2,_=W.WORKING);const a=await fetch(`${l.sponsorBlockApi}/api/userInfo?publicUserID=${o}`,{method:"get"}).then(async function(k){return await k.json()});t(2,_=W.SUCCESS),t(1,v=a)}function u(){o=this.value,t(0,o)}return[o,v,_,h,d,u]}class Oe extends he{constructor(n){super();de(this,n,Re,Te,_e,{})}}export{Oe as default};
