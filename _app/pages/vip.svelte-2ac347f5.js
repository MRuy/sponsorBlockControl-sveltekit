import{S as re,i as le,s as ie,k as R,e as i,t as L,j as de,P as ue,d as o,n as S,c as d,a as f,g as j,m as ce,b as h,G as ae,f as ne,E as e,a0 as oe,o as fe,H as Q,x as _e,u as pe,v as me,U as ve,J as he}from"../chunks/vendor-9fba9fd8.js";import{C as Ie}from"../chunks/config-c3a6b1a1.js";import{a as Ue}from"../chunks/utils-5593b12d.js";import{a as be,S as V}from"../chunks/Status-de6d2c9d.js";import"../chunks/userInfo-65a70c4e.js";function Ee(r){let D,s,a,u,k,p,m,g,A,P,n,l,_,T,W,z,c,H,I,U,$,B,F,b,J,q,M,E,N,Z,X;return E=new be({props:{status:r[2]}}),{c(){D=R(),s=i("main"),a=i("div"),u=i("p"),k=L("Only admins can do this!"),p=R(),m=i("fieldset"),g=i("legend"),A=L("Add/Remove VIP"),P=R(),n=i("div"),l=i("div"),_=i("label"),T=L("User UUID:"),W=i("br"),z=R(),c=i("input"),H=R(),I=i("div"),U=i("button"),$=L("Remove"),F=R(),b=i("button"),J=L("Add"),M=R(),de(E.$$.fragment),this.h()},l(t){ue('[data-svelte="svelte-g4qqnd"]',document.head).forEach(o),D=S(t),s=d(t,"MAIN",{});var y=f(s);a=d(y,"DIV",{class:!0});var O=f(a);u=d(O,"P",{class:!0});var Y=f(u);k=j(Y,"Only admins can do this!"),Y.forEach(o),p=S(O),m=d(O,"FIELDSET",{});var w=f(m);g=d(w,"LEGEND",{});var x=f(g);A=j(x,"Add/Remove VIP"),x.forEach(o),P=S(w),n=d(w,"DIV",{class:!0});var G=f(n);l=d(G,"DIV",{});var C=f(l);_=d(C,"LABEL",{for:!0});var ee=f(_);T=j(ee,"User UUID:"),ee.forEach(o),W=d(C,"BR",{}),z=S(C),c=d(C,"INPUT",{id:!0,type:!0,size:!0,placeholder:!0}),C.forEach(o),H=S(G),I=d(G,"DIV",{class:!0});var K=f(I);U=d(K,"BUTTON",{});var te=f(U);$=j(te,"Remove"),te.forEach(o),F=S(K),b=d(K,"BUTTON",{});var se=f(b);J=j(se,"Add"),se.forEach(o),K.forEach(o),G.forEach(o),w.forEach(o),M=S(O),ce(E.$$.fragment,O),O.forEach(o),y.forEach(o),this.h()},h(){document.title="VIP | SponsorBlockControl",h(u,"class","viprequired"),h(_,"for","uuid"),h(c,"id","uuid"),h(c,"type","text"),h(c,"size","64"),h(c,"placeholder","Users UUID..."),U.disabled=B=!r[1],b.disabled=q=!r[1],h(I,"class","actions"),h(n,"class","form svelte-fndrlu"),ae(n,"working",r[2]===V.WORKING),h(a,"class","container")},m(t,v){ne(t,D,v),ne(t,s,v),e(s,a),e(a,u),e(u,k),e(a,p),e(a,m),e(m,g),e(g,A),e(m,P),e(m,n),e(n,l),e(l,_),e(_,T),e(l,W),e(l,z),e(l,c),oe(c,r[0]),e(n,H),e(n,I),e(I,U),e(U,$),e(I,F),e(I,b),e(b,J),e(a,M),fe(E,a,null),N=!0,Z||(X=[Q(c,"input",r[5]),Q(U,"click",r[4]),Q(b,"click",r[3])],Z=!0)},p(t,[v]){v&1&&c.value!==t[0]&&oe(c,t[0]),(!N||v&2&&B!==(B=!t[1]))&&(U.disabled=B),(!N||v&2&&q!==(q=!t[1]))&&(b.disabled=q),v&4&&ae(n,"working",t[2]===V.WORKING);const y={};v&4&&(y.status=t[2]),E.$set(y)},i(t){N||(_e(E.$$.fragment,t),N=!0)},o(t){pe(E.$$.fragment,t),N=!1},d(t){t&&o(D),t&&o(s),me(E),Z=!1,ve(X)}}}function De(r,D,s){let a;he(r,Ie,n=>s(6,a=n));let u="",k=!1,p=V.IDLE;function m(){A("add")}function g(){A("remove")}async function A(n="add"){s(2,p=V.WORKING);const l=new URLSearchParams;l.set("adminUserID",a.privateUUID),l.set("userID",u),l.set("enabled",(n==="add").toString());const _=await fetch(`${a.sponsorBlockApi}/api/addUserAsVIP?${l}`,{method:"post"}).then(function(T){return T.status});_===200&&s(2,p=V.SUCCESS),_===400&&s(2,p=V.ERROR_INVALID),_===403&&s(2,p=V.ERROR_UNAUTHORIZED)}function P(){u=this.value,s(0,u)}return r.$$.update=()=>{r.$$.dirty&1&&s(1,k=Ue(u))},[u,k,p,m,g,P]}class Ae extends re{constructor(D){super();le(this,D,De,Ee,ie,{})}}export{Ae as default};
