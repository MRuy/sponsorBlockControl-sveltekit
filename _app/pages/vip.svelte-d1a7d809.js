import{S as re,i as le,s as ie,k as R,e as i,t as B,w as de,R as ue,d as o,m as S,c as d,a as f,h as C,x as ce,b as v,I as ae,g as ne,G as e,a1 as oe,y as fe,J as Q,q as _e,o as pe,B as me,W as he,L as ve}from"../chunks/vendor-029251f6.js";import{C as Ie}from"../chunks/config-b3d4a71f.js";import{a as Ue}from"../chunks/utils-3b98a7b3.js";import{a as be,S as V}from"../chunks/Status-95729226.js";import"../chunks/userInfo-a6af26e4.js";function Ee(r){let D,s,a,u,k,p,m,g,A,y,n,l,_,P,K,z,c,$,I,U,F,q,H,b,J,w,M,E,N,Z,X;return E=new be({props:{status:r[2]}}),{c(){D=R(),s=i("main"),a=i("div"),u=i("p"),k=B("Only admins can do this!"),p=R(),m=i("fieldset"),g=i("legend"),A=B("Add/Remove VIP"),y=R(),n=i("div"),l=i("div"),_=i("label"),P=B("User UUID:"),K=i("br"),z=R(),c=i("input"),$=R(),I=i("div"),U=i("button"),F=B("Remove"),H=R(),b=i("button"),J=B("Add"),M=R(),de(E.$$.fragment),this.h()},l(t){ue('[data-svelte="svelte-g4qqnd"]',document.head).forEach(o),D=S(t),s=d(t,"MAIN",{});var T=f(s);a=d(T,"DIV",{class:!0});var O=f(a);u=d(O,"P",{class:!0});var Y=f(u);k=C(Y,"Only admins can do this!"),Y.forEach(o),p=S(O),m=d(O,"FIELDSET",{});var j=f(m);g=d(j,"LEGEND",{});var x=f(g);A=C(x,"Add/Remove VIP"),x.forEach(o),y=S(j),n=d(j,"DIV",{class:!0});var G=f(n);l=d(G,"DIV",{});var L=f(l);_=d(L,"LABEL",{for:!0});var ee=f(_);P=C(ee,"User UUID:"),ee.forEach(o),K=d(L,"BR",{}),z=S(L),c=d(L,"INPUT",{id:!0,type:!0,size:!0,placeholder:!0}),L.forEach(o),$=S(G),I=d(G,"DIV",{class:!0});var W=f(I);U=d(W,"BUTTON",{});var te=f(U);F=C(te,"Remove"),te.forEach(o),H=S(W),b=d(W,"BUTTON",{});var se=f(b);J=C(se,"Add"),se.forEach(o),W.forEach(o),G.forEach(o),j.forEach(o),M=S(O),ce(E.$$.fragment,O),O.forEach(o),T.forEach(o),this.h()},h(){document.title="VIP | SponsorBlockControl",v(u,"class","viprequired"),v(_,"for","uuid"),v(c,"id","uuid"),v(c,"type","text"),v(c,"size","64"),v(c,"placeholder","Users UUID..."),U.disabled=q=!r[1],b.disabled=w=!r[1],v(I,"class","actions"),v(n,"class","form svelte-fndrlu"),ae(n,"working",r[2]===V.WORKING),v(a,"class","container")},m(t,h){ne(t,D,h),ne(t,s,h),e(s,a),e(a,u),e(u,k),e(a,p),e(a,m),e(m,g),e(g,A),e(m,y),e(m,n),e(n,l),e(l,_),e(_,P),e(l,K),e(l,z),e(l,c),oe(c,r[0]),e(n,$),e(n,I),e(I,U),e(U,F),e(I,H),e(I,b),e(b,J),e(a,M),fe(E,a,null),N=!0,Z||(X=[Q(c,"input",r[5]),Q(U,"click",r[4]),Q(b,"click",r[3])],Z=!0)},p(t,[h]){h&1&&c.value!==t[0]&&oe(c,t[0]),(!N||h&2&&q!==(q=!t[1]))&&(U.disabled=q),(!N||h&2&&w!==(w=!t[1]))&&(b.disabled=w),h&4&&ae(n,"working",t[2]===V.WORKING);const T={};h&4&&(T.status=t[2]),E.$set(T)},i(t){N||(_e(E.$$.fragment,t),N=!0)},o(t){pe(E.$$.fragment,t),N=!1},d(t){t&&o(D),t&&o(s),me(E),Z=!1,he(X)}}}function De(r,D,s){let a;ve(r,Ie,n=>s(6,a=n));let u="",k=!1,p=V.IDLE;function m(){A("add")}function g(){A("remove")}async function A(n="add"){s(2,p=V.WORKING);const l=new URLSearchParams;l.set("adminUserID",a.privateUUID),l.set("userID",u),l.set("enabled",(n==="add").toString());const _=await fetch(`${a.sponsorBlockApi}/api/addUserAsVIP?${l}`,{method:"post"}).then(function(P){return P.status});_===200&&s(2,p=V.SUCCESS),_===400&&s(2,p=V.ERROR_INVALID),_===403&&s(2,p=V.ERROR_UNAUTHORIZED)}function y(){u=this.value,s(0,u)}return r.$$.update=()=>{r.$$.dirty&1&&s(1,k=Ue(u))},[u,k,p,m,g,y]}class Ae extends re{constructor(D){super();le(this,D,De,Ee,ie,{})}}export{Ae as default};
