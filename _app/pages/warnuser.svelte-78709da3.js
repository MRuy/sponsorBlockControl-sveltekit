import{S as de,i as fe,s as _e,k as w,e as r,t as V,w as pe,R as he,d as o,m as S,c as l,a as f,h as j,x as me,b as u,I as ie,g as ce,G as e,a1 as M,y as be,J as G,q as ve,o as Ue,B as Ee,W as Ie,L as De}from"../chunks/vendor-029251f6.js";import{C as ge}from"../chunks/config-b3d4a71f.js";import{a as Re}from"../chunks/utils-3b98a7b3.js";import{a as ke,S as T}from"../chunks/Status-95729226.js";import"../chunks/userInfo-a6af26e4.js";function we(i){let y,s,_,c,v,U,h,n,m,D,N,q,z,a,L,d,g,X,Z,Q,p,Y,R,E,x,K,$,I,ee,J,te,k,W,se,ae;return k=new ke({props:{status:i[3]}}),{c(){y=w(),s=r("main"),_=r("div"),c=r("fieldset"),v=r("legend"),U=V("Warn user:"),h=w(),n=r("div"),m=r("div"),D=r("label"),N=V("User UUID:"),q=r("br"),z=w(),a=r("input"),L=w(),d=r("div"),g=r("label"),X=V("Warn Reason:"),Z=r("br"),Q=w(),p=r("textarea"),Y=w(),R=r("div"),E=r("button"),x=V("Unwarn"),$=w(),I=r("button"),ee=V("Warn"),te=w(),pe(k.$$.fragment),this.h()},l(t){he('[data-svelte="svelte-1exmmzl"]',document.head).forEach(o),y=S(t),s=l(t,"MAIN",{});var B=f(s);_=l(B,"DIV",{class:!0});var P=f(_);c=l(P,"FIELDSET",{});var F=f(c);v=l(F,"LEGEND",{});var ne=f(v);U=j(ne,"Warn user:"),ne.forEach(o),h=S(F),n=l(F,"DIV",{class:!0});var A=f(n);m=l(A,"DIV",{});var C=f(m);D=l(C,"LABEL",{for:!0});var re=f(D);N=j(re,"User UUID:"),re.forEach(o),q=l(C,"BR",{}),z=S(C),a=l(C,"INPUT",{id:!0,type:!0,size:!0,placeholder:!0}),C.forEach(o),L=S(A),d=l(A,"DIV",{});var O=f(d);g=l(O,"LABEL",{for:!0});var oe=f(g);X=j(oe,"Warn Reason:"),oe.forEach(o),Z=l(O,"BR",{}),Q=S(O),p=l(O,"TEXTAREA",{id:!0,cols:!0,rows:!0,placeholder:!0}),f(p).forEach(o),O.forEach(o),Y=S(A),R=l(A,"DIV",{class:!0});var H=f(R);E=l(H,"BUTTON",{type:!0});var le=f(E);x=j(le,"Unwarn"),le.forEach(o),$=S(H),I=l(H,"BUTTON",{type:!0});var ue=f(I);ee=j(ue,"Warn"),ue.forEach(o),H.forEach(o),A.forEach(o),F.forEach(o),te=S(P),me(k.$$.fragment,P),P.forEach(o),B.forEach(o),this.h()},h(){document.title="Warn user | SponsorBlockControl",u(D,"for","uuid"),u(a,"id","uuid"),u(a,"type","text"),u(a,"size","64"),u(a,"placeholder","User UUID..."),u(g,"for","reason"),u(p,"id","reason"),u(p,"cols","80"),u(p,"rows","3"),u(p,"placeholder","Reason..."),u(E,"type","button"),E.disabled=K=!i[1],u(I,"type","button"),I.disabled=J=!i[1],u(R,"class","actions"),u(n,"class","form svelte-fndrlu"),ie(n,"working",i[3]===T.WORKING),u(_,"class","container")},m(t,b){ce(t,y,b),ce(t,s,b),e(s,_),e(_,c),e(c,v),e(v,U),e(c,h),e(c,n),e(n,m),e(m,D),e(D,N),e(m,q),e(m,z),e(m,a),M(a,i[0]),e(n,L),e(n,d),e(d,g),e(g,X),e(d,Z),e(d,Q),e(d,p),M(p,i[2]),e(n,Y),e(n,R),e(R,E),e(E,x),e(R,$),e(R,I),e(I,ee),e(_,te),be(k,_,null),W=!0,se||(ae=[G(a,"input",i[5]),G(a,"input",i[6]),G(p,"input",i[7]),G(E,"click",i[8]),G(I,"click",i[9])],se=!0)},p(t,[b]){b&1&&a.value!==t[0]&&M(a,t[0]),b&4&&M(p,t[2]),(!W||b&2&&K!==(K=!t[1]))&&(E.disabled=K),(!W||b&2&&J!==(J=!t[1]))&&(I.disabled=J),b&8&&ie(n,"working",t[3]===T.WORKING);const B={};b&8&&(B.status=t[3]),k.$set(B)},i(t){W||(ve(k.$$.fragment,t),W=!0)},o(t){Ue(k.$$.fragment,t),W=!1},d(t){t&&o(y),t&&o(s),Ee(k),se=!1,Ie(ae)}}}function Se(i,y,s){let _;De(i,ge,a=>s(10,_=a));let c="",v=!1,U="",h=T.IDLE;async function n(a="warn"){s(3,h=T.WORKING);const L={issuerUserID:_.privateUUID,userID:c,reason:U,enabled:a==="warn"},d=await fetch(`${_.sponsorBlockApi}/api/warnUser`,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)}).then(function(g){return g.status});d===200&&(s(3,h=T.SUCCESS),s(0,c=""),s(1,v=!1),s(2,U="")),d===400&&s(3,h=T.ERROR_INVALID),d===403&&s(3,h=T.ERROR_UNAUTHORIZED),d===409&&s(3,h=T.DUPLICATE)}function m(){c=this.value,s(0,c)}const D=a=>{s(1,v=Re(c))};function N(){U=this.value,s(2,U)}return[c,v,U,h,n,m,D,N,a=>{n("unwarn")},a=>{n("warn")}]}class Le extends de{constructor(y){super();fe(this,y,Se,we,_e,{})}}export{Le as default};
